/*! For license information please see index.38dcdfb8.js.LICENSE.txt */
!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="./",n(n.s=89)}([function(e,t,n){"use strict";var i=n(7),o=n(9),a=n(2);var r=function(){var e=function(t){if(!t)return new o.a;if(t instanceof o.a)return t;if(Object(a.k)(t))return/complete|loaded|interactive/.test(document.readyState)&&document.body?t.call(document,e):document.addEventListener("DOMContentLoaded",(function(){return t.call(document,e)}),!1),new o.a([document]);if(Object(a.q)(t)){var n=t.trim();if("<"===n[0]&&">"===n[n.length-1]){var r="div";return Object(i.a)({li:"ul",tr:"tbody",td:"tr",th:"tr",tbody:"table",option:"select"},(function(e,t){if(0===n.indexOf("<"+e))return r=t,!1})),new o.a(Object(a.b)(n,r))}if(!("#"===t[0]&&!t.match(/[ .<>:~]/)))return new o.a(document.querySelectorAll(t));var s=document.getElementById(t.slice(1));return s?new o.a([s]):new o.a}return Object(a.f)(t)&&!Object(a.m)(t)?new o.a(t):new o.a([t])};return e.fn=o.a.prototype,e}();t.a=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));var i=n(17);function o(e,t,n){void 0===t&&(t={}),void 0===n&&(n=[]);var o=e.replace(/({.*?})/g,(function(e){var n=e.substr(1,e.length-2);if(null==t[n])throw new Error("Missing required parameter "+n);return String(t[n])})),a={};n.forEach((function(e){null!=t[e]&&(a[e]=String(t[e]))}));var r=Object(i.a)(a);return r?o+"?"+r:o}function a(e,t){var n={};return t.forEach((function(t){null!=e[t]&&(n[t]=e[t])})),n}},function(e,t,n){"use strict";function i(e){return"function"==typeof e}function o(e){return"string"==typeof e}function a(e){return"number"==typeof e}function r(e){return"boolean"==typeof e}function s(e){return void 0===e}function c(e){return null===e}function l(e){return e instanceof Window}function u(e){return e instanceof Document}function d(e){return e instanceof Element}function p(e){return e instanceof Node}function f(){return!!window.document.documentMode}function m(e){return!i(e)&&!l(e)&&a(e.length)}function h(e){return"object"==typeof e&&null!==e}function g(e){return u(e)?e.documentElement:e}function _(e){return e.replace(/^-ms-/,"ms-").replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function v(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}function b(e,t){return window.getComputedStyle(e).getPropertyValue(v(t))}function w(e){return"border-box"===b(e,"box-sizing")}function y(e,t,n){var i="width"===t?["Left","Right"]:["Top","Bottom"];return[0,1].reduce((function(t,o,a){var r=n+i[a];return"border"===n&&(r+="Width"),t+parseFloat(b(e,r)||"0")}),0)}function O(e,t){if("width"===t||"height"===t){var n=e.getBoundingClientRect()[t];return w(e)?n+"px":n-y(e,t,"border")-y(e,t,"padding")+"px"}return b(e,t)}function x(e,t){var n=document.createElement(t);return n.innerHTML=e,[].slice.call(n.childNodes)}function j(){return!1}n.d(t,"f",(function(){return m})),n.d(t,"p",(function(){return h})),n.d(t,"k",(function(){return i})),n.d(t,"q",(function(){return o})),n.d(t,"o",(function(){return a})),n.d(t,"g",(function(){return r})),n.d(t,"r",(function(){return s})),n.d(t,"n",(function(){return c})),n.d(t,"s",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"m",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"v",(function(){return g})),n.d(t,"u",(function(){return _})),n.d(t,"w",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"t",(function(){return j})),n.d(t,"a",(function(){return S}));var S=["animationIterationCount","columnCount","fillOpacity","flexGrow","flexShrink","fontWeight","gridArea","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineHeight","opacity","order","orphans","widows","zIndex","zoom"]},function(e,t,n){"use strict";var i=n(0),o=n(5);setTimeout((function(){return o.a.addClass("mdui-loaded")}));var a={$:i.a};t.a=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return d}));var i=n(10),o=n(2),a=n(12);if(Object(o.r)(i.a.adapter))throw new Error("adapter must be set. e.g. new BrowserAdapter() or new MiniProgramAdapter()");var r=function(e,t,n){var o={};i.a.methodOverride&&(e!==a.c&&e!==a.e||(o["X-Http-Method-Override"]=e,e=a.d),e===a.a&&(o["X-Http-Method-Override"]=e,e=a.b));var r=["application/json"];return"undefined"!=typeof document&&[].map&&0===document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")&&r.push("image/webp"),o.Accept=r.join(", "),i.a.adapter.request({method:e,url:t,data:n,headers:o})},s=function(e,t){return r(a.b,e,t)},c=function(e,t){return r(a.d,e,t)},l=function(e,t){return r(a.c,e,t)},u=function(e,t){return r(a.e,e,t)},d=function(e,t){return r(a.a,e,t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r}));var i=n(0),o=Object(i.a)(document),a=Object(i.a)(window),r=Object(i.a)("body")},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(3);function o(e){var t;t=999999===e.code?"网络错误":e.message?e.message:"未知错误",i.a.snackbar(t)}},function(e,t,n){"use strict";var i=n(2);t.a=function(e,t){if(Object(i.f)(e)){for(var n=0;n<e.length;n+=1)if(!1===t.call(e[n],n,e[n]))return e}else for(var o=Object.keys(e),a=0;a<o.length;a+=1)if(!1===t.call(e[o[a]],o[a],e[o[a]]))return e;return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return v})),n.d(t,"m",(function(){return b})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return j})),n.d(t,"s",(function(){return S})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return k})),n.d(t,"v",(function(){return C})),n.d(t,"w",(function(){return T}));var i=n(15),o=n.n(i),a=n(4),r=n(1),s=function(e){return Object(a.d)(Object(r.b)("/users/{user_id}/followers",e))},c=function(e){return Object(a.a)(Object(r.b)("/users/{user_id}/followers",e))},l=function(){return Object(a.a)(Object(r.b)("/user/avatar",{}))},u=function(){return Object(a.a)(Object(r.b)("/user/cover",{}))},d=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}",e,["include"]))},p=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}/answers",e,["page","per_page","order","include"]))},f=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}/articles",e,["page","per_page","order","include"]))},m=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}/followees",e,["page","per_page","include"]))},h=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}/followers",e,["page","per_page","include"]))},g=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/users",e,["page","per_page","order","include","user_id","username","email","disabled"]))},_=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/user/followees",e,["page","per_page","include"]))},v=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/user/followers",e,["page","per_page","include"]))},b=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/user/following_articles",e,["page","per_page","include"]))},w=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/user/following_questions",e,["page","per_page","include"]))},y=function(e){return void 0===e&&(e={}),Object(a.b)(Object(r.b)("/user/following_topics",e,["page","per_page","include"]))},O=function(e){return Object(a.b)(Object(r.b)("/users/{user_id}/questions",e,["page","per_page","order","include"]))},x=function(e){return e.password&&(e.password=o()(e.password)),Object(a.d)(Object(r.b)("/users",e,["include"]),Object(r.a)(e,["email","email_code","username","password"]))},j=function(e){return Object(a.d)(Object(r.b)("/user/password/email",e),Object(r.a)(e,["email","captcha_token","captcha_code"]))},S=function(e){return Object(a.d)(Object(r.b)("/user/register/email",e),Object(r.a)(e,["email","captcha_token","captcha_code"]))},E=function(e){return Object(a.c)(Object(r.b)("/user",e,["include"]),Object(r.a)(e,["headline","bio","blog","company","location"]))},k=function(e){return e.password&&(e.password=o()(e.password)),Object(a.e)(Object(r.b)("/user/password",e),Object(r.a)(e,["email","email_code","password"]))},C=function(e){var t=new FormData;return t.append("avatar",e.avatar),Object(a.d)(Object(r.b)("/user/avatar"),t)},T=function(e){var t=new FormData;return t.append("cover",e.cover),Object(a.d)(Object(r.b)("/user/cover"),t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(7),o=function(e){var t=this;return this.length=0,e?(Object(i.a)(e,(function(e,n){t[e]=n})),this.length=e.length,this):this}},function(e,t,n){"use strict";t.a={apiPath:"/api",methodOverride:!1,timeout:3e4}},function(module,__webpack_exports__,__webpack_require__){"use strict";var mdui_jq__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),mdui__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),mdclub_sdk_js_es_UserApi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8),_utils_func__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(13),_utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(6);__webpack_exports__.a={onUserPopoverCreate:function(e){var t=e.element,n=e.dataName,i=e.primaryKey;void 0===i&&(i=null);var o=e.primaryValue;return void 0===o&&(o=null),function(e,a){var r,s=Object(mdui_jq__WEBPACK_IMPORTED_MODULE_0__.a)(t),c=s.find(".user-popover-trigger"),l=s.find(".popover"),u=new mdui__WEBPACK_IMPORTED_MODULE_1__.a.Menu(c,l);c.on("mouseenter",(function(){r=setTimeout((function(){u.open(),a.loadUserForUserPopover({dataName:n,primaryKey:i,primaryValue:o})}),500)})).on("mouseleave",(function(){clearTimeout(r),r=null})),l.on("mouseleave",(function(){r&&(clearTimeout(r),r=null),u.close()}))}},loadUserForUserPopover:function(ref){var dataName=ref.dataName,primaryKey=ref.primaryKey,primaryValue=ref.primaryValue;return function(state,actions){var data=eval("state."+dataName),index,item;primaryKey&&(index=Object(_utils_func__WEBPACK_IMPORTED_MODULE_3__.a)(data,primaryKey,primaryValue),item=data[index]);var user_id=primaryKey?item.relationships.user.user_id:data.relationships.user.user_id;Object(mdclub_sdk_js_es_UserApi__WEBPACK_IMPORTED_MODULE_2__.e)({user_id:user_id,include:["is_followed","is_following","is_me"]}).then((function(e){var t;primaryKey?data[index].relationships.user=e.data:data.relationships.user=e.data,actions.setState(((t={})[dataName]=data,t))})).catch(_utils_errorHandler__WEBPACK_IMPORTED_MODULE_4__.a)}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return s}));var i="GET",o="POST",a="PUT",r="PATCH",s="DELETE"},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(7),o=function(e,t,n){var o;return Object(i.a)(e,(function(e,i){return i[t]!==n||(o=e,!1)})),o}},function(e,t){function n(e){Object.freeze(e);var t="function"==typeof e;return Object.getOwnPropertyNames(e).forEach((function(i){!Object.hasOwnProperty.call(e,i)||null===e[i]||"object"!=typeof e[i]&&"function"!=typeof e[i]||t&&("caller"===i||"callee"===i||"arguments"===i)||Object.isFrozen(e[i])||n(e[i])})),e}class i{constructor(e){void 0===e.data&&(e.data={}),this.data=e.data}ignoreMatch(){this.ignore=!0}}function o(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function a(e,...t){var n={};for(const t in e)n[t]=e[t];return t.forEach((function(e){for(const t in e)n[t]=e[t]})),n}function r(e){return e.nodeName.toLowerCase()}var s=Object.freeze({__proto__:null,escapeHTML:o,inherit:a,nodeStream:function(e){var t=[];return function e(n,i){for(var o=n.firstChild;o;o=o.nextSibling)3===o.nodeType?i+=o.nodeValue.length:1===o.nodeType&&(t.push({event:"start",offset:i,node:o}),i=e(o,i),r(o).match(/br|hr|img|input/)||t.push({event:"stop",offset:i,node:o}));return i}(e,0),t},mergeStreams:function(e,t,n){var i=0,a="",s=[];function c(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function l(e){a+="<"+r(e)+[].map.call(e.attributes,(function(e){return" "+e.nodeName+'="'+o(e.value)+'"'})).join("")+">"}function u(e){a+="</"+r(e)+">"}function d(e){("start"===e.event?l:u)(e.node)}for(;e.length||t.length;){var p=c();if(a+=o(n.substring(i,p[0].offset)),i=p[0].offset,p===e){s.reverse().forEach(u);do{d(p.splice(0,1)[0]),p=c()}while(p===e&&p.length&&p[0].offset===i);s.reverse().forEach(l)}else"start"===p[0].event?s.push(p[0].node):s.pop(),d(p.splice(0,1)[0])}return a+o(n.substr(i))}});const c=e=>!!e.kind;class l{constructor(e,t){this.buffer="",this.classPrefix=t.classPrefix,e.walk(this)}addText(e){this.buffer+=o(e)}openNode(e){if(!c(e))return;let t=e.kind;e.sublanguage||(t=`${this.classPrefix}${t}`),this.span(t)}closeNode(e){c(e)&&(this.buffer+="</span>")}value(){return this.buffer}span(e){this.buffer+=`<span class="${e}">`}}class u{constructor(){this.rootNode={children:[]},this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(e){this.top.children.push(e)}openNode(e){const t={kind:e,children:[]};this.add(t),this.stack.push(t)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(e){return this.constructor._walk(e,this.rootNode)}static _walk(e,t){return"string"==typeof t?e.addText(t):t.children&&(e.openNode(t),t.children.forEach(t=>this._walk(e,t)),e.closeNode(t)),e}static _collapse(e){"string"!=typeof e&&e.children&&(e.children.every(e=>"string"==typeof e)?e.children=[e.children.join("")]:e.children.forEach(e=>{u._collapse(e)}))}}class d extends u{constructor(e){super(),this.options=e}addKeyword(e,t){""!==e&&(this.openNode(t),this.addText(e),this.closeNode())}addText(e){""!==e&&this.add(e)}addSublanguage(e,t){const n=e.root;n.kind=t,n.sublanguage=!0,this.add(n)}toHTML(){return new l(this,this.options).value()}finalize(){return!0}}function p(e){return e?"string"==typeof e?e:e.source:null}const f="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",m={begin:"\\\\[\\s\\S]",relevance:0},h={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[m]},g={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[m]},_={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},v=function(e,t,n={}){var i=a({className:"comment",begin:e,end:t,contains:[]},n);return i.contains.push(_),i.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):",relevance:0}),i},b=v("//","$"),w=v("/\\*","\\*/"),y=v("#","$"),O={className:"number",begin:"\\b\\d+(\\.\\d+)?",relevance:0},x={className:"number",begin:f,relevance:0},j={className:"number",begin:"\\b(0b[01]+)",relevance:0},S={className:"number",begin:"\\b\\d+(\\.\\d+)?(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},E={begin:/(?=\/[^/\n]*\/)/,contains:[{className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[m,{begin:/\[/,end:/\]/,relevance:0,contains:[m]}]}]},k={className:"title",begin:"[a-zA-Z]\\w*",relevance:0},C={className:"title",begin:"[a-zA-Z_]\\w*",relevance:0},T={begin:"\\.\\s*[a-zA-Z_]\\w*",relevance:0};var I=Object.freeze({__proto__:null,IDENT_RE:"[a-zA-Z]\\w*",UNDERSCORE_IDENT_RE:"[a-zA-Z_]\\w*",NUMBER_RE:"\\b\\d+(\\.\\d+)?",C_NUMBER_RE:f,BINARY_NUMBER_RE:"\\b(0b[01]+)",RE_STARTERS_RE:"!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",SHEBANG:(e={})=>{const t=/^#![ ]*\//;return e.binary&&(e.begin=function(...e){return e.map(e=>p(e)).join("")}(t,/.*\b/,e.binary,/\b.*/)),a({className:"meta",begin:t,end:/$/,relevance:0,"on:begin":(e,t)=>{0!==e.index&&t.ignoreMatch()}},e)},BACKSLASH_ESCAPE:m,APOS_STRING_MODE:h,QUOTE_STRING_MODE:g,PHRASAL_WORDS_MODE:_,COMMENT:v,C_LINE_COMMENT_MODE:b,C_BLOCK_COMMENT_MODE:w,HASH_COMMENT_MODE:y,NUMBER_MODE:O,C_NUMBER_MODE:x,BINARY_NUMBER_MODE:j,CSS_NUMBER_MODE:S,REGEXP_MODE:E,TITLE_MODE:k,UNDERSCORE_TITLE_MODE:C,METHOD_GUARD:T,END_SAME_AS_BEGIN:function(e){return Object.assign(e,{"on:begin":(e,t)=>{t.data._beginMatch=e[1]},"on:end":(e,t)=>{t.data._beginMatch!==e[1]&&t.ignoreMatch()}})}}),N="of and for in not or if then".split(" ");function R(e){function t(t,n){return new RegExp(p(t),"m"+(e.case_insensitive?"i":"")+(n?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(e,t){t.position=this.position++,this.matchIndexes[this.matchAt]=t,this.regexes.push([t,e]),this.matchAt+=function(e){return new RegExp(e.toString()+"|").exec("").length-1}(e)+1}compile(){0===this.regexes.length&&(this.exec=()=>null);const e=this.regexes.map(e=>e[1]);this.matcherRe=t(function(e,t="|"){for(var n=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./,i=0,o="",a=0;a<e.length;a++){var r=i+=1,s=p(e[a]);for(a>0&&(o+=t),o+="(";s.length>0;){var c=n.exec(s);if(null==c){o+=s;break}o+=s.substring(0,c.index),s=s.substring(c.index+c[0].length),"\\"===c[0][0]&&c[1]?o+="\\"+String(Number(c[1])+r):(o+=c[0],"("===c[0]&&i++)}o+=")"}return o}(e),!0),this.lastIndex=0}exec(e){this.matcherRe.lastIndex=this.lastIndex;const t=this.matcherRe.exec(e);if(!t)return null;const n=t.findIndex((e,t)=>t>0&&void 0!==e),i=this.matchIndexes[n];return t.splice(0,n),Object.assign(t,i)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(e){if(this.multiRegexes[e])return this.multiRegexes[e];const t=new n;return this.rules.slice(e).forEach(([e,n])=>t.addRule(e,n)),t.compile(),this.multiRegexes[e]=t,t}considerAll(){this.regexIndex=0}addRule(e,t){this.rules.push([e,t]),"begin"===t.type&&this.count++}exec(e){const t=this.getMatcher(this.regexIndex);t.lastIndex=this.lastIndex;const n=t.exec(e);return n&&(this.regexIndex+=n.position+1,this.regexIndex===this.count&&(this.regexIndex=0)),n}}function o(e,t){const n=e.input[e.index-1],i=e.input[e.index+e[0].length];"."!==n&&"."!==i||t.ignoreMatch()}if(e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return function n(r,s){const c=r;if(r.compiled)return c;r.compiled=!0,r.__beforeBegin=null,r.keywords=r.keywords||r.beginKeywords;let l=null;if("object"==typeof r.keywords&&(l=r.keywords.$pattern,delete r.keywords.$pattern),r.keywords&&(r.keywords=function(e,t){var n={};"string"==typeof e?i("keyword",e):Object.keys(e).forEach((function(t){i(t,e[t])}));return n;function i(e,i){t&&(i=i.toLowerCase()),i.split(" ").forEach((function(t){var i=t.split("|");n[i[0]]=[e,D(i[0],i[1])]}))}}(r.keywords,e.case_insensitive)),r.lexemes&&l)throw new Error("ERR: Prefer `keywords.$pattern` to `mode.lexemes`, BOTH are not allowed. (see mode reference) ");return c.keywordPatternRe=t(r.lexemes||l||/\w+/,!0),s&&(r.beginKeywords&&(r.begin="\\b("+r.beginKeywords.split(" ").join("|")+")(?=\\b|\\s)",r.__beforeBegin=o),r.begin||(r.begin=/\B|\b/),c.beginRe=t(r.begin),r.endSameAsBegin&&(r.end=r.begin),r.end||r.endsWithParent||(r.end=/\B|\b/),r.end&&(c.endRe=t(r.end)),c.terminator_end=p(r.end)||"",r.endsWithParent&&s.terminator_end&&(c.terminator_end+=(r.end?"|":"")+s.terminator_end)),r.illegal&&(c.illegalRe=t(r.illegal)),void 0===r.relevance&&(r.relevance=1),r.contains||(r.contains=[]),r.contains=[].concat(...r.contains.map((function(e){return function(e){e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map((function(t){return a(e,{variants:null},t)})));if(e.cached_variants)return e.cached_variants;if(function e(t){return!!t&&(t.endsWithParent||e(t.starts))}(e))return a(e,{starts:e.starts?a(e.starts):null});if(Object.isFrozen(e))return a(e);return e}("self"===e?r:e)}))),r.contains.forEach((function(e){n(e,c)})),r.starts&&n(r.starts,s),c.matcher=function(e){const t=new i;return e.contains.forEach(e=>t.addRule(e.begin,{rule:e,type:"begin"})),e.terminator_end&&t.addRule(e.terminator_end,{type:"end"}),e.illegal&&t.addRule(e.illegal,{type:"illegal"}),t}(c),c}(e)}function D(e,t){return t?Number(t):function(e){return N.includes(e.toLowerCase())}(e)?0:1}const M=o,q=a,{nodeStream:A,mergeStreams:L}=s,$=Symbol("nomatch");var P=function(e){var t=[],o=Object.create(null),a=Object.create(null),r=[],s=!0,c=/(^(<[^>]+>|\t|)+|\n)/gm,l="Could not find the language '{}', did you forget to load/include a language module?";const u={disableAutodetect:!0,name:"Plain text",contains:[]};var p={noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:null,__emitter:d};function f(e){return p.noHighlightRe.test(e)}function m(e,t,n,i){var o={code:t,language:e};x("before:highlight",o);var a=o.result?o.result:h(o.language,o.code,n,i);return a.code=o.code,x("after:highlight",a),a}function h(e,t,n,a){var r=t;function c(e,t){var n=y.case_insensitive?t[0].toLowerCase():t[0];return Object.prototype.hasOwnProperty.call(e.keywords,n)&&e.keywords[n]}function u(){null!=j.subLanguage?function(){if(""!==k){var e=null;if("string"==typeof j.subLanguage){if(!o[j.subLanguage])return void E.addText(k);e=h(j.subLanguage,k,!0,S[j.subLanguage]),S[j.subLanguage]=e.top}else e=g(k,j.subLanguage.length?j.subLanguage:null);j.relevance>0&&(C+=e.relevance),E.addSublanguage(e.emitter,e.language)}}():function(){if(!j.keywords)return void E.addText(k);let e=0;j.keywordPatternRe.lastIndex=0;let t=j.keywordPatternRe.exec(k),n="";for(;t;){n+=k.substring(e,t.index);const i=c(j,t);if(i){const[e,o]=i;E.addText(n),n="",C+=o,E.addKeyword(t[0],e)}else n+=t[0];e=j.keywordPatternRe.lastIndex,t=j.keywordPatternRe.exec(k)}n+=k.substr(e),E.addText(n)}(),k=""}function d(e){return e.className&&E.openNode(e.className),j=Object.create(e,{parent:{value:j}})}function f(e){return 0===j.matcher.regexIndex?(k+=e[0],1):(N=!0,0)}function m(e){var t=e[0],n=e.rule;const o=new i(n),a=[n.__beforeBegin,n["on:begin"]];for(const n of a)if(n&&(n(e,o),o.ignore))return f(t);return n&&n.endSameAsBegin&&(n.endRe=new RegExp(t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"),"m")),n.skip?k+=t:(n.excludeBegin&&(k+=t),u(),n.returnBegin||n.excludeBegin||(k=t)),d(n),n.returnBegin?0:t.length}function _(e){var t=e[0],n=r.substr(e.index),o=function e(t,n,o){let a=function(e,t){var n=e&&e.exec(t);return n&&0===n.index}(t.endRe,o);if(a){if(t["on:end"]){const e=new i(t);t["on:end"](n,e),e.ignore&&(a=!1)}if(a){for(;t.endsParent&&t.parent;)t=t.parent;return t}}if(t.endsWithParent)return e(t.parent,n,o)}(j,e,n);if(!o)return $;var a=j;a.skip?k+=t:(a.returnEnd||a.excludeEnd||(k+=t),u(),a.excludeEnd&&(k=t));do{j.className&&E.closeNode(),j.skip||j.subLanguage||(C+=j.relevance),j=j.parent}while(j!==o.parent);return o.starts&&(o.endSameAsBegin&&(o.starts.endRe=o.endRe),d(o.starts)),a.returnEnd?0:t.length}var v={};function b(t,i){var o=i&&i[0];if(k+=t,null==o)return u(),0;if("begin"===v.type&&"end"===i.type&&v.index===i.index&&""===o){if(k+=r.slice(i.index,i.index+1),!s){const t=new Error("0 width match regex");throw t.languageName=e,t.badRule=v.rule,t}return 1}if(v=i,"begin"===i.type)return m(i);if("illegal"===i.type&&!n){const e=new Error('Illegal lexeme "'+o+'" for mode "'+(j.className||"<unnamed>")+'"');throw e.mode=j,e}if("end"===i.type){var a=_(i);if(a!==$)return a}if("illegal"===i.type&&""===o)return 1;if(I>1e5&&I>3*i.index){throw new Error("potential infinite loop, way more iterations than matches")}return k+=o,o.length}var y=w(e);if(!y)throw console.error(l.replace("{}",e)),new Error('Unknown language: "'+e+'"');var O=R(y),x="",j=a||O,S={},E=new p.__emitter(p);!function(){for(var e=[],t=j;t!==y;t=t.parent)t.className&&e.unshift(t.className);e.forEach(e=>E.openNode(e))}();var k="",C=0,T=0,I=0,N=!1;try{for(j.matcher.considerAll();;){I++,N?N=!1:(j.matcher.lastIndex=T,j.matcher.considerAll());const e=j.matcher.exec(r);if(!e)break;const t=b(r.substring(T,e.index),e);T=e.index+t}return b(r.substr(T)),E.closeAllNodes(),E.finalize(),x=E.toHTML(),{relevance:C,value:x,language:e,illegal:!1,emitter:E,top:j}}catch(t){if(t.message&&t.message.includes("Illegal"))return{illegal:!0,illegalBy:{msg:t.message,context:r.slice(T-100,T+100),mode:t.mode},sofar:x,relevance:0,value:M(r),emitter:E};if(s)return{illegal:!1,relevance:0,value:M(r),emitter:E,language:e,top:j,errorRaised:t};throw t}}function g(e,t){t=t||p.languages||Object.keys(o);var n=function(e){const t={relevance:0,emitter:new p.__emitter(p),value:M(e),illegal:!1,top:u};return t.emitter.addText(e),t}(e),i=n;return t.filter(w).filter(O).forEach((function(t){var o=h(t,e,!1);o.language=t,o.relevance>i.relevance&&(i=o),o.relevance>n.relevance&&(i=n,n=o)})),i.language&&(n.second_best=i),n}function _(e){return p.tabReplace||p.useBR?e.replace(c,e=>"\n"===e?p.useBR?"<br>":e:p.tabReplace?e.replace(/\t/g,p.tabReplace):e):e}function v(e){let t=null;const n=function(e){var t=e.className+" ";t+=e.parentNode?e.parentNode.className:"";const n=p.languageDetectRe.exec(t);if(n){var i=w(n[1]);return i||(console.warn(l.replace("{}",n[1])),console.warn("Falling back to no-highlight mode for this block.",e)),i?n[1]:"no-highlight"}return t.split(/\s+/).find(e=>f(e)||w(e))}(e);if(f(n))return;x("before:highlightBlock",{block:e,language:n}),p.useBR?(t=document.createElement("div"),t.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ /]*>/g,"\n")):t=e;const i=t.textContent,o=n?m(n,i,!0):g(i),r=A(t);if(r.length){const e=document.createElement("div");e.innerHTML=o.value,o.value=L(r,A(e),i)}o.value=_(o.value),x("after:highlightBlock",{block:e,result:o}),e.innerHTML=o.value,e.className=function(e,t,n){var i=t?a[t]:n,o=[e.trim()];return e.match(/\bhljs\b/)||o.push("hljs"),e.includes(i)||o.push(i),o.join(" ").trim()}(e.className,n,o.language),e.result={language:o.language,re:o.relevance,relavance:o.relevance},o.second_best&&(e.second_best={language:o.second_best.language,re:o.second_best.relevance,relavance:o.second_best.relevance})}const b=()=>{if(!b.called){b.called=!0;var e=document.querySelectorAll("pre code");t.forEach.call(e,v)}};function w(e){return e=(e||"").toLowerCase(),o[e]||o[a[e]]}function y(e,{languageName:t}){"string"==typeof e&&(e=[e]),e.forEach(e=>{a[e]=t})}function O(e){var t=w(e);return t&&!t.disableAutodetect}function x(e,t){var n=e;r.forEach((function(e){e[n]&&e[n](t)}))}Object.assign(e,{highlight:m,highlightAuto:g,fixMarkup:_,highlightBlock:v,configure:function(e){p=q(p,e)},initHighlighting:b,initHighlightingOnLoad:function(){window.addEventListener("DOMContentLoaded",b,!1)},registerLanguage:function(t,n){var i=null;try{i=n(e)}catch(e){if(console.error("Language definition for '{}' could not be registered.".replace("{}",t)),!s)throw e;console.error(e),i=u}i.name||(i.name=t),o[t]=i,i.rawDefinition=n.bind(null,e),i.aliases&&y(i.aliases,{languageName:t})},listLanguages:function(){return Object.keys(o)},getLanguage:w,registerAliases:y,requireLanguage:function(e){var t=w(e);if(t)return t;throw new Error("The '{}' language is required, but not loaded.".replace("{}",e))},autoDetection:O,inherit:q,addPlugin:function(e){r.push(e)}}),e.debugMode=function(){s=!1},e.safeMode=function(){s=!0},e.versionString="10.1.2";for(const e in I)"object"==typeof I[e]&&n(I[e]);return Object.assign(e,I),e}({});e.exports=P},function(e,t,n){e.exports=function(){"use strict";function e(e,t,n,i){return e<20?t&n|~t&i:e<40?t^n^i:e<60?t&n|t&i|n&i:t^n^i}function t(e){return e<20?1518500249:e<40?1859775393:e<60?2400959708:3395469782}function n(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t){return e<<t|e>>>32-t}return function(o){return function(e){var t,n="";for(t=0;t<4*e.length;t++)n+="0123456789abcdef".charAt(e[t>>2]>>8*(3-t%4)+4&15)+"0123456789abcdef".charAt(e[t>>2]>>8*(3-t%4)&15);return n}(function(o){var a,r,s,c,l,u,d,p,f=[],m=1732584193,h=4023233417,g=2562383102,_=271733878,v=3285377520;for(d=0;d<o.length;d+=16){for(a=m,r=h,s=g,c=_,l=v,p=0;p<80;p++)f[p]=p<16?o[d+p]:i(f[p-3]^f[p-8]^f[p-14]^f[p-16],1),u=n(n(i(m,5),e(p,h,g,_)),n(n(v,f[p]),t(p))),v=_,_=g,g=i(h,30),h=m,m=u;m=n(m,a),h=n(h,r),g=n(g,s),_=n(_,c),v=n(v,l)}return[m,h,g,_,v]}(function(e){var t,n=1+(e.length+8>>6),i=[];for(t=0;t<16*n;t++)i[t]=0;for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<24-8*(3&t);return i[t>>2]|=128<<24-8*(3&t),i[16*n-1]=8*e.length,i}(o)))}}()},function(e,t,n){"use strict";var i=/(?=(YYYY|YY|MM|DD|HH|mm|ss|ms))\1([:\/]*)/g,o={YYYY:["getFullYear",4],YY:["getFullYear",2],MM:["getMonth",2,1],DD:["getDate",2],HH:["getHours",2],mm:["getMinutes",2],ss:["getSeconds",2],ms:["getMilliseconds",3]},a=function(e,t,n){return"string"!=typeof e&&(t=e,e="YYYY-MM-DD"),t||(t=new Date),e.replace(i,(function(e,i,a){var r=o[i],s=r[0],c=r[1];return!0===n&&(s="getUTC"+s.slice(3)),("00"+String(t[s]()+(r[2]||0))).slice(-c)+(a||"")}))};a.utc=function(e,t){return a(e,t,!0)},e.exports=a},function(e,t,n){"use strict";var i=n(2),o=n(7);t.a=function(e){if(!Object(i.p)(e)&&!Array.isArray(e))return"";var t=[];function n(e,a){var r;Object(i.p)(a)?Object(o.a)(a,(function(t,o){r=Array.isArray(a)&&!Object(i.p)(o)?"":t,n(e+"["+r+"]",o)})):(r=null==a||""===a?"=":"="+encodeURIComponent(a),t.push(encodeURIComponent(e)+r))}return Array.isArray(e)?Object(o.a)(e,(function(){n(this.name,this.value)})):Object(o.a)(e,n),t.join("&")}},function(e,t){e.exports=function(e){var t={className:"symbol",begin:"&[a-z]+;|&#[0-9]+;|&#x[a-f0-9]+;"},n={begin:"\\s",contains:[{className:"meta-keyword",begin:"#?[a-z_][a-z1-9_-]+",illegal:"\\n"}]},i=e.inherit(n,{begin:"\\(",end:"\\)"}),o=e.inherit(e.APOS_STRING_MODE,{className:"meta-string"}),a=e.inherit(e.QUOTE_STRING_MODE,{className:"meta-string"}),r={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/,contains:[t]},{begin:/'/,end:/'/,contains:[t]},{begin:/[^\s"'=<>`]+/}]}]}]};return{name:"HTML, XML",aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist","wsf","svg"],case_insensitive:!0,contains:[{className:"meta",begin:"<![a-z]",end:">",relevance:10,contains:[n,a,o,i,{begin:"\\[",end:"\\]",contains:[{className:"meta",begin:"<![a-z]",end:">",contains:[n,i,a,o]}]}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},t,{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{className:"tag",begin:"<style(?=\\s|>)",end:">",keywords:{name:"style"},contains:[r],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>)",end:">",keywords:{name:"script"},contains:[r],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},r]}]}}},function(e,t){e.exports=function(e){var t={begin:/(?:[A-Z\_\.\-]+|--[a-zA-Z0-9_-]+)\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{name:"CSS",case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$",contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(page|font-face)",lexemes:"@[a-z-]+",keywords:"@page @font-face"},{begin:"@",end:"[{;]",illegal:/:/,returnBegin:!0,contains:[{className:"keyword",begin:/@\-?\w[\w]*(\-\w+)*/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,keywords:"and or not only",contains:[{begin:/[a-z-]+:/,className:"attribute"},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,t]}]}}},function(e,t){const n=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],i=["true","false","null","undefined","NaN","Infinity"],o=[].concat(["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],["arguments","this","super","console","window","document","localStorage","module","global"],["Intl","DataView","Number","Math","Date","String","RegExp","Object","Function","Boolean","Error","Symbol","Set","Map","WeakSet","WeakMap","Proxy","Reflect","JSON","Promise","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Float32Array","Array","Uint8Array","Uint8ClampedArray","ArrayBuffer"],["EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"]);function a(e){return r("(?=",e,")")}function r(...e){return e.map(e=>{return(t=e)?"string"==typeof t?t:t.source:null;var t}).join("")}e.exports=function(e){var t="[A-Za-z$_][0-9A-Za-z$_]*",s="<>",c="</>",l={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/},u={$pattern:"[A-Za-z$_][0-9A-Za-z$_]*",keyword:n.join(" "),literal:i.join(" "),built_in:o.join(" ")},d={className:"number",variants:[{begin:"\\b(0[bB][01]+)n?"},{begin:"\\b(0[oO][0-7]+)n?"},{begin:e.C_NUMBER_RE+"n?"}],relevance:0},p={className:"subst",begin:"\\$\\{",end:"\\}",keywords:u,contains:[]},f={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"xml"}},m={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,p],subLanguage:"css"}},h={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,p]};p.contains=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,d,e.REGEXP_MODE];var g=p.contains.concat([{begin:/\(/,end:/\)/,contains:["self"].concat(p.contains,[e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE])},e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]),_={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,contains:g};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:u,contains:[e.SHEBANG({binary:"node",relevance:5}),{className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,f,m,h,e.C_LINE_COMMENT_MODE,e.COMMENT("/\\*\\*","\\*/",{relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+",contains:[{className:"type",begin:"\\{",end:"\\}",relevance:0},{className:"variable",begin:t+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,d,{begin:r(/[{,\n]\s*/,a(r(/(((\/\/.*)|(\/\*(.|\n)*\*\/))\s*)*/,t+"\\s*:"))),relevance:0,contains:[{className:"attr",begin:t+a("\\s*:"),relevance:0}]},{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,e.REGEXP_MODE,{className:"function",begin:"(\\([^(]*(\\([^(]*(\\([^(]*\\))?\\))?\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:u,contains:g}]}]},{begin:/,/,relevance:0},{className:"",begin:/\s/,end:/\s*/,skip:!0},{variants:[{begin:s,end:c},{begin:l.begin,end:l.end}],subLanguage:"xml",contains:[{begin:l.begin,end:l.end,skip:!0,contains:["self"]}]}],relevance:0},{className:"function",beginKeywords:"function",end:/\{/,excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:t}),_],illegal:/\[|%/},{begin:/\$[(.]/},e.METHOD_GUARD,{className:"class",beginKeywords:"class",end:/[{;=]/,excludeEnd:!0,illegal:/[:"\[\]]/,contains:[{beginKeywords:"extends"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"constructor",end:/\{/,excludeEnd:!0},{begin:"(get|set)\\s+(?="+t+"\\()",end:/{/,keywords:"get set",contains:[e.inherit(e.TITLE_MODE,{begin:t}),{begin:/\(\)/},_]}],illegal:/#(?!!)/}}},function(e,t){e.exports=function(e){var t={literal:"true false null"},n=[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],i=[e.QUOTE_STRING_MODE,e.C_NUMBER_MODE],o={end:",",endsWithParent:!0,excludeEnd:!0,contains:i,keywords:t},a={begin:"{",end:"}",contains:[{className:"attr",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE],illegal:"\\n"},e.inherit(o,{begin:/:/})].concat(n),illegal:"\\S"},r={begin:"\\[",end:"\\]",contains:[e.inherit(o)],illegal:"\\S"};return i.push(a,r),n.forEach((function(e){i.push(e)})),{name:"JSON",contains:i,keywords:t,illegal:"\\S"}}},function(e,t){e.exports=function(e){var t={begin:"\\$+[a-zA-Z_-ÿ][a-zA-Z0-9_-ÿ]*"},n={className:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?[=]?/},{begin:/\?>/}]},i={className:"string",contains:[e.BACKSLASH_ESCAPE,n],variants:[{begin:'b"',end:'"'},{begin:"b'",end:"'"},e.inherit(e.APOS_STRING_MODE,{illegal:null}),e.inherit(e.QUOTE_STRING_MODE,{illegal:null})]},o={variants:[e.BINARY_NUMBER_MODE,e.C_NUMBER_MODE]},a={keyword:"__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ die echo exit include include_once print require require_once array abstract and as binary bool boolean break callable case catch class clone const continue declare default do double else elseif empty enddeclare endfor endforeach endif endswitch endwhile eval extends final finally float for foreach from global goto if implements instanceof insteadof int integer interface isset iterable list new object or private protected public real return string switch throw trait try unset use var void while xor yield",literal:"false null true",built_in:"Error|0 AppendIterator ArgumentCountError ArithmeticError ArrayIterator ArrayObject AssertionError BadFunctionCallException BadMethodCallException CachingIterator CallbackFilterIterator CompileError Countable DirectoryIterator DivisionByZeroError DomainException EmptyIterator ErrorException Exception FilesystemIterator FilterIterator GlobIterator InfiniteIterator InvalidArgumentException IteratorIterator LengthException LimitIterator LogicException MultipleIterator NoRewindIterator OutOfBoundsException OutOfRangeException OuterIterator OverflowException ParentIterator ParseError RangeException RecursiveArrayIterator RecursiveCachingIterator RecursiveCallbackFilterIterator RecursiveDirectoryIterator RecursiveFilterIterator RecursiveIterator RecursiveIteratorIterator RecursiveRegexIterator RecursiveTreeIterator RegexIterator RuntimeException SeekableIterator SplDoublyLinkedList SplFileInfo SplFileObject SplFixedArray SplHeap SplMaxHeap SplMinHeap SplObjectStorage SplObserver SplObserver SplPriorityQueue SplQueue SplStack SplSubject SplSubject SplTempFileObject TypeError UnderflowException UnexpectedValueException ArrayAccess Closure Generator Iterator IteratorAggregate Serializable Throwable Traversable WeakReference Directory __PHP_Incomplete_Class parent php_user_filter self static stdClass"};return{aliases:["php","php3","php4","php5","php6","php7"],case_insensitive:!0,keywords:a,contains:[e.HASH_COMMENT_MODE,e.COMMENT("//","$",{contains:[n]}),e.COMMENT("/\\*","\\*/",{contains:[{className:"doctag",begin:"@[A-Za-z]+"}]}),e.COMMENT("__halt_compiler.+?;",!1,{endsWithParent:!0,keywords:"__halt_compiler"}),{className:"string",begin:/<<<['"]?\w+['"]?$/,end:/^\w+;?$/,contains:[e.BACKSLASH_ESCAPE,{className:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]}]},n,{className:"keyword",begin:/\$this\b/},t,{begin:/(::|->)+[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{className:"function",beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[e.UNDERSCORE_TITLE_MODE,{className:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",t,e.C_BLOCK_COMMENT_MODE,i,o]}]},{className:"class",beginKeywords:"class interface",end:"{",excludeEnd:!0,illegal:/[:\(\$"]/,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",end:";",illegal:/[\.']/,contains:[e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"use",end:";",contains:[e.UNDERSCORE_TITLE_MODE]},{begin:"=>"},i,o]}}},function(e,t){!function(){try{return new MouseEvent("test")}catch(e){}var e=function(e,t){t=t||{bubbles:!1,cancelable:!1};var n=document.createEvent("MouseEvent");return n.initMouseEvent(e,t.bubbles,t.cancelable,window,0,t.screenX||0,t.screenY||0,t.clientX||0,t.clientY||0,t.ctrlKey||!1,t.altKey||!1,t.shiftKey||!1,t.metaKey||!1,t.button||0,t.relatedTarget||null),n};e.prototype=Event.prototype,window.MouseEvent=e}()},function(e,t){!function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}"function"!=typeof window.CustomEvent&&(e.prototype=window.Event.prototype,window.CustomEvent=e)}()},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(23),n(24);var i=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},o=setTimeout;function a(e){return Boolean(e&&void 0!==e.length)}function r(){}function s(e){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function c(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void u(t.promise,e)}l(t.promise,i)}else(1===e._state?l:u)(t.promise,e._value)}))):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void f((i=n,o=t,function(){i.apply(o,arguments)}),e)}e._state=1,e._value=t,d(e)}catch(t){u(e,t)}var i,o}function u(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)c(e,e._deferreds[t]);e._deferreds=null}function p(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e((function(e){n||(n=!0,l(t,e))}),(function(e){n||(n=!0,u(t,e))}))}catch(e){if(n)return;n=!0,u(t,e)}}s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(r);return c(this,new p(e,t,n)),n},s.prototype.finally=i,s.all=function(e){return new s((function(t,n){if(!a(e))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var o=i.length;function r(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(e,t)}),n)}i[e]=a,0==--o&&t(i)}catch(e){n(e)}}for(var s=0;s<i.length;s++)r(s,i[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){if(!a(e))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=e.length;i<o;i++)s.resolve(e[i]).then(t,n)}))},s._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){o(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var m=s,h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();function g(e,t){for(var n=[],i=[],o=arguments.length;o-- >2;)n.push(arguments[o]);for(;n.length;){var a=n.pop();if(a&&a.pop)for(o=a.length;o--;)n.push(a[o]);else null!=a&&!0!==a&&!1!==a&&i.push(a)}return"function"==typeof e?e(t||{},i):{nodeName:e,attributes:t||{},children:i,key:t&&t.key}}function _(e,t,n,i){var o,a=[].map,r=i&&i.children[0]||null,s=r&&function e(t){return{nodeName:t.nodeName.toLowerCase(),attributes:{},children:a.call(t.childNodes,(function(t){return 3===t.nodeType?t.nodeValue:e(t)}))}}(r),c=[],l=!0,u=h(e),d=function e(t,n,i){for(var o in i)"function"==typeof i[o]?function(e,o){i[e]=function(e){var a=o(e);return"function"==typeof a&&(a=a(_(t,u),i)),a&&a!==(n=_(t,u))&&!a.then&&m(u=g(t,h(n,a),u)),a}}(o,i[o]):e(t.concat(o),n[o]=h(n[o]),i[o]=h(i[o]));return i}([],u,h(t));return m(),d;function p(e){return"function"==typeof e?p(e(u,d)):null!=e?e:""}function f(){o=!o;var e=p(n);for(i&&!o&&(r=function e(t,n,i,o,a){if(o===i);else if(null==i||i.nodeName!==o.nodeName){var r=function e(t,n){var i="string"==typeof t||"number"==typeof t?document.createTextNode(t):(n=n||"svg"===t.nodeName)?document.createElementNS("http://www.w3.org/2000/svg",t.nodeName):document.createElement(t.nodeName),o=t.attributes;if(o){o.oncreate&&c.push((function(){o.oncreate(i)}));for(var a=0;a<t.children.length;a++)i.appendChild(e(t.children[a]=p(t.children[a]),n));for(var r in o)w(i,r,o[r],null,n)}return i}(o,a);t.insertBefore(r,n),null!=i&&y(t,n,i),n=r}else if(null==i.nodeName)n.nodeValue=o;else{!function(e,t,n,i){for(var o in h(t,n))n[o]!==("value"===o||"checked"===o?e[o]:t[o])&&w(e,o,n[o],t[o],i);var a=l?n.oncreate:n.onupdate;a&&c.push((function(){a(e,t)}))}(n,i.attributes,o.attributes,a=a||"svg"===o.nodeName);for(var s={},u={},d=[],f=i.children,m=o.children,g=0;g<f.length;g++){d[g]=n.childNodes[g],null!=(b=v(f[g]))&&(s[b]=[d[g],f[g]])}g=0;for(var _=0;_<m.length;){var b=v(f[g]),O=v(m[_]=p(m[_]));if(u[b])g++;else if(null==O||O!==v(f[g+1]))if(null==O||l)null==b&&(e(n,d[g],f[g],m[_],a),_++),g++;else{var x=s[O]||[];b===O?(e(n,x[0],x[1],m[_],a),g++):x[0]?e(n,n.insertBefore(x[0],d[g]),x[1],m[_],a):e(n,d[g],null,m[_],a),u[O]=m[_],_++}else null==b&&y(n,d[g],f[g]),g++}for(;g<f.length;)null==v(f[g])&&y(n,d[g],f[g]),g++;for(var g in s)u[g]||y(n,s[g][0],s[g][1])}return n}(i,r,s,s=e)),l=!1;c.length;)c.pop()()}function m(){o||(o=!0,setTimeout(f))}function h(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}function g(e,t,n){var i={};return e.length?(i[e[0]]=e.length>1?g(e.slice(1),t,n[e[0]]):t,h(n,i)):t}function _(e,t){for(var n=0;n<e.length;)t=t[e[n++]];return t}function v(e){return e?e.key:null}function b(e){return e.currentTarget.events[e.type](e)}function w(e,t,n,i,o){if("key"===t);else if("style"===t)if("string"==typeof n)e.style.cssText=n;else for(var a in"string"==typeof i&&(i=e.style.cssText=""),h(i,n)){var r=null==n||null==n[a]?"":n[a];"-"===a[0]?e.style.setProperty(a,r):e.style[a]=r}else"o"===t[0]&&"n"===t[1]?(t=t.slice(2),e.events?i||(i=e.events[t]):e.events={},e.events[t]=n,n?i||e.addEventListener(t,b):e.removeEventListener(t,b)):t in e&&"list"!==t&&"type"!==t&&"draggable"!==t&&"spellcheck"!==t&&"translate"!==t&&!o?e[t]=null==n?"":n:null!=n&&!1!==n&&e.setAttribute(t,n),null!=n&&!1!==n||e.removeAttribute(t)}function y(e,t,n){function i(){e.removeChild(function e(t,n){var i=n.attributes;if(i){for(var o=0;o<n.children.length;o++)e(t.childNodes[o],n.children[o]);i.ondestroy&&i.ondestroy(t)}return t}(t,n))}var o=n.attributes&&n.attributes.onremove;o?o(t,i):i()}}function v(e,t){return function(n,i){var o=e.to,a=n.location,r=e.onclick;return delete e.to,delete e.location,e.href=o,e.onclick=function(t){r&&r(t),t.defaultPrevented||0!==t.button||t.altKey||t.metaKey||t.ctrlKey||t.shiftKey||"_blank"===e.target||(t.preventDefault(),o!==a.pathname&&history.pushState(a.pathname,"",o))},g("a",e,t)}}function b(e,t,n,i){return{isExact:e,path:t,url:n,params:i}}function w(e){for(var t=e.length;"/"===e[--t];);return e.slice(0,t+1)}function y(e){try{return decodeURIComponent(e)}catch(t){return e}}function O(e){return function(t,n){var i=t.location,o=function(e,t,n){if(e===t||!e)return b(e===t,e,t);var i=n&&n.exact,o=w(e).split("/"),a=w(t).split("/");if(!(o.length>a.length||i&&o.length<a.length)){var r=0,s={},c=o.length;for(t="";r<c;r++){if(":"===o[r][0])s[o[r].slice(1)]=a[r]=y(a[r]);else if(o[r]!==a[r])return;t+=a[r]+"/"}return b(!1,e,t.slice(0,-1),s)}}(e.path,i.pathname,{exact:!e.parent});return o&&e.render({match:o,location:i})}}"Promise"in h?h.Promise.prototype.finally||(h.Promise.prototype.finally=i):h.Promise=m;var x={state:{pathname:window.location.pathname,previous:window.location.pathname},actions:{go:function(e){history.pushState(null,"",e)},set:function(e){return e}},subscribe:function(e){function t(t){e.set({pathname:window.location.pathname,previous:t.detail?window.location.previous=t.detail:window.location.previous})}var n=["pushState","replaceState"].reduce((function(e,t){var n=history[t];return history[t]=function(e,t,i){n.call(this,e,t,i),dispatchEvent(new CustomEvent("pushstate",{detail:e}))},function(){history[t]=n,e&&e()}}),null);return addEventListener("pushstate",t),addEventListener("popstate",t),function(){removeEventListener("pushstate",t),removeEventListener("popstate",t),n()}}},j=n(0),S=n(5);function E(e,t){S.b.on(e,(function(e,n){t(n)}))}function k(e,t){void 0===t&&(t=""),S.b.trigger(e,t)}var C=n(7),T=n(2);j.a.fn.each=function(e){return Object(C.a)(this,e)},Object(C.a)(["add","remove","toggle"],(function(e,t){j.a.fn[t+"Class"]=function(e){return"remove"!==t||arguments.length?this.each((function(n,i){if(Object(T.j)(i)){var o=(Object(T.k)(e)?e.call(i,n,i.getAttribute("class")||""):e).split(" ").filter((function(e){return e}));Object(C.a)(o,(function(e,n){i.classList[t](n)}))}})):this.each((function(e,t){t.setAttribute("class","")}))}})),Object(C.a)(["insertBefore","insertAfter"],(function(e,t){j.a.fn[t]=function(t){var n=e?Object(j.a)(this.get().reverse()):this,i=Object(j.a)(t),o=[];return i.each((function(t,i){i.parentNode&&n.each((function(n,a){var r=t?a.cloneNode(!0):a,s=e?i.nextSibling:i;o.push(r),i.parentNode.insertBefore(r,s)}))})),Object(j.a)(e?o.reverse():o)}}));var I=function(e,t){var n,i,o=[];return Object(C.a)(e,(function(e,n){null!=(i=t.call(window,n,e))&&o.push(i)})),(n=[]).concat.apply(n,o)},N=n(9);j.a.fn.map=function(e){return new N.a(I(this,(function(t,n){return e.call(t,n,t)})))},j.a.fn.is=function(e){var t=!1;if(Object(T.k)(e))return this.each((function(n,i){e.call(i,n,i)&&(t=!0)})),t;if(Object(T.q)(e))return this.each((function(n,i){Object(T.i)(i)||Object(T.s)(i)||(i.matches||i.msMatchesSelector).call(i,e)&&(t=!0)})),t;var n=Object(j.a)(e);return this.each((function(e,i){n.each((function(e,n){i===n&&(t=!0)}))})),t},j.a.fn.remove=function(e){return this.each((function(t,n){!n.parentNode||e&&!Object(j.a)(n).is(e)||n.parentNode.removeChild(n)}))},Object(C.a)(["appendTo","prependTo"],(function(e,t){j.a.fn[t]=function(t){var n=[],i=Object(j.a)(t).map((function(t,i){var o=i.childNodes,a=o.length;if(a)return o[e?0:a-1];var r=document.createElement("div");return i.appendChild(r),n.push(r),r})),o=this[e?"insertBefore":"insertAfter"](i);return Object(j.a)(n).remove(),o}}));var R=function(e){var t=[];return Object(C.a)(e,(function(e,n){-1===t.indexOf(n)&&t.push(n)})),t};j.a.fn.children=function(e){var t=[];return this.each((function(n,i){Object(C.a)(i.childNodes,(function(n,i){Object(T.j)(i)&&(e&&!Object(j.a)(i).is(e)||t.push(i))}))})),new N.a(R(t))},j.a.fn.clone=function(){return this.map((function(){return this.cloneNode(!0)}))};var D="_mduiElementDataStorage";function M(e,t){e[D]||(e[D]={}),Object(C.a)(t,(function(t,n){e[D][Object(T.u)(t)]=n}))}var q=function(e,t,n){var i;return Object(T.p)(t)?(M(e,t),t):Object(T.r)(n)?Object(T.r)(t)?e[D]?e[D]:{}:(t=Object(T.u)(t),e[D]&&t in e[D]?e[D][t]:void 0):(M(e,((i={})[t]=n,i)),n)},A=/^(?:{[\w\W]*\}|\[[\w\W]*\])$/;function L(e,t,n){if(Object(T.r)(n)&&1===e.nodeType){var i="data-"+Object(T.w)(t);if(n=e.getAttribute(i),Object(T.q)(n))try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:A.test(e)?JSON.parse(e):e)}(n)}catch(e){}else n=void 0}return n}j.a.fn.data=function(e,t){if(Object(T.r)(e)){if(!this.length)return;var n=this[0],i=q(n);if(1!==n.nodeType)return i;for(var o=n.attributes,a=o.length;a--;)if(o[a]){var r=o[a].name;0===r.indexOf("data-")&&(i[r=Object(T.u)(r.slice(5))]=L(n,r,i[r]))}return i}return Object(T.p)(e)?this.each((function(){q(this,e)})):2===arguments.length&&Object(T.r)(t)?this:Object(T.r)(t)?this.length?L(this[0],e,q(this[0],e)):void 0:this.each((function(){q(this,e,t)}))};var $=function(e,t){return Object(C.a)(t,(function(t,n){e.push(n)})),e};function P(e,t,n,i,o){var a,r=[];return e.each((function(e,s){for(a=s[n];a&&Object(T.j)(a);){if(2===t){if(i&&Object(j.a)(a).is(i))break;o&&!Object(j.a)(a).is(o)||r.push(a)}else{if(0===t){i&&!Object(j.a)(a).is(i)||r.push(a);break}i&&!Object(j.a)(a).is(i)||r.push(a)}a=a[n]}})),new N.a(R(r))}j.a.fn.get=function(e){return void 0===e?[].slice.call(this):this[e>=0?e:e+this.length]},j.a.fn.find=function(e){var t=[];return this.each((function(n,i){$(t,Object(j.a)(i.querySelectorAll(e)).get())})),new N.a(t)},Object(C.a)(["","All","Until"],(function(e,t){j.a.fn["next"+t]=function(t,n){return P(this,e,"nextElementSibling",t,n)}}));var U=function(e,t){return e!==t&&Object(T.v)(e).contains(t)},H={},B=1;function G(e){var t="_mduiEventId";return e[t]||(e[t]=++B),e[t]}function K(e){var t=e.split(".");return{type:t[0],ns:t.slice(1).sort().join(" ")}}function z(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function F(e,t,n,i){var o=H[G(e)]||[],a=function(t){delete o[t.id],e.removeEventListener(t.type,t.proxy,!1)};t?t.split(" ").forEach((function(t){t&&function(e,t,n,i){var o=K(t);return(H[G(e)]||[]).filter((function(e){return e&&(!o.type||e.type===o.type)&&(!o.ns||z(o.ns).test(e.ns))&&(!n||G(e.func)===G(n))&&(!i||e.selector===i)}))}(e,t,n,i).forEach((function(e){return a(e)}))})):o.forEach((function(e){return a(e)}))}j.a.fn.off=function(e,t,n){var i=this;return Object(T.p)(e)?(Object(C.a)(e,(function(e,n){i.off(e,t,n)})),this):((!1===t||Object(T.k)(t))&&(n=t,t=void 0),!1===n&&(n=T.t),this.each((function(){F(this,e,n,t)})))},j.a.fn.on=function(e,t,n,i,o){var a=this;if(Object(T.p)(e))return Object(T.q)(t)||(n=n||t,t=void 0),Object(C.a)(e,(function(e,i){a.on(e,t,n,i,o)})),this;if(null==n&&null==i?(i=t,n=t=void 0):null==i&&(Object(T.q)(t)?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=T.t;else if(!i)return this;if(o){var r=this,s=i;i=function(e){return r.off(e.type,t,i),s.apply(this,arguments)}}return this.each((function(){!function(e,t,n,i,o){var a=G(e);H[a]||(H[a]=[]);var r=!1;Object(T.p)(i)&&i.useCapture&&(r=!0),t.split(" ").forEach((function(t){if(t){var s=K(t),c={type:s.type,ns:s.ns,func:n,selector:o,id:H[a].length,proxy:u};H[a].push(c),e.addEventListener(c.type,u,r)}function l(e,t){!1===n.apply(t,void 0===e._detail?[e]:[e].concat(e._detail))&&(e.preventDefault(),e.stopPropagation())}function u(t){t._ns&&!z(t._ns).test(s.ns)||(t._data=i,o?Object(j.a)(e).find(o).get().reverse().forEach((function(e){(e===t.target||U(e,t.target))&&l(t,e)})):l(t,e))}}))}(this,e,i,n,t)}))},Object(C.a)(["","s","sUntil"],(function(e,t){j.a.fn["parent"+t]=function(t,n){return P(e?Object(j.a)(this.get().reverse()):this,e,"parentNode",t,n)}})),Object(C.a)(["val","html","text"],(function(e,t){var n={0:"value",1:"innerHTML",2:"textContent"}[e];function i(t){if(2===e)return I(t,(function(e){return Object(T.v)(e)[n]})).join("");if(t.length){var i=t[0];return 0===e&&Object(j.a)(i).is("select[multiple]")?I(Object(j.a)(i).find("option:checked"),(function(e){return e.value})):i[n]}}function o(t,i){if(Object(T.r)(i)){if(0!==e)return;i=""}1===e&&Object(T.j)(i)&&(i=i.outerHTML),t[n]=i}j.a.fn[t]=function(t){return arguments.length?this.each((function(n,a){var r=Object(T.k)(t)?t.call(a,n,i(Object(j.a)(a))):t;0===e&&Array.isArray(r)?Object(j.a)(a).is("select[multiple]")?I(Object(j.a)(a).find("option"),(function(e){return e.selected=r.indexOf(e.value)>-1})):a.checked=r.indexOf(a.value)>-1:o(a,r)})):i(this)}})),j.a.fn.serializeArray=function(){var e=[];return this.each((function(t,n){var i=n instanceof HTMLFormElement?n.elements:[n];Object(j.a)(i).each((function(t,n){var i=Object(j.a)(n),o=n.type,a=n.nodeName.toLowerCase();if("fieldset"!==a&&n.name&&!n.disabled&&["input","select","textarea","keygen"].indexOf(a)>-1&&-1===["submit","button","image","reset","file"].indexOf(o)&&(-1===["radio","checkbox"].indexOf(o)||n.checked)){var r=i.val();(Array.isArray(r)?r:[r]).forEach((function(t){e.push({name:n.name,value:t})}))}}))})),e};var Y={};function W(e,t,n,i,o,a){var r=function(n){return Object(T.d)(e,t.toLowerCase(),n)*a};return 2===i&&o&&(n+=r("margin")),Object(T.h)(e)?(Object(T.l)()&&1===a&&(n+=r("border"),n+=r("padding")),0===i&&(n-=r("border")),1===i&&(n-=r("border"),n-=r("padding"))):(0===i&&(n+=r("padding")),2===i&&(n+=r("border"),n+=r("padding"))),n}function Q(e,t,n,i){var o="client"+t,a="scroll"+t,r="offset"+t,s="inner"+t;if(Object(T.s)(e))return 2===n?e[s]:Object(T.v)(document)[o];if(Object(T.i)(e)){var c=Object(T.v)(e);return Math.max(e.body[a],c[a],e.body[r],c[r],c[o])}var l=parseFloat(Object(T.c)(e,t.toLowerCase())||"0");return W(e,t,l,n,i,1)}function V(e,t,n,i,o,a){var r=Object(T.k)(a)?a.call(e,t,Q(e,n,i,o)):a;if(null!=r){var s=Object(j.a)(e),c=n.toLowerCase();if(["auto","inherit",""].indexOf(r)>-1)s.css(c,r);else{var l=r.toString().replace(/\b[0-9.]*/,"");r=W(e,n,parseFloat(r),i,o,-1)+(l||"px"),s.css(c,r)}}}j.a.fn.show=function(){return this.each((function(){var e,t,n;"none"===this.style.display&&(this.style.display=""),"none"===Object(T.e)(this,"display")&&(this.style.display=(e=this.nodeName,Y[e]||(t=document.createElement(e),document.body.appendChild(t),n=Object(T.e)(t,"display"),t.parentNode.removeChild(t),"none"===n&&(n="block"),Y[e]=n),Y[e]))}))},j.a.fn.trigger=function(e,t){var n,i=K(e),o={bubbles:!0,cancelable:!0};return["click","mousedown","mouseup","mousemove"].indexOf(i.type)>-1?n=new MouseEvent(i.type,o):(o.detail=t,n=new CustomEvent(i.type,o)),n._detail=t,n._ns=i.ns,this.each((function(){this.dispatchEvent(n)}))},Object(C.a)(["attr","prop","css"],(function(e,t){function n(t,n,i){if(!Object(T.r)(i))switch(e){case 0:Object(T.n)(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case 1:t[n]=i;break;default:n=Object(T.u)(n),t.style[n]=Object(T.o)(i)?i+(T.a.indexOf(n)>-1?"":"px"):i}}function i(t,n){switch(e){case 0:var i=t.getAttribute(n);return Object(T.n)(i)?void 0:i;case 1:return t[n];default:return Object(T.e)(t,n)}}j.a.fn[t]=function(e,o){var a=this;if(Object(T.p)(e))return Object(C.a)(e,(function(e,n){a[t](e,n)})),this;if(1===arguments.length){var r=this[0];return Object(T.j)(r)?i(r,e):void 0}return this.each((function(t,a){n(a,e,Object(T.k)(o)?o.call(a,t,i(a,e)):o)}))}})),Object(C.a)(["Width","Height"],(function(e,t){Object(C.a)(["inner"+t,t.toLowerCase(),"outer"+t],(function(e,n){j.a.fn[n]=function(n,i){var o=arguments.length&&(e<2||!Object(T.g)(n)),a=!0===n||!0===i;return o?this.each((function(i,o){return V(o,i,t,e,a,n)})):this.length?Q(this[0],t,e,a):void 0}}))})),j.a.fn.reflow=function(){return this.each((function(){return this.clientLeft}))},j.a.fn.transitionEnd=function(e){var t=this,n=["webkitTransitionEnd","transitionend"];function i(o){o.target===this&&(e.call(this,o),Object(C.a)(n,(function(e,n){t.off(n,i)})))}return Object(C.a)(n,(function(e,n){t.on(n,i)})),this};var Z={};function X(e,t,n,i){var o=q(i,"_mdui_mutation");o||q(i,"_mdui_mutation",o=[]),-1===o.indexOf(e)&&(o.push(e),t.call(i,n,i))}j.a.fn.mutation=function(){return this.each((function(e,t){var n=Object(j.a)(t);Object(C.a)(Z,(function(i,o){n.is(i)&&X(i,o,e,t),n.find(i).each((function(e,t){X(i,o,e,t)}))}))}))},j.a.showOverlay=function(e){var t=Object(j.a)(".mdui-overlay");t.length?(t.data("_overlay_is_deleted",!1),Object(T.r)(e)||t.css("z-index",e)):(Object(T.r)(e)&&(e=2e3),t=Object(j.a)('<div class="mdui-overlay">').appendTo(document.body).reflow().css("z-index",e));var n=t.data("_overlay_level")||0;return t.data("_overlay_level",++n).addClass("mdui-overlay-show")},j.a.hideOverlay=function(e){void 0===e&&(e=!1);var t=Object(j.a)(".mdui-overlay");if(t.length){var n=e?1:t.data("_overlay_level");n>1?t.data("_overlay_level",--n):t.data("_overlay_level",0).removeClass("mdui-overlay-show").data("_overlay_is_deleted",!0).transitionEnd((function(){t.data("_overlay_is_deleted")&&t.remove()}))}},j.a.lockScreen=function(){var e=S.a.width(),t=S.a.data("_lockscreen_level")||0;S.a.addClass("mdui-locked").width(e).data("_lockscreen_level",++t)},j.a.unlockScreen=function(e){void 0===e&&(e=!1);var t=e?1:S.a.data("_lockscreen_level");t>1?S.a.data("_lockscreen_level",--t):S.a.data("_lockscreen_level",0).removeClass("mdui-locked").width("")};var J=n(3);J.a.mutation=function(e,t){Object(T.r)(e)||Object(T.r)(t)?Object(j.a)(document).mutation():(Z[e]=t,Object(j.a)(e).each((function(n,i){return X(e,t,n,i)})))};var ee=function(e,t){for(var n=[],i=arguments.length-2;i-- >0;)n[i]=arguments[i+2];return n.unshift(t),Object(C.a)(n,(function(t,n){Object(C.a)(n,(function(t,n){Object(T.r)(n)||(e[t]=n)}))})),e};function te(e,t,n,i,o){o||(o={}),o.inst=i;var a=e+".mdui."+t;"undefined"!=typeof jQuery&&jQuery(n).trigger(a,o);var r=Object(j.a)(n);r.trigger(a,o);var s=new CustomEvent(a,{bubbles:!0,cancelable:!0,detail:o});s._detail=o,r[0].dispatchEvent(s)}j.a.fn.slice=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return new N.a([].slice.apply(this,e))},j.a.fn.eq=function(e){var t=-1===e?this.slice(e):this.slice(e,+e+1);return new N.a(t)},j.a.fn.first=function(){return this.eq(0)},j.a.fn.hasClass=function(e){return this[0].classList.contains(e)};var ne={tolerance:5,offset:0,initialClass:"mdui-headroom",pinnedClass:"mdui-headroom-pinned-top",unpinnedClass:"mdui-headroom-unpinned-top"},ie=function(e,t){void 0===t&&(t={}),this.options=ee({},ne),this.state="pinned",this.isEnable=!1,this.lastScrollY=0,this.rafId=0,this.$element=Object(j.a)(e).first(),ee(this.options,t);var n=this.options.tolerance;Object(T.o)(n)&&(this.options.tolerance={down:n,up:n}),this.enable()};function oe(e,t){return parseFloat(e.css(t))}function ae(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function re(e,t,n){var i=Object(j.a)(e),o=i.css("position");"static"===o&&i.css("position","relative");var a,r,s=ae(e),c=i.css("top"),l=i.css("left");if(("absolute"===o||"fixed"===o)&&(c+l).indexOf("auto")>-1){var u=i.position();a=u.top,r=u.left}else a=parseFloat(c),r=parseFloat(l);var d=Object(T.k)(t)?t.call(e,n,ee({},s)):t;i.css({top:null!=d.top?d.top-s.top+a:void 0,left:null!=d.left?d.left-s.left+r:void 0})}ie.prototype.onScroll=function(){var e=this;this.rafId=window.requestAnimationFrame((function(){var t=window.pageYOffset,n=t>e.lastScrollY?"down":"up",i=e.options.tolerance[n],o=Math.abs(t-e.lastScrollY)>=i;t>e.lastScrollY&&t>=e.options.offset&&o?e.unpin():(t<e.lastScrollY&&o||t<=e.options.offset)&&e.pin(),e.lastScrollY=t}))},ie.prototype.triggerEvent=function(e){te(e,"headroom",this.$element,this)},ie.prototype.transitionEnd=function(){"pinning"===this.state&&(this.state="pinned",this.triggerEvent("pinned")),"unpinning"===this.state&&(this.state="unpinned",this.triggerEvent("unpinned"))},ie.prototype.pin=function(){var e=this;"pinning"!==this.state&&"pinned"!==this.state&&this.$element.hasClass(this.options.initialClass)&&(this.triggerEvent("pin"),this.state="pinning",this.$element.removeClass(this.options.unpinnedClass).addClass(this.options.pinnedClass).transitionEnd((function(){return e.transitionEnd()})))},ie.prototype.unpin=function(){var e=this;"unpinning"!==this.state&&"unpinned"!==this.state&&this.$element.hasClass(this.options.initialClass)&&(this.triggerEvent("unpin"),this.state="unpinning",this.$element.removeClass(this.options.pinnedClass).addClass(this.options.unpinnedClass).transitionEnd((function(){return e.transitionEnd()})))},ie.prototype.enable=function(){var e=this;this.isEnable||(this.isEnable=!0,this.state="pinned",this.$element.addClass(this.options.initialClass).removeClass(this.options.pinnedClass).removeClass(this.options.unpinnedClass),this.lastScrollY=window.pageYOffset,S.c.on("scroll",(function(){return e.onScroll()})))},ie.prototype.disable=function(){var e=this;this.isEnable&&(this.isEnable=!1,this.$element.removeClass(this.options.initialClass).removeClass(this.options.pinnedClass).removeClass(this.options.unpinnedClass),S.c.off("scroll",(function(){return e.onScroll()})),window.cancelAnimationFrame(this.rafId))},ie.prototype.getState=function(){return this.state},J.a.Headroom=ie,j.a.fn.offsetParent=function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===Object(j.a)(e).css("position");)e=e.offsetParent;return e||document.documentElement}))},j.a.fn.position=function(){if(this.length){var e,t=this.eq(0),n={left:0,top:0};if("fixed"===t.css("position"))e=t[0].getBoundingClientRect();else{e=t.offset();var i=t.offsetParent();(n=i.offset()).top+=oe(i,"border-top-width"),n.left+=oe(i,"border-left-width")}return{top:e.top-n.top-oe(t,"margin-top"),left:e.left-n.left-oe(t,"margin-left")}}},j.a.fn.offset=function(e){if(!arguments.length){if(!this.length)return;return ae(this[0])}return this.each((function(t){re(this,e,t)}))},j.a.fn.transform=function(e){return this.each((function(){this.style.webkitTransform=e,this.style.transform=e}))};var se="touchstart mousedown",ce=0;function le(e){return!(ce&&["mousedown","mouseup","mousemove","click","mouseover","mouseout","mouseenter","mouseleave"].indexOf(e.type)>-1)}function ue(e){"touchstart"===e.type?ce+=1:["touchmove","touchend","touchcancel"].indexOf(e.type)>-1&&setTimeout((function(){ce&&(ce-=1)}),500)}function de(e,t){if(!(e instanceof MouseEvent&&2===e.button)){var n="undefined"!=typeof TouchEvent&&e instanceof TouchEvent&&e.touches.length?e.touches[0]:e,i=n.pageX,o=n.pageY,a=t.offset(),r=t.innerHeight(),s=t.innerWidth(),c=i-a.left,l=o-a.top,u=Math.max(Math.pow(Math.pow(r,2)+Math.pow(s,2),.5),48),d="translate3d("+(s/2-c)+"px,"+(r/2-l)+"px, 0) scale(1)";Object(j.a)('<div class="mdui-ripple-wave" style="width:'+u+"px;height:"+u+"px;margin-top:-"+u/2+"px;margin-left:-"+u/2+"px;left:"+c+"px;top:"+l+'px;"></div>').data("_ripple_wave_translate",d).prependTo(t).reflow().transform(d)}}function pe(){var e=Object(j.a)(this);e.children(".mdui-ripple-wave").each((function(e,t){!function(e){if(e.length&&!e.data("_ripple_wave_removed")){e.data("_ripple_wave_removed",!0);var t=setTimeout((function(){return e.remove()}),400),n=e.data("_ripple_wave_translate");e.addClass("mdui-ripple-wave-fill").transform(n.replace("scale(1)","scale(1.01)")).transitionEnd((function(){clearTimeout(t),e.addClass("mdui-ripple-wave-out").transform(n.replace("scale(1)","scale(1.01)")),t=setTimeout((function(){return e.remove()}),700),setTimeout((function(){e.transitionEnd((function(){clearTimeout(t),e.remove()}))}),0)}))}}(Object(j.a)(t))})),e.off("touchmove mousemove touchend mouseup touchcancel mouseleave",pe)}function fe(e){if(le(e)&&(ue(e),e.target!==document)){var t=Object(j.a)(e.target),n=t.hasClass("mdui-ripple")?t:t.parents(".mdui-ripple").first();if(n.length&&!n.prop("disabled")&&Object(T.r)(n.attr("disabled")))if("touchstart"===e.type){var i=!1,o=setTimeout((function(){o=0,de(e,n)}),200),a=function(){o&&(clearTimeout(o),o=0,de(e,n)),i||(i=!0,pe.call(n))};n.on("touchmove",(function(){o&&(clearTimeout(o),o=0),a()})).on("touchend touchcancel",a)}else de(e,n),n.on("touchmove mousemove touchend mouseup touchcancel mouseleave",pe)}}Object(j.a)((function(){S.b.on(se,fe).on("touchend touchmove touchcancel",ue)}));var me={reInit:!1,domLoadedEvent:!1};function he(e,t){void 0===t&&(t={}),t=ee({},me,t);var n=e.target,i=Object(j.a)(n),o=e.type,a=i.val(),r=i.attr("type")||"";if(!(["checkbox","button","submit","range","radio","image"].indexOf(r)>-1)){var s=i.parent(".mdui-textfield");if("focus"===o&&s.addClass("mdui-textfield-focus"),"blur"===o&&s.removeClass("mdui-textfield-focus"),"blur"!==o&&"input"!==o||(a?s.addClass("mdui-textfield-not-empty"):s.removeClass("mdui-textfield-not-empty")),n.disabled?s.addClass("mdui-textfield-disabled"):s.removeClass("mdui-textfield-disabled"),"input"!==o&&"blur"!==o||t.domLoadedEvent||!n.validity||(n.validity.valid?s.removeClass("mdui-textfield-invalid-html5"):s.addClass("mdui-textfield-invalid-html5")),i.is("textarea")){var c=a,l=!1;""===c.replace(/[\r\n]/g,"")&&(i.val(" "+c),l=!0),i.outerHeight("");var u=i.outerHeight(),d=n.scrollHeight;d>u&&i.outerHeight(d),l&&i.val(c)}t.reInit&&s.find(".mdui-textfield-counter").remove();var p=i.attr("maxlength");p&&((t.reInit||t.domLoadedEvent)&&Object(j.a)('<div class="mdui-textfield-counter"><span class="mdui-textfield-counter-inputed"></span> / '+p+"</div>").appendTo(s),s.find(".mdui-textfield-counter-inputed").text(a.length.toString())),(s.find(".mdui-textfield-helper").length||s.find(".mdui-textfield-error").length||p)&&s.addClass("mdui-textfield-has-bottom")}}Object(j.a)((function(){S.b.on("input focus blur",".mdui-textfield-input",{useCapture:!0},he),S.b.on("click",".mdui-textfield-expandable .mdui-textfield-icon",(function(){Object(j.a)(this).parents(".mdui-textfield").addClass("mdui-textfield-expanded").find(".mdui-textfield-input")[0].focus()})),S.b.on("click",".mdui-textfield-expanded .mdui-textfield-close",(function(){Object(j.a)(this).parents(".mdui-textfield").removeClass("mdui-textfield-expanded").find(".mdui-textfield-input").val("")})),J.a.mutation(".mdui-textfield",(function(){Object(j.a)(this).find(".mdui-textfield-input").trigger("input",{domLoadedEvent:!0})}))})),J.a.updateTextFields=function(e){(Object(T.r)(e)?Object(j.a)(".mdui-textfield"):Object(j.a)(e)).each((function(e,t){Object(j.a)(t).find(".mdui-textfield-input").trigger("input",{reInit:!0})}))},Object(j.a)((function(){J.a.mutation(".mdui-appbar-scroll-hide",(function(){new J.a.Headroom(this)})),J.a.mutation(".mdui-appbar-scroll-toolbar-hide",(function(){new J.a.Headroom(this,{pinnedClass:"mdui-headroom-pinned-toolbar",unpinnedClass:"mdui-headroom-unpinned-toolbar"})}))})),j.a.fn.hide=function(){return this.each((function(){this.style.display="none"}))},j.a.fn.index=function(e){return arguments.length?Object(T.q)(e)?Object(j.a)(e).get().indexOf(this[0]):this.get().indexOf(Object(j.a)(e)[0]):this.eq(0).parent().children().get().indexOf(this[0])},j.a.throttle=function(e,t){void 0===t&&(t=16);var n=null;return function(){for(var i=this,o=[],a=arguments.length;a--;)o[a]=arguments[a];Object(T.n)(n)&&(n=setTimeout((function(){e.apply(i,o),n=null}),t))}};var ge={trigger:"click",loop:!1},_e=function(e,t){var n=this;void 0===t&&(t={}),this.options=ee({},ge),this.activeIndex=-1,this.$element=Object(j.a)(e).first(),ee(this.options,t),this.$tabs=this.$element.children("a"),this.$indicator=Object(j.a)('<div class="mdui-tab-indicator"></div>').appendTo(this.$element);var i=window.location.hash;i&&this.$tabs.each((function(e,t){return Object(j.a)(t).attr("href")!==i||(n.activeIndex=e,!1)})),-1===this.activeIndex&&this.$tabs.each((function(e,t){return!Object(j.a)(t).hasClass("mdui-tab-active")||(n.activeIndex=e,!1)})),this.$tabs.length&&-1===this.activeIndex&&(this.activeIndex=0),this.setActive(),S.c.on("resize",j.a.throttle((function(){return n.setIndicatorPosition()}),100)),this.$tabs.each((function(e,t){n.bindTabEvent(t)}))};function ve(e,t){var n=Object(j.a)(e).attr(t);return n?new Function("","var json = "+n+"; return JSON.parse(JSON.stringify(json));")():{}}_e.prototype.isDisabled=function(e){return void 0!==e.attr("disabled")},_e.prototype.bindTabEvent=function(e){var t=this,n=Object(j.a)(e),i=function(){if(t.isDisabled(n))return!1;t.activeIndex=t.$tabs.index(e),t.setActive()};n.on("click",i),"hover"===this.options.trigger&&n.on("mouseenter",i),n.on("click",(function(){if(0===(n.attr("href")||"").indexOf("#"))return!1}))},_e.prototype.triggerEvent=function(e,t,n){void 0===n&&(n={}),te(e,"tab",t,this,n)},_e.prototype.setActive=function(){var e=this;this.$tabs.each((function(t,n){var i=Object(j.a)(n),o=i.attr("href")||"";t!==e.activeIndex||e.isDisabled(i)?(i.removeClass("mdui-tab-active"),Object(j.a)(o).hide()):(i.hasClass("mdui-tab-active")||(e.triggerEvent("change",e.$element,{index:e.activeIndex,id:o.substr(1)}),e.triggerEvent("show",i),i.addClass("mdui-tab-active")),Object(j.a)(o).show(),e.setIndicatorPosition())}))},_e.prototype.setIndicatorPosition=function(){if(-1!==this.activeIndex){var e=this.$tabs.eq(this.activeIndex);if(!this.isDisabled(e)){var t=e.offset();this.$indicator.css({left:t.left+this.$element[0].scrollLeft-this.$element[0].getBoundingClientRect().left+"px",width:e.innerWidth()+"px"})}}else this.$indicator.css({left:0,width:0})},_e.prototype.next=function(){-1!==this.activeIndex&&(this.$tabs.length>this.activeIndex+1?this.activeIndex++:this.options.loop&&(this.activeIndex=0),this.setActive())},_e.prototype.prev=function(){-1!==this.activeIndex&&(this.activeIndex>0?this.activeIndex--:this.options.loop&&(this.activeIndex=this.$tabs.length-1),this.setActive())},_e.prototype.show=function(e){var t=this;-1!==this.activeIndex&&(Object(T.o)(e)?this.activeIndex=e:this.$tabs.each((function(n,i){if(i.id===e)return t.activeIndex,!1})),this.setActive())},_e.prototype.handleUpdate=function(){var e=this,t=this.$tabs,n=this.$element.children("a"),i=t.get(),o=n.get();if(!n.length)return this.activeIndex=-1,this.$tabs=n,void this.setIndicatorPosition();n.each((function(t,n){i.indexOf(n)<0&&(e.bindTabEvent(n),-1===e.activeIndex?e.activeIndex=0:t<=e.activeIndex&&e.activeIndex++)})),t.each((function(t,n){o.indexOf(n)<0&&(t<e.activeIndex?e.activeIndex--:t===e.activeIndex&&(e.activeIndex=0))})),this.$tabs=n,this.setActive()},J.a.Tab=_e;Object(j.a)((function(){J.a.mutation("[mdui-tab]",(function(){new J.a.Tab(this,ve(this,"mdui-tab"))}))})),j.a.fn.one=function(e,t,n,i){return this.on(e,t,n,i,!0)};var be={overlay:!1,swipe:!1},we=function(e,t){var n=this;void 0===t&&(t={}),this.options=ee({},be),this.overlay=!1,this.$element=Object(j.a)(e).first(),ee(this.options,t),this.position=this.$element.hasClass("mdui-drawer-right")?"right":"left",this.$element.hasClass("mdui-drawer-close")?this.state="closed":this.$element.hasClass("mdui-drawer-open")||this.isDesktop()?this.state="opened":this.state="closed",S.c.on("resize",j.a.throttle((function(){n.isDesktop()?(n.overlay&&!n.options.overlay&&(j.a.hideOverlay(),n.overlay=!1,j.a.unlockScreen()),n.$element.hasClass("mdui-drawer-close")||(n.state="opened")):n.overlay||"opened"!==n.state||(n.$element.hasClass("mdui-drawer-open")?(j.a.showOverlay(),n.overlay=!0,j.a.lockScreen(),Object(j.a)(".mdui-overlay").one("click",(function(){return n.close()}))):n.state="closed")}),100)),this.$element.find("[mdui-drawer-close]").each((function(e,t){Object(j.a)(t).on("click",(function(){return n.close()}))})),this.swipeSupport()};we.prototype.isDesktop=function(){return S.c.width()>=1024},we.prototype.swipeSupport=function(){var e,t,n,i,o=this,a=null,r=!1;function s(e){var t="translate("+-1*("right"===o.position?-1:1)*e+"px, 0) !important;";o.$element.css("cssText","transform: "+t+"; transition: initial !important;;")}function c(){o.$element[0].style.transform="",o.$element[0].style.webkitTransform="",o.$element[0].style.transition="",o.$element[0].style.webkitTransition=""}function l(){return o.$element.width()+10}function u(e){return Math.min(Math.max("closing"===a?i-e:l()+i-e,0),l())}function d(e){if(a){var t=e.changedTouches[0].pageX;"right"===o.position&&(t=S.a.width()-t);var n=u(t)/l();r=!1;var i=a;a=null,"opening"===i?n<.92?(c(),o.open()):c():n>.08?(c(),o.close()):c(),j.a.unlockScreen()}else r=!1;S.a.off({touchmove:p,touchend:d,touchcancel:p})}function p(e){var c=e.touches[0].pageX;"right"===o.position&&(c=S.a.width()-c);var l=e.touches[0].pageY;if(a)s(u(c));else if(r){var p=Math.abs(c-t),f=Math.abs(l-n);p>8&&f<=8?(i=c,a="opened"===o.state?"closing":"opening",j.a.lockScreen(),s(u(c))):p<=8&&f>8&&d()}}function f(i){t=i.touches[0].pageX,"right"===o.position&&(t=S.a.width()-t),n=i.touches[0].pageY,"opened"!==o.state&&(t>24||e!==f)||(r=!0,S.a.on({touchmove:p,touchend:d,touchcancel:p}))}this.options.swipe&&(e||(S.a.on("touchstart",f),e=f))},we.prototype.triggerEvent=function(e){te(e,"drawer",this.$element,this)},we.prototype.transitionEnd=function(){this.$element.hasClass("mdui-drawer-open")?(this.state="opened",this.triggerEvent("opened")):(this.state="closed",this.triggerEvent("closed"))},we.prototype.isOpen=function(){return"opening"===this.state||"opened"===this.state},we.prototype.open=function(){var e=this;this.isOpen()||(this.state="opening",this.triggerEvent("open"),this.options.overlay||S.a.addClass("mdui-drawer-body-"+this.position),this.$element.removeClass("mdui-drawer-close").addClass("mdui-drawer-open").transitionEnd((function(){return e.transitionEnd()})),this.isDesktop()&&!this.options.overlay||(this.overlay=!0,j.a.showOverlay().one("click",(function(){return e.close()})),j.a.lockScreen()))},we.prototype.close=function(){var e=this;this.isOpen()&&(this.state="closing",this.triggerEvent("close"),this.options.overlay||S.a.removeClass("mdui-drawer-body-"+this.position),this.$element.addClass("mdui-drawer-close").removeClass("mdui-drawer-open").transitionEnd((function(){return e.transitionEnd()})),this.overlay&&(j.a.hideOverlay(),this.overlay=!1,j.a.unlockScreen()))},we.prototype.toggle=function(){this.isOpen()?this.close():this.open()},we.prototype.getState=function(){return this.state},J.a.Drawer=we;function ye(e){return Object(T.q)(e)&&("<"!==e[0]||">"!==e[e.length-1])}Object(j.a)((function(){J.a.mutation("[mdui-drawer]",(function(){var e=Object(j.a)(this),t=ve(this,"mdui-drawer"),n=t.target;delete t.target;var i=Object(j.a)(n).first(),o=new J.a.Drawer(i,t);e.on("click",(function(){return o.toggle()}))}))})),Object(C.a)(["before","after"],(function(e,t){j.a.fn[t]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 1===e&&(t=t.reverse()),this.each((function(n,i){var o=Object(T.k)(t[0])?[t[0].call(i,n,i.innerHTML)]:t;Object(C.a)(o,(function(t,o){(ye(o)?Object(j.a)(Object(T.b)(o,"div")):n&&Object(T.j)(o)?Object(j.a)(o.cloneNode(!0)):Object(j.a)(o))[e?"insertAfter":"insertBefore"](i)}))}))}})),Object(C.a)(["prepend","append"],(function(e,t){j.a.fn[t]=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return this.each((function(n,i){var o,a=i.childNodes,r=a.length,s=r?a[e?r-1:0]:document.createElement("div");r||i.appendChild(s);var c=Object(T.k)(t[0])?[t[0].call(i,n,i.innerHTML)]:t;n&&(c=c.map((function(e){return Object(T.q)(e)?e:Object(j.a)(e).clone()}))),(o=Object(j.a)(s))[e?"after":"before"].apply(o,c),r||i.removeChild(s)}))}}));var Oe={};function xe(e,t){if(Object(T.r)(Oe[e])&&(Oe[e]=[]),Object(T.r)(t))return Oe[e];Oe[e].push(t)}function je(e){Object(T.r)(Oe[e])||Oe[e].length&&Oe[e].shift()()}var Se,Ee={history:!0,overlay:!0,modal:!1,closeOnEsc:!0,closeOnCancel:!0,closeOnConfirm:!0,destroyOnClosed:!1},ke=null,Ce="_mdui_dialog",Te=!1,Ie=function(e,t){var n=this;void 0===t&&(t={}),this.options=ee({},Ee),this.state="closed",this.append=!1,this.$element=Object(j.a)(e).first(),U(document.body,this.$element[0])||(this.append=!0,S.a.append(this.$element)),ee(this.options,t),this.$element.find("[mdui-dialog-cancel]").each((function(e,t){Object(j.a)(t).on("click",(function(){n.triggerEvent("cancel"),n.options.closeOnCancel&&n.close()}))})),this.$element.find("[mdui-dialog-confirm]").each((function(e,t){Object(j.a)(t).on("click",(function(){n.triggerEvent("confirm"),n.options.closeOnConfirm&&n.close()}))})),this.$element.find("[mdui-dialog-close]").each((function(e,t){Object(j.a)(t).on("click",(function(){return n.close()}))}))};Ie.prototype.triggerEvent=function(e){te(e,"dialog",this.$element,this)},Ie.prototype.readjust=function(){if(ke){var e=ke.$element,t=e.children(".mdui-dialog-title"),n=e.children(".mdui-dialog-content"),i=e.children(".mdui-dialog-actions");e.height(""),n.height("");var o=e.height();e.css({top:(S.c.height()-o)/2+"px",height:o+"px"}),n.innerHeight(o-(t.innerHeight()||0)-(i.innerHeight()||0))}},Ie.prototype.hashchangeEvent=function(){window.location.hash.substring(1).indexOf("mdui-dialog")<0&&ke.close(!0)},Ie.prototype.overlayClick=function(e){Object(j.a)(e.target).hasClass("mdui-overlay")&&ke&&ke.close()},Ie.prototype.transitionEnd=function(){this.$element.hasClass("mdui-dialog-open")?(this.state="opened",this.triggerEvent("opened")):(this.state="closed",this.triggerEvent("closed"),this.$element.hide(),xe(Ce).length||ke||!Te||(j.a.unlockScreen(),Te=!1),S.c.off("resize",j.a.throttle(this.readjust,100)),this.options.destroyOnClosed&&this.destroy())},Ie.prototype.doOpen=function(){var e=this;if(ke=this,Te||(j.a.lockScreen(),Te=!0),this.$element.show(),this.readjust(),S.c.on("resize",j.a.throttle(this.readjust,100)),this.state="opening",this.triggerEvent("open"),this.$element.addClass("mdui-dialog-open").transitionEnd((function(){return e.transitionEnd()})),Se||(Se=j.a.showOverlay(5100)),this.options.modal?Se.off("click",this.overlayClick):Se.on("click",this.overlayClick),Se.css("opacity",this.options.overlay?"":0),this.options.history){var t=window.location.hash.substring(1);t.indexOf("mdui-dialog")>-1&&(t=t.replace(/[&?]?mdui-dialog/g,"")),window.location.hash=t?t+(t.indexOf("?")>-1?"&":"?")+"mdui-dialog":"mdui-dialog",S.c.on("hashchange",this.hashchangeEvent)}},Ie.prototype.isOpen=function(){return"opening"===this.state||"opened"===this.state},Ie.prototype.open=function(){var e=this;this.isOpen()||(ke&&("opening"===ke.state||"opened"===ke.state)||xe(Ce).length?xe(Ce,(function(){return e.doOpen()})):this.doOpen())},Ie.prototype.close=function(e){var t=this;void 0===e&&(e=!1),setTimeout((function(){t.isOpen()&&(ke=null,t.state="closing",t.triggerEvent("close"),!xe(Ce).length&&Se&&(j.a.hideOverlay(),Se=null,Object(j.a)(".mdui-overlay").css("z-index",2e3)),t.$element.removeClass("mdui-dialog-open").transitionEnd((function(){return t.transitionEnd()})),t.options.history&&!xe(Ce).length&&(e||window.history.back(),S.c.off("hashchange",t.hashchangeEvent)),setTimeout((function(){je(Ce)}),100))}))},Ie.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ie.prototype.getState=function(){return this.state},Ie.prototype.destroy=function(){this.append&&this.$element.remove(),xe(Ce).length||ke||(Se&&(j.a.hideOverlay(),Se=null),Te&&(j.a.unlockScreen(),Te=!1))},Ie.prototype.handleUpdate=function(){this.readjust()},S.b.on("keydown",(function(e){ke&&ke.options.closeOnEsc&&"opened"===ke.state&&27===e.keyCode&&ke.close()})),J.a.Dialog=Ie;var Ne={text:"",bold:!1,close:!0,onClick:function(){}},Re={title:"",content:"",buttons:[],stackedButtons:!1,cssClass:"",history:!0,overlay:!0,modal:!1,closeOnEsc:!0,destroyOnClosed:!0,onOpen:function(){},onOpened:function(){},onClose:function(){},onClosed:function(){}};J.a.dialog=function(e){var t,n;e=ee({},Re,e),Object(C.a)(e.buttons,(function(t,n){e.buttons[t]=ee({},Ne,n)}));var i="";(null===(t=e.buttons)||void 0===t?void 0:t.length)&&(i='<div class="mdui-dialog-actions'+(e.stackedButtons?" mdui-dialog-actions-stacked":"")+'">',Object(C.a)(e.buttons,(function(e,t){i+='<a href="javascript:void(0)" class="mdui-btn mdui-ripple mdui-text-color-primary '+(t.bold?"mdui-btn-bold":"")+'">'+t.text+"</a>"})),i+="</div>");var o='<div class="mdui-dialog '+e.cssClass+'">'+(e.title?'<div class="mdui-dialog-title">'+e.title+"</div>":"")+(e.content?'<div class="mdui-dialog-content">'+e.content+"</div>":"")+i+"</div>",a=new J.a.Dialog(o,{history:e.history,overlay:e.overlay,modal:e.modal,closeOnEsc:e.closeOnEsc,destroyOnClosed:e.destroyOnClosed});return(null===(n=e.buttons)||void 0===n?void 0:n.length)&&a.$element.find(".mdui-dialog-actions .mdui-btn").each((function(t,n){Object(j.a)(n).on("click",(function(){e.buttons[t].onClick(a),e.buttons[t].close&&a.close()}))})),a.$element.on("open.mdui.dialog",(function(){e.onOpen(a)})).on("opened.mdui.dialog",(function(){e.onOpened(a)})).on("close.mdui.dialog",(function(){e.onClose(a)})).on("closed.mdui.dialog",(function(){e.onClosed(a)})),a.open(),a};var De={confirmText:"ok",cancelText:"cancel",history:!0,modal:!1,closeOnEsc:!0,closeOnCancel:!0,closeOnConfirm:!0};J.a.confirm=function(e,t,n,i,o){return Object(T.k)(t)&&(o=i,i=n,n=t,t=""),Object(T.r)(n)&&(n=function(){}),Object(T.r)(i)&&(i=function(){}),Object(T.r)(o)&&(o={}),o=ee({},De,o),J.a.dialog({title:t,content:e,buttons:[{text:o.cancelText,bold:!1,close:o.closeOnCancel,onClick:i},{text:o.confirmText,bold:!1,close:o.closeOnConfirm,onClick:n}],cssClass:"mdui-dialog-confirm",history:o.history,modal:o.modal,closeOnEsc:o.closeOnEsc})},j.a.fn.transformOrigin=function(e){return this.each((function(){this.style.webkitTransformOrigin=e,this.style.transformOrigin=e}))};var Me={};j.a.guid=function(e){if(!Object(T.r)(e)&&!Object(T.r)(Me[e]))return Me[e];function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var n="_"+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t();return Object(T.r)(e)||(Me[e]=n),n};var qe={position:"auto",delay:0,content:""},Ae=function(e,t){void 0===t&&(t={}),this.options=ee({},qe),this.state="closed",this.timeoutId=null,this.$target=Object(j.a)(e).first(),ee(this.options,t),this.$element=Object(j.a)('<div class="mdui-tooltip" id="'+j.a.guid()+'">'+this.options.content+"</div>").appendTo(document.body);var n=this;this.$target.on("touchstart mouseenter",(function(e){n.isDisabled(this)||le(e)&&(ue(e),n.open())})).on("touchend mouseleave",(function(e){n.isDisabled(this)||le(e)&&n.close()})).on("touchend touchmove touchcancel",(function(e){n.isDisabled(this)||ue(e)}))};Ae.prototype.isDisabled=function(e){return e.disabled||void 0!==Object(j.a)(e).attr("disabled")},Ae.prototype.isDesktop=function(){return S.c.width()>1024},Ae.prototype.setPosition=function(){var e,t,n=this.$target[0].getBoundingClientRect(),i=this.isDesktop()?14:24,o=this.$element[0].offsetWidth,a=this.$element[0].offsetHeight,r=this.options.position;switch("auto"===r&&(r=n.top+n.height+i+a+2<S.c.height()?"bottom":i+a+2<n.top?"top":i+o+2<n.left?"left":n.width+i+o+2<S.c.width()-n.left?"right":"bottom"),r){case"bottom":e=o/2*-1,t=n.height/2+i,this.$element.transformOrigin("top center");break;case"top":e=o/2*-1,t=-1*(a+n.height/2+i),this.$element.transformOrigin("bottom center");break;case"left":e=-1*(o+n.width/2+i),t=a/2*-1,this.$element.transformOrigin("center right");break;case"right":e=n.width/2+i,t=a/2*-1,this.$element.transformOrigin("center left")}var s=this.$target.offset();this.$element.css({top:s.top+n.height/2+"px",left:s.left+n.width/2+"px","margin-left":e+"px","margin-top":t+"px"})},Ae.prototype.triggerEvent=function(e){te(e,"tooltip",this.$target,this)},Ae.prototype.transitionEnd=function(){this.$element.hasClass("mdui-tooltip-open")?(this.state="opened",this.triggerEvent("opened")):(this.state="closed",this.triggerEvent("closed"))},Ae.prototype.isOpen=function(){return"opening"===this.state||"opened"===this.state},Ae.prototype.doOpen=function(){var e=this;this.state="opening",this.triggerEvent("open"),this.$element.addClass("mdui-tooltip-open").transitionEnd((function(){return e.transitionEnd()}))},Ae.prototype.open=function(e){var t=this;if(!this.isOpen()){var n=ee({},this.options);e&&ee(this.options,e),n.content!==this.options.content&&this.$element.html(this.options.content),this.setPosition(),this.options.delay?this.timeoutId=setTimeout((function(){return t.doOpen()}),this.options.delay):(this.timeoutId=null,this.doOpen())}},Ae.prototype.close=function(){var e=this;this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.isOpen()&&(this.state="closing",this.triggerEvent("close"),this.$element.removeClass("mdui-tooltip-open").transitionEnd((function(){return e.transitionEnd()})))},Ae.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ae.prototype.getState=function(){return this.state},J.a.Tooltip=Ae;Object(j.a)((function(){S.b.on("touchstart mouseover","[mdui-tooltip]",(function(){var e=Object(j.a)(this),t=e.data("_mdui_tooltip");t||(t=new J.a.Tooltip(this,ve(this,"mdui-tooltip")),e.data("_mdui_tooltip",t))}))}));var Le={message:"",timeout:4e3,position:"bottom",buttonText:"",buttonColor:"",closeOnButtonClick:!0,closeOnOutsideClick:!0,onClick:function(){},onButtonClick:function(){},onOpen:function(){},onOpened:function(){},onClose:function(){},onClosed:function(){}},$e=null,Pe=function(e){this.options=ee({},Le),this.state="closed",this.timeoutId=null,ee(this.options,e);var t="",n="";0===this.options.buttonColor.indexOf("#")||0===this.options.buttonColor.indexOf("rgb")?t='style="color:'+this.options.buttonColor+'"':""!==this.options.buttonColor&&(n="mdui-text-color-"+this.options.buttonColor),this.$element=Object(j.a)('<div class="mdui-snackbar"><div class="mdui-snackbar-text">'+this.options.message+"</div>"+(this.options.buttonText?'<a href="javascript:void(0)" class="mdui-snackbar-action mdui-btn mdui-ripple mdui-ripple-white '+n+'" '+t+">"+this.options.buttonText+"</a>":"")+"</div>").appendTo(document.body),this.setPosition("close"),this.$element.reflow().addClass("mdui-snackbar-"+this.options.position)};function Ue(e){return void 0===e&&(e=!1),'<div class="mdui-spinner-layer '+(e?"mdui-spinner-layer-"+e:"")+'"><div class="mdui-spinner-circle-clipper mdui-spinner-left"><div class="mdui-spinner-circle"></div></div><div class="mdui-spinner-gap-patch"><div class="mdui-spinner-circle"></div></div><div class="mdui-spinner-circle-clipper mdui-spinner-right"><div class="mdui-spinner-circle"></div></div></div>'}function He(e){var t=Object(j.a)(e),n=t.hasClass("mdui-spinner-colorful")?Ue(1)+Ue(2)+Ue(3)+Ue(4):Ue();t.html(n)}Pe.prototype.closeOnOutsideClick=function(e){var t=Object(j.a)(e.target);t.hasClass("mdui-snackbar")||t.parents(".mdui-snackbar").length||$e.close()},Pe.prototype.setPosition=function(e){var t,n,i=this.$element[0].clientHeight,o=this.options.position;t="bottom"===o||"top"===o?"-50%":"0","open"===e?n="0":("bottom"===o&&(n=i),"top"===o&&(n=-i),"left-top"!==o&&"right-top"!==o||(n=-i-24),"left-bottom"!==o&&"right-bottom"!==o||(n=i+24)),this.$element.transform("translate("+t+","+n+"px")},Pe.prototype.open=function(){var e=this;"opening"!==this.state&&"opened"!==this.state&&($e?xe("_mdui_snackbar",(function(){return e.open()})):($e=this,this.state="opening",this.options.onOpen(this),this.setPosition("open"),this.$element.transitionEnd((function(){"opening"===e.state&&(e.state="opened",e.options.onOpened(e),e.options.buttonText&&e.$element.find(".mdui-snackbar-action").on("click",(function(){e.options.onButtonClick(e),e.options.closeOnButtonClick&&e.close()})),e.$element.on("click",(function(t){Object(j.a)(t.target).hasClass("mdui-snackbar-action")||e.options.onClick(e)})),e.options.closeOnOutsideClick&&S.b.on(se,e.closeOnOutsideClick),e.options.timeout&&(e.timeoutId=setTimeout((function(){return e.close()}),e.options.timeout)))}))))},Pe.prototype.close=function(){var e=this;"closing"!==this.state&&"closed"!==this.state&&(this.timeoutId&&clearTimeout(this.timeoutId),this.options.closeOnOutsideClick&&S.b.off(se,this.closeOnOutsideClick),this.state="closing",this.options.onClose(this),this.setPosition("close"),this.$element.transitionEnd((function(){"closing"===e.state&&($e=null,e.state="closed",e.options.onClosed(e),e.$element.remove(),je("_mdui_snackbar"))})))},J.a.snackbar=function(e,t){void 0===t&&(t={}),Object(T.q)(e)?t.message=e:t=e;var n=new Pe(t);return n.open(),n},Object(j.a)((function(){J.a.mutation(".mdui-spinner",(function(){He(this)}))})),J.a.updateSpinners=function(e){(Object(T.r)(e)?Object(j.a)(".mdui-spinner"):Object(j.a)(e)).each((function(){He(this)}))};var Be={position:"auto",align:"auto",gutter:16,fixed:!1,covered:"auto",subMenuTrigger:"hover",subMenuDelay:200},Ge=function(e,t,n){var i=this;if(void 0===n&&(n={}),this.options=ee({},Be),this.state="closed",this.$anchor=Object(j.a)(e).first(),this.$element=Object(j.a)(t).first(),!this.$anchor.parent().is(this.$element.parent()))throw new Error("anchorSelector and menuSelector must be siblings");ee(this.options,n),this.isCascade=this.$element.hasClass("mdui-menu-cascade"),this.isCovered="auto"===this.options.covered?!this.isCascade:this.options.covered,this.$anchor.on("click",(function(){return i.toggle()})),S.b.on("click touchstart",(function(e){var t=Object(j.a)(e.target);!i.isOpen()||t.is(i.$element)||U(i.$element[0],t[0])||t.is(i.$anchor)||U(i.$anchor[0],t[0])||i.close()}));var o=this;S.b.on("click",".mdui-menu-item",(function(){var e=Object(j.a)(this);e.find(".mdui-menu").length||void 0!==e.attr("disabled")||o.close()})),this.bindSubMenuEvent(),S.c.on("resize",j.a.throttle((function(){return i.readjust()}),100))};Ge.prototype.isOpen=function(){return"opening"===this.state||"opened"===this.state},Ge.prototype.triggerEvent=function(e){te(e,"menu",this.$element,this)},Ge.prototype.readjust=function(){var e,t,n,i,o,a,r=S.c.height(),s=S.c.width(),c=this.options.gutter,l=this.isCovered,u=this.options.fixed,d=this.$element.width(),p=this.$element.height(),f=this.$anchor[0].getBoundingClientRect(),m=f.top,h=f.left,g=f.height,_=f.width,v=r-m-g,b=s-h-_,w=this.$anchor[0].offsetTop,y=this.$anchor[0].offsetLeft;if(n="auto"===this.options.position?v+(l?g:0)>p+c?"bottom":m+(l?g:0)>p+c?"top":"center":this.options.position,i="auto"===this.options.align?b+_>d+c?"left":h+_>d+c?"right":"center":this.options.align,"bottom"===n)a="0",t=(l?0:g)+(u?m:w);else if("top"===n)a="100%",t=(l?g:0)+(u?m-p:w-p);else{a="50%";var O=p;this.isCascade||p+2*c>r&&(O=r-2*c,this.$element.height(O)),t=(r-O)/2+(u?0:w-m)}if(this.$element.css("top",t+"px"),"left"===i)o="0",e=u?h:y;else if("right"===i)o="100%",e=u?h+_-d:y+_-d;else{o="50%";var x=d;d+2*c>s&&(x=s-2*c,this.$element.width(x)),e=(s-x)/2+(u?0:y-h)}this.$element.css("left",e+"px"),this.$element.transformOrigin(o+" "+a)},Ge.prototype.readjustSubmenu=function(e){var t,n,i,o,a,r,s=e.parent(".mdui-menu-item"),c=S.c.height(),l=S.c.width(),u=e.width(),d=e.height(),p=s[0].getBoundingClientRect(),f=p.width,m=p.height,h=p.left,g=p.top;o=l-h-f>u?"left":h>u?"right":"left","bottom"===(i=c-g>d?"bottom":g+m>d?"top":"bottom")?(r="0",t="0"):"top"===i&&(r="100%",t=-d+m),e.css("top",t+"px"),"left"===o?(a="0",n=f):"right"===o&&(a="100%",n=-u),e.css("left",n+"px"),e.transformOrigin(a+" "+r)},Ge.prototype.openSubMenu=function(e){this.readjustSubmenu(e),e.addClass("mdui-menu-open").parent(".mdui-menu-item").addClass("mdui-menu-item-active")},Ge.prototype.closeSubMenu=function(e){e.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd((function(){return e.removeClass("mdui-menu-closing")})).parent(".mdui-menu-item").removeClass("mdui-menu-item-active"),e.find(".mdui-menu").each((function(e,t){var n=Object(j.a)(t);n.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd((function(){return n.removeClass("mdui-menu-closing")})).parent(".mdui-menu-item").removeClass("mdui-menu-item-active")}))},Ge.prototype.toggleSubMenu=function(e){e.hasClass("mdui-menu-open")?this.closeSubMenu(e):this.openSubMenu(e)},Ge.prototype.bindSubMenuEvent=function(){var e=this;if(this.$element.on("click",".mdui-menu-item",(function(t){var n=Object(j.a)(this),i=Object(j.a)(t.target);if(void 0===n.attr("disabled")&&!i.is(".mdui-menu")&&!i.is(".mdui-divider")&&i.parents(".mdui-menu-item").first().is(n)){var o=n.children(".mdui-menu");n.parent(".mdui-menu").children(".mdui-menu-item").each((function(t,n){var i=Object(j.a)(n).children(".mdui-menu");!i.length||o.length&&i.is(o)||e.closeSubMenu(i)})),o.length&&e.toggleSubMenu(o)}})),"hover"===this.options.subMenuTrigger){var t=null,n=null;this.$element.on("mouseover mouseout",".mdui-menu-item",(function(i){var o=Object(j.a)(this),a=i.type,r=Object(j.a)(i.relatedTarget);if(void 0===o.attr("disabled")){if("mouseover"===a){if(!o.is(r)&&U(o[0],r[0]))return}else if("mouseout"===a&&(o.is(r)||U(o[0],r[0])))return;var s=o.children(".mdui-menu");if("mouseover"===a){if(s.length){var c=s.data("timeoutClose.mdui.menu");if(c&&clearTimeout(c),s.hasClass("mdui-menu-open"))return;clearTimeout(n),t=n=setTimeout((function(){return e.openSubMenu(s)}),e.options.subMenuDelay),s.data("timeoutOpen.mdui.menu",t)}}else if("mouseout"===a&&s.length){var l=s.data("timeoutOpen.mdui.menu");l&&clearTimeout(l),t=setTimeout((function(){return e.closeSubMenu(s)}),e.options.subMenuDelay),s.data("timeoutClose.mdui.menu",t)}}}))}},Ge.prototype.transitionEnd=function(){this.$element.removeClass("mdui-menu-closing"),"opening"===this.state&&(this.state="opened",this.triggerEvent("opened")),"closing"===this.state&&(this.state="closed",this.triggerEvent("closed"),this.$element.css({top:"",left:"",width:"",position:"fixed"}))},Ge.prototype.toggle=function(){this.isOpen()?this.close():this.open()},Ge.prototype.open=function(){var e=this;this.isOpen()||(this.state="opening",this.triggerEvent("open"),this.readjust(),this.$element.css("position",this.options.fixed?"fixed":"absolute").addClass("mdui-menu-open").transitionEnd((function(){return e.transitionEnd()})))},Ge.prototype.close=function(){var e=this;this.isOpen()&&(this.state="closing",this.triggerEvent("close"),this.$element.find(".mdui-menu").each((function(t,n){e.closeSubMenu(Object(j.a)(n))})),this.$element.removeClass("mdui-menu-open").addClass("mdui-menu-closing").transitionEnd((function(){return e.transitionEnd()})))},J.a.Menu=Ge;Object(j.a)((function(){S.b.on("click","[mdui-menu]",(function(){var e=Object(j.a)(this),t=e.data("_mdui_menu");if(!t){var n=ve(this,"mdui-menu"),i=n.target;delete n.target,t=new J.a.Menu(e,i,n),e.data("_mdui_menu",t),t.toggle()}}))}));var Ke=n(10),ze=n(17),Fe={},Ye="start.mdui.ajax",We="success.mdui.ajax",Qe="error.mdui.ajax",Ve="complete.mdui.ajax";function Ze(e){return["GET","HEAD"].indexOf(e)>=0}function Xe(e,t){return(e+"&"+t).replace(/[&?]{1,2}/,"?")}var Je=function(e){var t,n=!1,i={},o=function(e){var t={url:"",method:"GET",data:"",processData:!0,async:!0,cache:!0,username:"",password:"",headers:{},xhrFields:{},statusCode:{},dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0,global:!0};return Object(C.a)(Fe,(function(e,n){["beforeSend","success","error","complete","statusCode"].indexOf(e)<0&&!Object(T.r)(n)&&(t[e]=n)})),ee({},t,e)}(e),a=o.url||window.location.toString(),r=o.method.toUpperCase(),s=o.data,c=o.processData,l=o.async,u=o.cache,d=o.username,p=o.password,f=o.headers,m=o.xhrFields,h=o.statusCode,g=o.dataType,_=o.contentType,v=o.timeout,b=o.global;function w(e,t,i){for(var a,r,s=[],c=arguments.length-3;c-- >0;)s[c]=arguments[c+3];b&&Object(j.a)(document).trigger(e,t),i&&(i in Fe&&(a=Fe[i].apply(Fe,s)),o[i]&&(r=o[i].apply(o,s)),"beforeSend"!==i||!1!==a&&!1!==r||(n=!0))}return!s||!Ze(r)&&!c||Object(T.q)(s)||s instanceof ArrayBuffer||s instanceof Blob||s instanceof Document||s instanceof FormData||(s=Object(ze.a)(s)),s&&Ze(r)&&(a=Xe(a,s),s=null),new Promise((function(e,c){Ze(r)&&!u&&(a=Xe(a,"_="+Date.now()));var b,y=new XMLHttpRequest;y.open(r,a,l,d,p),(_||s&&!Ze(r)&&!1!==_)&&y.setRequestHeader("Content-Type",_),"json"===g&&y.setRequestHeader("Accept","application/json, text/javascript"),f&&Object(C.a)(f,(function(e,t){Object(T.r)(t)||y.setRequestHeader(e,t+"")})),/^([\w-]+:)?\/\/([^/]+)/.test(a)&&RegExp.$2!==window.location.host||y.setRequestHeader("X-Requested-With","XMLHttpRequest"),m&&Object(C.a)(m,(function(e,t){y[e]=t})),i.xhr=y,i.options=o,y.onload=function(){b&&clearTimeout(b);var n,o=y.status>=200&&y.status<300||304===y.status||0===y.status;if(o)if(t=204===y.status||"HEAD"===r?"nocontent":304===y.status?"notmodified":"success","json"===g){try{n="HEAD"===r?void 0:JSON.parse(y.responseText),i.data=n}catch(e){w(Qe,i,"error",y,t="parsererror"),c(new Error(t))}"parsererror"!==t&&(w(We,i,"success",n,t,y),e(n))}else n="HEAD"===r?void 0:"text"===y.responseType||""===y.responseType?y.responseText:y.response,i.data=n,w(We,i,"success",n,t,y),e(n);else w(Qe,i,"error",y,t="error"),c(new Error(t));Object(C.a)([Fe.statusCode,h],(function(e,i){i&&i[y.status]&&(o?i[y.status](n,t,y):i[y.status](y,t))})),w(Ve,i,"complete",y,t)},y.onerror=function(){b&&clearTimeout(b),w(Qe,i,"error",y,y.statusText),w(Ve,i,"complete",y,"error"),c(new Error(y.statusText))},y.onabort=function(){var e="abort";b&&(e="timeout",clearTimeout(b)),w(Qe,i,"error",y,e),w(Ve,i,"complete",y,e),c(new Error(e))},w(Ye,i,"beforeSend",y),n?c(new Error("cancel")):(v>0&&(b=setTimeout((function(){y.abort()}),v)),y.send(s))}))},et=n(12),tt=function(){};tt.prototype.getStorage=function(e){return window.localStorage.getItem(e)},tt.prototype.setStorage=function(e,t){window.localStorage.setItem(e,t)},tt.prototype.removeStorage=function(e){window.localStorage.removeItem(e)};var nt=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.request=function(e){var t=e.data instanceof FormData,n={token:this.getStorage("token")||void 0};return e.headers&&(n=ee({},n,e.headers)),new Promise((function(i,o){Je({method:e.method||et.b,url:""+Ke.a.apiPath+(e.url||""),data:t?e.data:JSON.stringify(e.data),headers:n,dataType:"json",contentType:!t&&"application/json",timeout:Ke.a.timeout,global:!1,beforeSend:function(){Ke.a.beforeSend&&Ke.a.beforeSend()},success:function(e){Ke.a.success&&Ke.a.success(e),0===e.code?i(e):o(e)},error:function(e,t){Ke.a.error&&Ke.a.error(t),o({code:999999,message:t})},complete:function(){Ke.a.complete&&Ke.a.complete()}})}))},t}(tt);function it(e,t,n){void 0===n&&(n=1296e3);var i=new Date;i.setTime(i.getTime()+1e3*n),document.cookie=e+"="+t+"; expires="+i.toUTCString()+"; path=/"}n(25);Ke.a.apiPath=window.G_API,Ke.a.adapter=new nt,Ke.a.error=function(){};var ot=Ke.a.adapter.getStorage("token");ot&&it("token",ot),window.top===window&&window.console&&!Object(T.l)()&&setTimeout((function(){window.console.log("%c%s","color: red; background: yellow; font-size: 24px;","警告！"),window.console.log("%c%s","color: black; font-size: 18px;","使用此控制台可能会让攻击者利用 Self-XSS（自跨站脚本）攻击来冒充你，并窃取你的信息。\n请勿输入或粘贴你不明白的代码。")}));var at=n(4),rt=n(1),st=function(e){return Object(at.d)(Object(rt.b)("/topics/{topic_id}/followers",e))},ct=function(e){return Object(at.a)(Object(rt.b)("/topics/{topic_id}/followers",e))},lt=function(e){return void 0===e&&(e={}),Object(at.b)(Object(rt.b)("/topics",e,["page","per_page","include","order","topic_id","name","trashed"]))},ut=function(e){return Object(at.d)(Object(rt.b)("/questions/{question_id}/followers",e))},dt=function(e){return Object(at.d)(Object(rt.b)("/questions/{question_id}/comments",e,["include"]),Object(rt.a)(e,["content"]))},pt=function(e){return Object(at.a)(Object(rt.b)("/questions/{question_id}/followers",e))},ft=function(e){return void 0===e&&(e={}),Object(at.b)(Object(rt.b)("/questions",e,["page","per_page","order","include","question_id","user_id","topic_id","trashed"]))},mt=function(e){return Object(at.d)(Object(rt.b)("/articles/{article_id}/followers",e))},ht=function(e){return Object(at.d)(Object(rt.b)("/articles/{article_id}/comments",e,["include"]),Object(rt.a)(e,["content"]))},gt=function(e){return Object(at.a)(Object(rt.b)("/articles/{article_id}/followers",e))},_t=function(e){return void 0===e&&(e={}),Object(at.b)(Object(rt.b)("/articles",e,["page","per_page","order","include","article_id","user_id","topic_id","trashed"]))},vt=n(8);function bt(){return window.app.user.getState().user}var wt,yt=n(6),Ot=function(e){return e.indexOf("question")?e.indexOf("user")?e.indexOf("topic")&&"index_topics"!==e?mt:st:vt.a:ut},xt=function(e){return e.indexOf("question")?e.indexOf("user")?e.indexOf("topic")&&"index_topics"!==e?gt:ct:vt.b:pt},jt={toggleFollow:function(e){var t=e.type,n=e.dataName;void 0===n&&(n=null);var i=e.primaryKey;void 0===i&&(i=null);var o=e.id;return void 0===o&&(o=null),function(e,a){bt()?["article","question","user","topic"].indexOf(t)>-1?function(e,t,n){var i,o="user"===e?"interviewee":e,a=e+"_id",r="following_"+o,s=t[o];if(!t[r]){n.setState(((i={})[r]=!0,i));var c=function(){var e;s.relationships.is_following=!s.relationships.is_following,n.setState(((e={})[o]=s,e))};c();var l={};l[a]=s[a],(s.relationships.is_following?Ot(e):xt(e))(l).finally((function(){var e;return n.setState(((e={})[r]=!1,e))})).then((function(t){var i;k(e+"s_follow_updated"),s.follower_count=t.data.follower_count,n.setState(((i={})[o]=s,i))})).catch((function(e){Object(yt.a)(e),c()}))}}(t,e,a):["users","topics","index_topics","users_dialog"].indexOf(t)>-1?function(e,t,n,i){var o={users:function(){return[n.tabs[n.tabIndex]+"_data","user","user_id"]},topics:function(){return[n.tabs[n.tabIndex]+"_data","topic","topic_id"]},users_dialog:function(){return["data","user","user_id"]},index_topics:function(){return["topics_data","topic","topic_id"]}}[e](),a=o[0],r=o[1],s=o[2],c=n[a];c.forEach((function(n,o){if(n[s]===t){var l=function(){var e;c[o].relationships.is_following=!n.relationships.is_following,i.setState(((e={})[a]=c,e))};l();var u;(n.relationships.is_following?Ot(e):xt(e))(((u={})[s]=t,u)).then((function(){k(r+"s_follow_updated")})).catch((function(e){Object(yt.a)(e),l()}))}}))}(t,o,e,a):["relationships-user"].indexOf(t)>-1&&("article"===n||"question"===n?function(e,t,n){var i=n.getState()[t],o=function(){var e;i.relationships.user.relationships.is_following=!i.relationships.user.relationships.is_following,n.setState(((e={})[t]=i,e))};o(),(i.relationships.user.relationships.is_following?vt.a:vt.b)({user_id:i.user_id}).then((function(){k("users_follow_updated")})).catch((function(e){Object(yt.a)(e),o()}))}(0,n,a):function(e,t,n,i){var o;"comments_data"===n?(o=window.app.comments.getState(),i=window.app.comments):o=i.getState();var a=o[n];a.forEach((function(o,r){if(o[e]===t){var s=function(){var e,t=o.relationships.user.relationships.is_following;a[r].relationships.user.relationships.is_following=!t,i.setState(((e={})[n]=a,e))};s();(o.relationships.user.relationships.is_following?vt.a:vt.b)({user_id:o.user_id}).then((function(){k("users_follow_updated")})).catch((function(e){Object(yt.a)(e),s()}))}}))}(i,o,n,a)):k("login_open")}}},St=Object(j.a)("title"),Et=ee({setState:function(e){return e},getState:function(){return function(e){return e}},setTitle:function(e){var t=e?e+" - "+window.G_OPTIONS.site_name:window.G_OPTIONS.site_name+(window.G_OPTIONS.site_description?" - "+window.G_OPTIONS.site_description:"");St.text(t)}},jt),kt=n(11),Ct=ee({onCreate:function(){return function(e,t){k("route_update"),t.setTitle(""),e.topics_pagination||t.loadData({localParamName:"G_INDEX_TOPICS",func:lt,fieldPrefix:"topics",include:["is_following"],order:"-follower_count",per_page:12});var n=["user","topics","is_following"];e.questions_recent_pagination||t.loadData({localParamName:"G_INDEX_QUESTIONS_RECENT",func:ft,fieldPrefix:"questions_recent",include:n,order:"-update_time",per_page:5}),e.questions_popular_pagination||t.loadData({localParamName:"G_INDEX_QUESTIONS_POPULAR",func:ft,fieldPrefix:"questions_popular",include:n,order:"-answer_count",per_page:5}),e.articles_recent_pagination||t.loadData({localParamName:"G_INDEX_ARTICLES_RECENT",func:_t,fieldPrefix:"articles_recent",include:n,order:"-create_time",per_page:5}),e.articles_popular_pagination||t.loadData({localParamName:"G_INDEX_ARTICLES_POPULAR",func:_t,fieldPrefix:"articles_popular",include:n,order:"-vote_count",per_page:5}),wt&&(window.scrollTo(0,wt),wt=0)}},onDestroy:function(){},loadData:function(e){var t=e.localParamName,n=e.func,i=e.fieldPrefix,o=e.include,a=e.order,r=e.per_page;return function(e,s){var c,l;((l=window[t])&&(s.setState(((c={})[i+"_data"]=l.data,c[i+"_pagination"]=l.pagination,c)),window[t]=null),l)||function(){var e;s.setState(((e={})[i+"_loading"]=!0,e)),n({include:o,order:a,per_page:r}).finally((function(){var e;s.setState(((e={})[i+"_loading"]=!1,e))})).then((function(e){var t,n=e.data,o=e.pagination;s.setState(((t={})[i+"_data"]=n,t[i+"_pagination"]=o,t))})).catch(yt.a)}()}},afterItemClick:function(e){wt=window.pageYOffset,Object(T.r)(e.topic_id)?Object(T.r)(e.question_id)?Object(T.r)(e.article_id)||(window.G_ARTICLE=e):window.G_QUESTION=e:window.G_TOPIC=e}},Et,kt.a),Tt={editorOpen:function(){return function(e,t){if(bt()){try{var n=JSON.parse(window.localStorage.getItem(e.auto_save_key+"-topics"));n&&t.setState({editor_selected_topics:n,editor_selected_topic_ids:n.map((function(e){return e.topic_id}))})}catch(e){}t.setState({editor_open:!0}),t.editorUpdateOverlay()}else k("login_open")}},editorClose:function(){return function(e,t){t.setState({editor_open:!1}),t.editorUpdateOverlay()}},editorMinimize:function(){return function(e,t){t.setState({editor_minimize:!e.editor_minimize}),t.editorUpdateOverlay()}},editorMaximize:function(){return function(e,t){t.setState({editor_minimize:!1,editor_maximize:!e.editor_maximize}),t.editorUpdateOverlay()}},editorUpdateOverlay:function(){return function(e,t){var n=t.getState();n.editor_open&&n.editor_maximize&&!n.editor_minimize?j.a.showOverlay():j.a.hideOverlay()}}},It={topicSelectorOpen:function(){return function(e,t){var n=new J.a.Dialog(".mc-topic-selector",{history:!1}),i=n.$element.find(".mdui-dialog-content");t.setState({topics_data:[],topics_pagination:null,topics_loading:!0}),n.open();var o=function(e){e.finally((function(){t.setState({topics_loading:!1})})).then((function(e){var n=e.data,i=e.pagination;t.setState({topics_data:t.getState().topics_data.concat(n),topics_pagination:i})})).catch(yt.a)},a=function(){if(!t.getState().topics_loading){var e=t.getState().topics_pagination;e&&(e.page>=e.pages||i[0].scrollHeight-i[0].scrollTop-i[0].offsetHeight>100||(t.setState({topics_loading:!0}),o(lt({page:e.page+1,order:"-follower_count"}))))}};o(lt({order:"-follower_count"})),i.on("scroll",a),n.$element.on("close.mdui.dialog",(function(){i.off("scroll",a)}))}},topicSelectorChange:function(e){var t=e.event,n=e.dataIndex;return function(e,i){var o=t.target.checked,a=e.topics_data,r=e.editor_selected_topics,s=e.topics_max_selectable;if(o&&r.length>=s)J.a.snackbar("最多只能选择 "+s+" 个话题");else{if(o){var c=r.concat([a[n]]);i.setState({editor_selected_topics:c,editor_selected_topic_ids:c.map((function(e){return e.topic_id}))})}else{var l=(u=r,p=a[n].topic_id,Object(C.a)(u,(function(e,t){return t.topic_id!==p||(d=e,!1)})),d);r.splice(l,1),i.setState({editor_selected_topics:r,editor_selected_topic_ids:r.map((function(e){return e.topic_id}))})}var u,d,p;i.saveToLocalStorage()}}},topicSelectorRemoveOne:function(e){return function(t,n){var i=t.editor_selected_topics;i.splice(e,1),n.setState({editor_selected_topics:i,editor_selected_topic_ids:i.map((function(e){return e.topic_id}))}),n.saveToLocalStorage()}},saveToLocalStorage:function(){return function(e){window.localStorage.setItem(e.auto_save_key+"-topics",JSON.stringify(e.editor_selected_topics))}}},Nt={editor_open:!1,editor_maximize:!1,editor_minimize:!1,editor_selected_topics:[],editor_selected_topic_ids:[]},Rt={topics_data:[],topics_pagination:null,topics_loading:!1,topics_max_selectable:10},Dt=["recent","popular","following"],Mt={current_tab:"",publishing:!1,tabs:Dt,last_visit_id:0,auto_save_key:"page-questions"};Dt.forEach((function(e){Mt[e+"_data"]=[],Mt[e+"_pagination"]=null,Mt[e+"_loading"]=!1}));var qt=ee(Mt,Nt,Rt);function At(e){return window.G_ROOT+e}function Lt(e){return window.location.pathname===At(e)}function $t(e){var t=window.location.pathname.substr(window.G_ROOT.length);return e.test(t)}function Pt(){return Lt("/")}function Ut(){return $t(/^\/articles\/\d+$/)}function Ht(){return Lt("/articles")}function Bt(){return $t(/^\/questions\/\d+$/)}function Gt(){return Lt("/questions")}function Kt(){return $t(/^\/topics\/\d+$/)}function zt(){return Lt("/topics")}function Ft(){return $t(/^\/users\/\d+$/)}function Yt(){return Lt("/users")}function Wt(){return Lt("/notifications")}var Qt=n(16),Vt=n.n(Qt);function Zt(e,t){void 0===t&&(t="YYYY-MM-DD HH:mm:ss");var n=new Date(1e3*e);return Vt()(t,n)}function Xt(e){var t=new Date(1e3*e),n=Date.parse((new Date).toString())/1e3-e;return n<1?"刚刚":n<60?n+" 秒前":n<3600?parseInt(String(n/60),10)+" 分钟前":e>Date.parse(new Date((new Date).setHours(0,0,0,0)).toString())/1e3?"今天 "+Vt()("HH:mm",t):e>Date.parse(new Date((new Date).getFullYear()+"/01/01 00:00:00").toString())/1e3?Vt()("MM-DD HH:mm",t):Vt()("YYYY-MM-DD",t)}function Jt(){return Date.parse((new Date).toString())/1e3}var en,tn,nn=Dt.indexOf("recent"),on={recent:!1,popular:!1,following:!1},an={recent:0,popular:0,following:0},rn=["user","topics","is_following"],sn=function(e,t){return"recent"===e?ft({page:t,include:rn,per_page:20,order:"-update_time"}):"popular"===e?ft({page:t,include:rn,per_page:20,order:"-vote_count"}):Object(vt.n)({page:t,include:rn,per_page:20})},cn=ee({onCreate:function(){return function(e,t){k("route_update"),en=new J.a.Tab(".mc-tab"),nn=en.activeIndex,en.$element.on("change.mdui.tab",(function(){nn=en.activeIndex,window.scrollTo(0,0),window.history.replaceState({},"","#"+Dt[nn]),t.afterChangeTab()})),t.afterChangeTab(),tn&&(window.scrollTo(0,tn),tn=0),S.c.on("scroll",t.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},afterChangeTab:function(){return function(e,t){var n,i,o=Dt[nn],a=o.toUpperCase();if("recent"===o?t.setTitle("最新提问"):"popular"===o?t.setTitle("近期热门提问"):t.setTitle("我关注的提问"),t.setState({current_tab:o}),!(!on[Dt[nn]]&&e[o+"_pagination"]&&Jt()-an[Dt[nn]]<180)){if(on[Dt[nn]]=!1,an[Dt[nn]]=Jt(),window["G_QUESTIONS_"+a])return t.setState(((n={})[o+"_data"]=window["G_QUESTIONS_"+a].data,n[o+"_pagination"]=window["G_QUESTIONS_"+a].pagination,n)),window["G_QUESTIONS_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i[o+"_loading"]=!0,i)),sn(o,1).finally((function(){var e;t.setState(((e={})[o+"_loading"]=!1,e))})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n,i=Dt[nn];if(!e[i+"_loading"]){var o=e[i+"_pagination"];o.page>=o.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.setState(((n={})[i+"_loading"]=!0,n)),sn(i,o.page+1).finally((function(){var e;t.setState(((e={})[i+"_loading"]=!1,e))})).then((function(n){var o;t.setState(((o={})[i+"_data"]=e[i+"_data"].concat(n.data),o[i+"_pagination"]=n.pagination,o))})).catch(yt.a))}}},toRecent:function(){en.show(Dt.indexOf("recent"))},toPopular:function(){en.show(Dt.indexOf("popular"))},toFolliwing:function(){en.show(Dt.indexOf("following"))},followUpdate:function(){on.following=!0},questionUpdate:function(e){return function(t,n){var i=[];Dt.forEach((function(o){var a;i=t[o+"_data"];var r=!1;i.forEach((function(t,n){e.question_id===t.question_id&&(r=!0,i[n]=e)})),r&&n.setState(((a={})[o+"_data"]=i,a))}))}},publish:function(e){var t=e.title,n=e.content;return function(e,i){var o,a=e.editor_selected_topic_ids,r=e.auto_save_key;t?a.length?n&&"<p><br></p>"!==n?(i.setState({publishing:!0}),(o={title:t,topic_ids:a,content_rendered:n,include:rn},Object(at.d)(Object(rt.b)("/questions",o,["include"]),Object(rt.a)(o,["title","topic_ids","content_markdown","content_rendered"]))).finally((function(){i.setState({publishing:!1})})).then((function(e){on.recent=!0,on.popular=!0,on.following=!0,window.localStorage.removeItem(r+"-title"),window.localStorage.removeItem(r+"-topics"),window.localStorage.removeItem(r+"-content"),i.setState({editor_selected_topics:[],editor_selected_topic_ids:[]}),i.editorClose(),window.G_QUESTION=e.data,x.actions.go(At("/questions/"+e.data.question_id))})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(Object.values(e.errors)[0])}))):J.a.snackbar("请输入正文"):J.a.snackbar("请选择话题"):J.a.snackbar("请输入标题")}},afterItemClick:function(e){return function(t,n){window.G_QUESTION=e,tn=window.pageYOffset,n.setState({last_visit_id:e.question_id})}}},Et,Tt,It,kt.a);const{replace:ln}="",un=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34);/g,dn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"'},pn=e=>dn[e],fn=e=>ln.call(e,un,pn);var mn=function(e){return Object(at.d)(Object(rt.b)("/answers/{answer_id}/comments",e,["include"]),Object(rt.a)(e,["content"]))},hn=function(e){return Object(at.b)(Object(rt.b)("/answers/{answer_id}",e,["include"]))},gn=function(e){return Object(at.d)(Object(rt.b)("/comments/{comment_id}/voters",e),Object(rt.a)(e,["type"]))},_n=function(e){return Object(at.a)(Object(rt.b)("/comments/{comment_id}/voters",e))},vn=n(13),bn=function(e,t,n,i,o,a){var r,s;if("article"===n){var c=o.article,l=c.relationships.voting===i;c.relationships.voting=l?"":i,a.setState({article:c}),(r=l?(s={article_id:e},Object(at.a)(Object(rt.b)("/articles/{article_id}/voters",s))):function(e){return Object(at.d)(Object(rt.b)("/articles/{article_id}/voters",e),Object(rt.a)(e,["type"]))}({article_id:e,type:i})).then((function(e){var t=e.data;ee(c,t),a.setState({article:c})}))}if("answers"===n){var u=o.answer_data,d=Object(vn.a)(u,"answer_id",e),p=u[d],f=p.relationships.voting===i;p.relationships.voting=f?"":i,u[d]=p,a.setState({answer_data:u}),(r=f?function(e){return Object(at.a)(Object(rt.b)("/answers/{answer_id}/voters",e))}({answer_id:e}):function(e){return Object(at.d)(Object(rt.b)("/answers/{answer_id}/voters",e),Object(rt.a)(e,["type"]))}({answer_id:e,type:i})).then((function(e){var t=e.data;ee(p,t),u[d]=p,a.setState({answer_data:u})}))}if("comments"===n){var m=o.comments_data,h=Object(vn.a)(m,"comment_id",e),g=m[h],_=g.relationships.voting===i;g.relationships.voting=_?"":i,m[h]=g,a.setState({comments_data:m}),(r=_?_n({comment_id:e}):gn({comment_id:e,type:i})).then((function(e){var t=e.data;ee(g,t),m[h]=g,a.setState({comments_data:m})}))}if("replies"===n){var v=o.comments_data,b=v[t].replies_data,w=Object(vn.a)(b,"comment_id",e),y=b[w],O=y.relationships.voting===i;y.relationships.voting=O?"":i,v[t].replies_data[w]=y,a.setState({comments_data:v}),(r=O?_n({comment_id:e}):gn({comment_id:e,type:i})).then((function(e){var n=e.data;ee(y,n),v[t].replies_data[w]=y,a.setState({comments_data:v})}))}r.catch(yt.a)},wn=function(e,t){switch(t){case"article":return e.article_id;case"answers":return e.answer_id;default:return e.comment_id}},yn={voteUp:function(e){var t=e.item,n=e.type,i=e.commentIndex;return function(e,o){bn(wn(t,n),i,n,"up",e,o)}},voteDown:function(e){var t=e.item,n=e.type,i=e.commentIndex;return function(e,o){bn(wn(t,n),i,n,"down",e,o)}}},On={question_id:0,answer_id:0,question:null,loading:!1,following_question:!1,answer_order:"-vote_count",answer_data:[],answer_pagination:null,answer_loading:!1,answer_publishing:!1,auto_save_key:"page-answers"},xn=ee({onCreate:function(e){var t=e.question_id,n=e.answer_id,i=e.route;return function(e,o){k("route_update"),o.setState({route:i}),n?e.answer_id!==n&&(o.setState(On),o.setState({question_id:t,answer_id:n}),o.loadQuestion(),o.loadAnswer()):((e.question_id!==t||e.answer_id)&&(o.setState(On),o.setState({question_id:t}),o.loadQuestion(),o.loadAnswers()),e.answer_pagination||o.loadAnswers(),S.c.on("scroll",o.infiniteLoadAnswers))}},onDestroy:function(){return function(e,t){"question"===e.route&&S.c.off("scroll",t.infiniteLoadAnswers)}},loadQuestion:function(){return function(e,t){var n,i,o=function(n){"question"===e.route?t.setTitle(n):t.setTitle(n+" 的回答")};((n=window.G_QUESTION)&&(t.setState({question:n}),window.G_QUESTION=null,o(fn(n.title))),n)||(t.setState({loading:!0}),(i={question_id:e.question_id,include:["user","topics","is_following","voting"]},Object(at.b)(Object(rt.b)("/questions/{question_id}",i,["include"]))).finally((function(){t.setState({loading:!1})})).then((function(e){var n=e.data;t.setState({question:n}),o(fn(n.title))})).catch(yt.a))}},loadAnswer:function(){return function(e,t){var n;((n=window.G_ANSWER)&&(t.setState({answer_data:[n]}),window.G_ANSWER=null),n)||(t.setState({answer_loading:!0}),hn({answer_id:e.answer_id,include:["user","voting"]}).finally((function(){t.setState({answer_loading:!1})})).then((function(e){var n=e.data;t.setState({answer_data:[n]})})).catch(yt.a))}},changeOrder:function(e){return function(t,n){e!==t.answer_order&&(n.setState({answer_order:e,answer_data:[],answer_pagination:null}),n.loadAnswers())}},loadAnswers:function(){return function(e,t){var n,i;((n=window.G_QUESTION_ANSWERS)&&(t.setState({answer_data:n.data,answer_pagination:n.pagination,answer_loading:!1}),window.G_QUESTION_ANSWERS=null),n)||(t.setState({answer_loading:!0}),(i={question_id:e.question_id,per_page:20,order:e.answer_order,include:["user","voting"]},Object(at.b)(Object(rt.b)("/questions/{question_id}/answers",i,["page","per_page","order","include"]))).finally((function(){t.setState({answer_loading:!1})})).then((function(e){t.setState({answer_data:e.data,answer_pagination:e.pagination})})).catch(yt.a))}},infiniteLoadAnswers:function(){return function(e,t){if(!e.answer_loading){var n,i=e.answer_pagination;if(!(i.page>=i.pages))if(!(document.body.scrollHeight-window.pageYOffset-window.innerHeight>100))t.setState({answer_loading:!0}),(n={page:i.page+1,per_page:20,order:e.answer_order,include:["user","voting"],question_id:e.question_id},void 0===n&&(n={}),Object(at.b)(Object(rt.b)("/answers",n,["page","per_page","order","include","answer_id","question_id","user_id","trashed"]))).finally((function(){t.setState({answer_loading:!1})})).then((function(n){t.setState({answer_data:e.answer_data.concat(n.data),answer_pagination:n.pagination})})).catch(yt.a)}}},publishAnswer:function(e){var t=e.content;return function(e,n){var i,o=e.auto_save_key;t&&"<p><br></p>"!==t?(n.setState({answer_publishing:!0}),(i={question_id:e.question_id,content_rendered:t,include:["user","voting"]},Object(at.d)(Object(rt.b)("/questions/{question_id}/answers",i,["include"]),Object(rt.a)(i,["content_markdown","content_rendered"]))).finally((function(){n.setState({answer_publishing:!1})})).then((function(t){window.localStorage.removeItem(o+"-content"),n.editorClose();var i=e.question;i.answer_count+=1,n.setState({question:i,answer_data:[],answer_pagination:null}),window.G_QUESTION=e.question,window.G_ANSWER=t.data,x.actions.go(At("/questions/"+e.question_id+"/answers/"+t.data.answer_id))})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(Object.values(e.errors)[0])}))):J.a.snackbar("请输入正文")}}},Et,Tt,yn,kt.a),jn=["recent","popular","following"],Sn={current_tab:"",publishing:!1,tabs:jn,last_visit_id:0,auto_save_key:"page-articles"};jn.forEach((function(e){Sn[e+"_data"]=[],Sn[e+"_pagination"]=null,Sn[e+"_loading"]=!1}));var En,kn,Cn=ee(Sn,Nt,Rt),Tn=jn.indexOf("recent"),In={recent:!1,popular:!1,following:!1},Nn={recent:0,popular:0,following:0},Rn=["user","topics","is_following","voting"],Dn=function(e,t){return"recent"===e?_t({page:t,include:Rn,per_page:20,order:"-update_time"}):"popular"===e?_t({page:t,include:Rn,per_page:20,order:"-vote_count"}):Object(vt.m)({page:t,include:Rn,per_page:20})},Mn=ee({onCreate:function(){return function(e,t){k("route_update"),En=new J.a.Tab(".mc-tab"),Tn=En.activeIndex,En.$element.on("change.mdui.tab",(function(){Tn=En.activeIndex,window.scrollTo(0,0),window.history.replaceState({},"","#"+jn[Tn]),t.afterChangeTab()})),t.afterChangeTab(),kn&&(window.scrollTo(0,kn),kn=0),S.c.on("scroll",t.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},afterChangeTab:function(){return function(e,t){var n,i,o=jn[Tn],a=o.toUpperCase();if("recent"===o?t.setTitle("最新文章"):"popular"===o?t.setTitle("近期热门文章"):t.setTitle("我关注的文章"),t.setState({current_tab:o}),!(!In[jn[Tn]]&&e[o+"_pagination"]&&Jt()-Nn[jn[Tn]]<180)){if(In[jn[Tn]]=!1,Nn[jn[Tn]]=Jt(),window["G_ARTICLES_"+a])return t.setState(((n={})[o+"_data"]=window["G_ARTICLES_"+a].data,n[o+"_pagination"]=window["G_ARTICLES_"+a].pagination,n)),window["G_ARTICLES_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i[o+"_loading"]=!0,i)),Dn(o,1).finally((function(){var e;t.setState(((e={})[o+"_loading"]=!1,e))})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n,i=jn[Tn];if(!e[i+"_loading"]){var o=e[i+"_pagination"];o.page>=o.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.setState(((n={})[i+"_loading"]=!0,n)),Dn(i,o.page+1).finally((function(){var e;t.setState(((e={})[i+"_loading"]=!1,e))})).then((function(n){var o;t.setState(((o={})[i+"_data"]=e[i+"_data"].concat(n.data),o[i+"_pagination"]=n.pagination,o))})).catch(yt.a))}}},toRecent:function(){En.show(jn.indexOf("recent"))},toPopular:function(){En.show(jn.indexOf("popular"))},toFolliwing:function(){En.show(jn.indexOf("following"))},followUpdate:function(){In.following=!0},articleUpdate:function(e){return function(t,n){var i=[];jn.forEach((function(o){var a;i=t[o+"_data"];var r=!1;i.forEach((function(t,n){e.article_id===t.article_id&&(r=!0,i[n]=e)})),r&&n.setState(((a={})[o+"_data"]=i,a))}))}},publish:function(e){var t=e.title,n=e.content;return function(e,i){var o,a=e.editor_selected_topic_ids,r=e.auto_save_key;t?a.length?n&&"<p><br></p>"!==n?(i.setState({publishing:!0}),(o={title:t,topic_ids:a,content_rendered:n,include:Rn},Object(at.d)(Object(rt.b)("/articles",o,["include"]),Object(rt.a)(o,["title","topic_ids","content_markdown","content_rendered"]))).finally((function(){i.setState({publishing:!1})})).then((function(e){In.recent=!0,In.popular=!0,In.following=!0,window.localStorage.removeItem(r+"-title"),window.localStorage.removeItem(r+"-topics"),window.localStorage.removeItem(r+"-content"),i.editorClose(),window.G_ARTICLE=e.data,x.actions.go(At("/articles/"+e.data.article_id))})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(Object.values(e.errors)[0])}))):J.a.snackbar("请输入正文"):J.a.snackbar("请选择话题"):J.a.snackbar("请输入标题")}},afterItemClick:function(e){return function(t,n){window.G_ARTICLE=e,kn=window.pageYOffset,n.setState({last_visit_id:e.article_id})}}},Et,Tt,It,kt.a),qn={article_id:0,article:null,loading:!1,following_article:!1},An=ee({onCreate:function(e){var t=e.article_id;return function(e,n){k("route_update"),e.article_id!==t&&(n.setState(qn),n.setState({article_id:t}),n.loadArticle())}},loadArticle:function(){return function(e,t){var n,i;((n=window.G_ARTICLE)&&(t.setState({article:n}),window.G_ARTICLE=null,t.setTitle(fn(n.title))),n)||(t.setState({loading:!0}),(i={article_id:e.article_id,include:["user","topics","is_following","voting"]},Object(at.b)(Object(rt.b)("/articles/{article_id}",i,["include"]))).finally((function(){t.setState({loading:!1})})).then((function(e){var n=e.data;t.setState({article:n}),t.setTitle(fn(n.title))})).catch(yt.a))}}},Et,yn,kt.a),Ln=["following","recommended"],$n={current_tab:"",tabs:Ln,tabIndex:Ln.indexOf("recommended")};Ln.forEach((function(e){$n[e+"_data"]=[],$n[e+"_pagination"]=null,$n[e+"_loading"]=!1}));var Pn,Un,Hn=$n,Bn={following:!1,recommended:!1},Gn=["is_following"],Kn=function(e,t){return"following"===e?Object(vt.o)({page:t,per_page:20,include:Gn}):lt({page:t,per_page:20,include:Gn,order:"-follower_count"})},zn=ee({onCreate:function(){return function(e,t){k("route_update"),bt()&&(Pn=new J.a.Tab(".mc-tab"),t.setState({tabIndex:Pn.activeIndex}),Pn.$element.on("change.mdui.tab",(function(){t.setState({tabIndex:Pn.activeIndex}),window.scrollTo(0,0),window.history.replaceState({},"","#"+Ln[Pn.activeIndex]),t.afterChangeTab()}))),t.afterChangeTab(),Un&&(window.scrollTo(0,Un),Un=0),S.c.on("scroll",t.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},afterChangeTab:function(){return function(e,t){var n,i,o=Ln[e.tabIndex],a=o.toUpperCase();if("following"===o?t.setTitle("我关注的话题"):t.setTitle("推荐话题"),t.setState({current_tab:o}),Bn[o]||!e[o+"_pagination"]){if(Bn[o]=!1,window["G_TOPICS_"+a])return t.setState(((n={})[o+"_data"]=window["G_TOPICS_"+a].data,n[o+"_pagination"]=window["G_TOPICS_"+a].pagination,n)),window["G_TOPICS_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i)),t.loadStart(o),Kn(o,1).finally((function(){t.loadEnd(o)})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n=Ln[e.tabIndex];if(!e[n+"_loading"]){var i=e[n+"_pagination"];i.page>=i.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.loadStart(n),Kn(n,i.page+1).finally((function(){t.loadEnd(n)})).then((function(i){var o;t.setState(((o={})[n+"_data"]=e[n+"_data"].concat(i.data),o[n+"_pagination"]=i.pagination,o))})).catch(yt.a))}}},toRecommended:function(){Pn.show(Ln.indexOf("recommended"))},toFollowing:function(){Pn.show(Ln.indexOf("following"))},followUpdate:function(){Bn.following=!0,Bn.recommended=!0},afterItemClick:function(e){window.G_TOPIC=e,Un=window.pageYOffset},loadStart:function(e){var t;return(t={})[e+"_loading"]=!0,t},loadEnd:function(e){var t;return(t={})[e+"_loading"]=!1,t}},Et),Fn=["questions","articles"],Yn={topic_id:0,topic:null,loading:!1,following_topic:!1,tabs:Fn,current_tab:"",last_visit_article_id:0,last_visit_question_id:0};Fn.forEach((function(e){Yn[e+"_order"]="-update_time",Yn[e+"_data"]=[],Yn[e+"_pagination"]=null,Yn[e+"_loading"]=!1}));var Wn,Qn,Vn=Yn,Zn=Fn.indexOf("questions"),Xn=["user","topics","is_following"],Jn=ee({getContexts:function(e){var t=e.tabName,n=e.page;return function(e){var i={topic_id:e.topic_id,page:n,per_page:20,include:Xn,order:e[t+"_order"]};return"questions"===t?function(e){return Object(at.b)(Object(rt.b)("/topics/{topic_id}/questions",e,["page","per_page","order","include"]))}(i):function(e){return Object(at.b)(Object(rt.b)("/topics/{topic_id}/articles",e,["page","per_page","order","include"]))}(i)}},onCreate:function(e){var t=e.topic_id;return function(e,n){k("route_update"),Wn=new J.a.Tab(".mc-tab"),Zn=Wn.activeIndex,e.topic_id!==t&&(n.setState(Vn),n.setState({topic_id:t}),n.loadTopic(),n.afterChangeTab()),Wn.$element.on("change.mdui.tab",(function(){Zn=Wn.activeIndex,window.scrollTo(0,0),window.history.replaceState({},"","#"+Fn[Zn]),n.afterChangeTab()})),Qn&&(window.scrollTo(0,Qn),Qn=0),S.c.on("scroll",n.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},loadTopic:function(){return function(e,t){var n,i;((n=window.G_TOPIC)&&(t.setState({topic:n}),window.G_TOPIC=null,t.setTitle(fn(n.name))),n)||(t.setState({loading:!0}),(i={topic_id:e.topic_id,include:["is_following"]},Object(at.b)(Object(rt.b)("/topics/{topic_id}",i,["include"]))).finally((function(){t.setState({loading:!1})})).then((function(e){var n=e.data;t.setState({topic:n}),t.setTitle(fn(n.name))})).catch(yt.a))}},afterChangeTab:function(){return function(e,t){var n,i,o=Fn[Zn],a=o.toUpperCase();if(t.setState({current_tab:o}),!e[o+"_pagination"]){if(window["G_TOPIC_"+a])return t.setState(((n={})[o+"_data"]=window["G_TOPIC_"+a].data,n[o+"_pagination"]=window["G_TOPIC_"+a].pagination,n)),window["G_TOPIC_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i[o+"_loading"]=!0,i)),t.getContexts({tabName:o,page:1}).finally((function(){var e;t.setState(((e={})[o+"_loading"]=!1,e))})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n,i=Fn[Zn];if(!e[i+"_loading"]){var o=e[i+"_pagination"];o.page>=o.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.setState(((n={})[i+"_loading"]=!0,n)),t.getContexts({tabName:i,page:o.page+1}).finally((function(){var e;t.setState(((e={})[i+"_loading"]=!1,e))})).then((function(n){var o;t.setState(((o={})[i+"_data"]=e[i+"_data"].concat(n.data),o[i+"_pagination"]=n.pagination,o))})).catch(yt.a))}}},afterItemClick:function(e){return function(t,n){var i=Fn[Zn];Qn=window.pageYOffset,"questions"===i?(window.G_QUESTION=e,n.setState({last_visit_question_id:e.question_id})):(window.G_ARTICLE=e,n.setState({last_visit_article_id:e.article_id}))}},changeOrder:function(e){return function(t,n){var i,o=Fn[Zn];e!==t[o+"_order"]&&(n.setState(((i={})[o+"_order"]=e,i[o+"_data"]=[],i[o+"_pagination"]=null,i)),n.afterChangeTab())}}},Et,kt.a),ei=["followees","followers","recommended"],ti={current_tab:"",tabs:ei,tabIndex:ei.indexOf("recommended")};ei.forEach((function(e){ti[e+"_data"]=[],ti[e+"_pagination"]=null,ti[e+"_loading"]=!1}));var ni,ii,oi=ti,ai={followees:!1,followers:!1,recommended:!1},ri=["is_following","is_me"],si=function(e,t){return"followees"===e?Object(vt.k)({include:ri,page:t,per_page:20}):"followers"===e?Object(vt.l)({include:ri,page:t,per_page:20}):Object(vt.j)({include:ri,page:t,per_page:20,order:"-follower_count"})},ci=ee({onCreate:function(){return function(e,t){k("route_update"),bt()&&(ni=new J.a.Tab(".mc-tab"),t.setState({tabIndex:ni.activeIndex}),ni.$element.on("change.mdui.tab",(function(){t.setState({tabIndex:ni.activeIndex}),window.scrollTo(0,0),window.history.replaceState({},"","#"+ei[ni.activeIndex]),t.afterChangeTab()}))),t.afterChangeTab(),ii&&(window.scrollTo(0,ii),ii=0),S.c.on("scroll",t.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},afterChangeTab:function(){return function(e,t){var n,i,o=ei[e.tabIndex],a=o.toUpperCase();if("followees"===o?t.setTitle("我关注的人"):"followers"===o?t.setTitle("我的关注者"):t.setTitle("推荐人脉"),t.setState({current_tab:o}),ai[o]||!e[o+"_pagination"]){if(ai[o]=!1,window["G_USERS_"+a])return t.setState(((n={})[o+"_data"]=window["G_USERS_"+a].data,n[o+"_pagination"]=window["G_USERS_"+a].pagination,n)),window["G_USERS_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i)),t.loadStart(o),si(o,1).finally((function(){t.loadEnd(o)})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n=ei[e.tabIndex];if(!e[n+"_loading"]){var i=e[n+"_pagination"];i.page>=i.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.loadStart(n),si(n,i.page+1).finally((function(){t.loadEnd(n)})).then((function(i){var o;t.setState(((o={})[n+"_data"]=e[n+"_data"].concat(i.data),o[n+"_pagination"]=i.pagination,o))})).catch(yt.a))}}},toRecommended:function(){ni.show(ei.indexOf("recommended"))},followUpdate:function(){ai.followees=!0,ai.recommended=!0},afterItemClick:function(e){window.G_INTERVIEWEE=e,ii=window.pageYOffset},loadStart:function(e){var t;return(t={})[e+"_loading"]=!0,t},loadEnd:function(e){var t;return(t={})[e+"_loading"]=!1,t}},Et),li=["questions","answers","articles"],ui={interviewee:null,loading:!1,following_interviewee:!1,edit_info_submitting:!1,profile_fold:!0,tabs:li,current_tab:"",last_visit_article_id:0,last_visit_question_id:0,last_visit_answer_id:0};li.forEach((function(e){ui[e+"_order"]="questions"===e?"-update_time":"-create_time",ui[e+"_data"]=[],ui[e+"_pagination"]=null,ui[e+"_loading"]=!1}));var di,pi,fi,mi,hi,gi,_i,vi,bi,wi,yi,Oi,xi,ji,Si,Ei,ki,Ci,Ti,Ii,Ni,Ri,Di,Mi,qi,Ai,Li=ui,$i=li.indexOf("questions"),Pi=ee({getContexts:function(e){var t=e.tabName,n=e.page;return function(e){var i={user_id:di,page:n,per_page:20,include:["user","topics","is_following"],order:e[t+"_order"]};return"questions"===t?Object(vt.p)(i):"articles"===t?Object(vt.g)(i):(i.include=["user","question","voting"],Object(vt.f)(i))}},onCreate:function(e){return function(t,n){k("route_update"),fi=new J.a.Tab(".mc-tab"),$i=fi.activeIndex,di!==e.interviewee_id&&(di=e.interviewee_id,n.setState(Li),n.loadInterviewee(),n.afterChangeTab()),fi.$element.on("change.mdui.tab",(function(){$i=fi.activeIndex,window.history.replaceState({},"","#"+li[$i]),n.afterChangeTab()})),mi&&(window.scrollTo(0,mi),mi=0),S.c.on("scroll",n.infiniteLoad)}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},loadInterviewee:function(){return function(e,t){if(e.user&&di===e.user.user_id)return t.setTitle(e.user.username+"的个人主页"),t.setState({interviewee:e.user}),void(window.G_INTERVIEWEE=null);var n=window.G_INTERVIEWEE;if(n)return t.setState({interviewee:n}),window.G_INTERVIEWEE=null,void t.setTitle(n.username+"的个人主页");t.setState({loading:!0,interviewee:null}),Object(vt.e)({user_id:di,include:["is_following"]}).finally((function(){t.setState({loading:!1})})).then((function(e){var n=e.data;t.setState({interviewee:n}),t.setTitle(n.username+"的个人主页")})).catch(yt.a)}},afterChangeTab:function(){return function(e,t){var n,i,o=li[$i],a=o.toUpperCase();if(t.setState({current_tab:o}),!e[o+"_pagination"]){if(window["G_USER_"+a])return t.setState(((n={})[o+"_data"]=window["G_USER_"+a].data,n[o+"_pagination"]=window["G_USER_"+a].pagination,n)),window["G_USER_"+a]=null,void setTimeout((function(){t.infiniteLoad()}));t.setState(((i={})[o+"_data"]=[],i[o+"_pagination"]=null,i[o+"_loading"]=!0,i)),t.getContexts({tabName:o,page:1}).finally((function(){var e;t.setState(((e={})[o+"_loading"]=!1,e))})).then((function(e){var n;t.setState(((n={})[o+"_data"]=e.data,n[o+"_pagination"]=e.pagination,n)),setTimeout((function(){t.infiniteLoad()}))})).catch(yt.a)}}},infiniteLoad:function(){return function(e,t){var n,i=li[$i];if(!e[i+"_loading"]){var o=e[i+"_pagination"];o.page>=o.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.setState(((n={})[i+"_loading"]=!0,n)),t.getContexts({tabName:i,page:o.page+1}).finally((function(){var e;t.setState(((e={})[i+"_loading"]=!1,e))})).then((function(n){var o;t.setState(((o={})[i+"_data"]=e[i+"_data"].concat(n.data),o[i+"_pagination"]=n.pagination,o))})).catch(yt.a))}}},afterItemClick:function(e){return function(t,n){var i=li[$i];mi=window.pageYOffset,"questions"===i?(window.G_QUESTION=e,n.setState({last_visit_question_id:e.question_id})):"articles"===i?(window.G_ARTICLE=e,n.setState({last_visit_article_id:e.article_id})):(window.G_ANSWER=e,n.setState({last_visit_answer_id:e.answer_id}))}},changeOrder:function(e){return function(t,n){var i,o=li[$i];e!==t[o+"_order"]&&(n.setState(((i={})[o+"_order"]=e,i[o+"_data"]=[],i[o+"_pagination"]=null,i)),n.afterChangeTab())}},deleteAvatar:function(e){return function(t,n){e.preventDefault(),J.a.confirm("系统将删除现有头像，并随机生成一个新头像。","要删除现有头像吗？",(function(){Object(vt.c)().then((function(e){var i=e.data,o=t.user;o.avatar=i,n.setState({user:o})})).catch(yt.a)}),(function(){}),{confirmText:"删除",cancelText:"取消"})}},deleteCover:function(e){return function(t,n){e.preventDefault(),J.a.confirm("系统将删除现有封面，并重置为默认封面。","要删除现有封面吗？",(function(){Object(vt.d)().then((function(e){var i=e.data,o=t.user;o.cover=i,n.setState({user:o})})).catch(yt.a)}),(function(){}),{confirmText:"删除",cancelText:"取消"})}},updateUserInfo:function(){return function(e,t){if(pi)pi.open();else{var n=Object(j.a)("#page-user .edit-info");pi=new J.a.Dialog(n,{closeOnConfirm:!1}),n.on("open.mdui.dialog",(function(){n.find(".mdui-textfield-input")[0].focus()})),n.on("opened.mdui.dialog",(function(){pi.handleUpdate()})),n.on("confirm.mdui.dialog",(function(){var e={include:["is_following"]};n.find("form").serializeArray().forEach((function(t){e[t.name]=t.value})),t.setState({edit_info_submitting:!0}),Object(vt.t)(e).finally((function(){t.setState({edit_info_submitting:!1})})).then((function(e){var n=e.data,i={user:n};n.user_id===di&&(i.interviewee=n),t.setState(i),pi.close(),J.a.snackbar("更新成功")})).catch(yt.a)})),pi.open()}}}},Et,kt.a),Ui=function(e){return void 0===e&&(e={}),Object(at.b)(Object(rt.b)("/notifications",e,["page","per_page","include","type","read"]))},Hi=["sender","article","question","answer","comment","reply"],Bi=function(e){return e.map((function(e){return e.is_loaded_detail=!1,e.is_show_detail=!1,e.content_detail="",e}))},Gi=ee({onCreate:function(){return function(e,t){var n;(k("route_update"),t.setTitle("通知"),bt())&&(e.pagination&&!e.count||t.loadData(),(void 0===n&&(n={}),Object(at.d)(Object(rt.b)("/notifications/read",n,["type"]))).then((function(){t.updateCount(0)})).catch(yt.a),S.c.on("scroll",t.infiniteLoad))}},onDestroy:function(){return function(e,t){S.c.off("scroll",t.infiniteLoad)}},updateCount:function(e){return function(t,n){n.setState({count:e})}},loadData:function(){return function(e,t){t.setState({data:[],pagination:null,loading:!0}),Ui({page:1,per_page:20,include:Hi}).finally((function(){t.setState({loading:!1})})).then((function(e){t.setState({data:Bi(e.data),pagination:e.pagination})})).catch(yt.a)}},infiniteLoad:function(){return function(e,t){if(!e.loading){var n=e.pagination;n.page>=n.pages||document.body.scrollHeight-window.pageYOffset-window.innerHeight>100||(t.setState({loading:!0}),Ui({page:n.page+1,per_page:20,include:Hi}).finally((function(){t.setState({loading:!1})})).then((function(n){t.setState({data:e.data.concat(Bi(n.data)),pagination:n.pagination})})).catch(yt.a))}}},deleteOne:function(e){return function(t,n){J.a.confirm("确认删除这条通知？",(function(){var i,o=t.data,a=Object(vn.a)(o,"notification_id",e.notification_id);o.splice(a,1),n.setState({data:o}),(i={notification_id:e.notification_id},Object(at.a)(Object(rt.b)("/notifications/{notification_id}",i))).catch(yt.a)}),(function(){return!1}),{history:!1,confirmText:"确定",cancelText:"取消"})}},toggleDetail:function(e){return function(t,n){var i,o=t.data,a=Object(vn.a)(o,"notification_id",e.notification_id),r=o[a];if(r.is_show_detail=!r.is_show_detail,r.is_show_detail&&r.is_loaded_detail)o[a]=r,n.setState({data:o});else switch(r.type){case"article_deleted":case"question_deleted":case"answer_deleted":case"comment_deleted":r.is_loaded_detail=!0,r.content_detail="comment_deleted"===r.type?r.content_deleted.content:r.content_deleted.content_rendered,o[a]=r,n.setState({data:o});break;case"question_commented":case"article_commented":case"answer_commented":case"comment_replies":case"question_answered":o[a]=r,n.setState({data:o}),("question_answered"===r.type?hn({answer_id:r.answer_id}):(i={comment_id:r.comment_id},Object(at.b)(Object(rt.b)("/comments/{comment_id}",i,["include"])))).then((function(e){r.is_loaded_detail=!0,r.content_detail="question_answered"===r.type?e.data.content_rendered:e.data.content,o[a]=r,n.setState({data:o})})).catch(yt.a)}}}},Et),Ki=function(){return Object(at.d)(Object(rt.b)("/captchas",{}))},zi=n(15),Fi=n.n(zi),Yi=function(e){return e.password&&(e.password=Fi()(e.password)),Object(at.d)(Object(rt.b)("/tokens",e),Object(rt.a)(e,["name","password","device","captcha_token","captcha_code"])).then((function(e){return e.code||Ke.a.adapter.setStorage("token",e.data.token),e}))},Wi=ee({onInput:function(e){var t,n=e.target;return(t={})[n.name]=n.value,t[n.name+"_msg"]="",t},onCreate:function(e){var t=Object(j.a)(e.element).mutation();hi=new J.a.Dialog(t,{modal:!0,history:!1}),gi=t.find('[name="name"]'),_i=t.find('[name="password"]'),vi=t.find('[name="captcha_code"]'),t.on("open.mdui.dialog",(function(){gi[0].focus()}))},open:function(){hi.open()},close:function(){hi&&hi.close()},toRegister:function(){hi.close(),k("register_open")},toReset:function(){hi.close(),k("reset_open")},refreshCaptcha:function(){return function(e,t){Ki().then((function(e){var n=e.data,i=n.captcha_token,o=n.captcha_image;t.setState({captcha_token:i,captcha_image:o,captcha_code:""}),setTimeout((function(){vi[0].focus()}))})).catch(yt.a)}},login:function(e){return function(t,n){e.preventDefault(),n.setState({submitting:!0});var i={name:t.name,password:t.password,device:navigator.userAgent};t.captcha_token&&(i.captcha_token=t.captcha_token,i.captcha_code=t.captcha_code),Yi(i).then((function(e){it("token",e.data.token),window.location.reload()})).catch((function(e){if(n.setState({submitting:!1,captcha_token:e.captcha_token||"",captcha_image:e.captcha_image||"",captcha_code:""}),200001===e.code){var t=e.errors.name||"",i=e.errors.password||"",o=e.errors.captcha_code||"";return n.setState({name_msg:t,password_msg:i,captcha_code_msg:o}),void(t?gi[0].focus():i?_i[0].focus():o&&vi[0].focus())}Object(yt.a)(e)}))}}},Et),Qi=ee({onInput:function(e){var t,n=e.target;return(t={})[n.name]=n.value,t[n.name+"_msg"]="",t},onCreate:function(e){return function(t){var n=Object(j.a)(e.element).mutation();bi=new J.a.Dialog(n,{modal:!0,history:!1}),wi=n.find('[name="email"]'),yi=n.find('[name="email_code"]'),Oi=n.find('[name="username"]'),xi=n.find('[name="password"]'),ji=n.find('[name="captcha_code"]'),n.on("open.mdui.dialog",(function(){t.email_valid?Oi[0].focus():wi[0].focus()}))}},open:function(){bi.open()},close:function(){bi&&bi.close()},toLogin:function(){bi.close(),k("login_open")},refreshCaptcha:function(){return function(e,t){Ki().then((function(e){var n=e.data,i=n.captcha_token,o=n.captcha_image;t.setState({captcha_token:i,captcha_image:o,captcha_code:""}),setTimeout((function(){ji[0].focus()}),0)})).catch(yt.a)}},countdown:function(){return function(e,t){e.resend_countdown>0?(t.setState({resend_countdown:e.resend_countdown-1}),setTimeout(t.countdown,1e3)):t.setState({show_resend_countdown:!1})}},sendCountdown:function(){return function(e,t){t.setState({show_resend_countdown:!0,resend_countdown:60}),t.countdown()}},sendEmail:function(){return function(e,t){if(wi[0].validity.valid){if(e.captcha_token&&!ji[0].validity.valid)return t.setState({captcha_code_msg:"请输入图形验证码"}),void ji[0].focus();t.setState({sending:!0});var n={email:e.email};e.captcha_token&&(n.captcha_token=e.captcha_token,n.captcha_code=e.captcha_code),Object(vt.s)(n).finally((function(){t.setState({sending:!1,captcha_token:"",captcha_image:"",captcha_code:"",email_code:"",email_code_msg:""})})).then((function(){J.a.snackbar("邮箱验证码已发送"),t.sendCountdown()})).catch((function(e){if(t.setState({captcha_token:e.captcha_token||"",captcha_image:e.captcha_image||""}),200001===e.code){var n=e.errors.email||"",i=e.errors.captcha_code||"";return t.setState({email_msg:n,captcha_code_msg:i}),void(n?wi[0].focus():i&&ji[0].focus())}Object(yt.a)(e)}))}else wi[0].focus()}},prevStep:function(){return function(e,t){t.setState({email_valid:!1})}},nextStep:function(e){return function(t,n){e.preventDefault(),n.setState({verifying:!0});var i={email:t.email,email_code:t.email_code};Object(vt.q)(i).finally((function(){n.setState({verifying:!1})})).catch((function(e){if(200001===e.code){if(!e.errors.email&&!e.errors.email_code)return n.setState({email_valid:!0}),void setTimeout((function(){Oi[0].focus()}),0);var t=e.errors.email||"",i=e.errors.email_code||"";return n.setState({email_msg:t,email_code_msg:i}),void(t?wi[0].focus():i&&yi[0].focus())}if(200003===e.code)return J.a.snackbar("验证码已失效，请重新发送邮箱验证码",{timeout:1e4}),void n.setState({email_code:"",email_code_msg:""});Object(yt.a)(e)}))}},register:function(e){return function(t,n){e.preventDefault(),n.setState({submitting:!0});var i={email:t.email,email_code:t.email_code,username:t.username,password:t.password},o={name:t.username,password:t.password,device:window.navigator.userAgent};Object(vt.q)(i).then((function(e){return k("user_update",e.data),Yi(o)})).finally((function(){n.setState({submitting:!1})})).then((function(e){it("token",e.data.token),window.location.reload()})).catch((function(e){if(200001===e.code){var t=e.errors.email||"",i=e.errors.email_code||"",o=e.errors.username||"",a=e.errors.password||"";return t||i?(n.setState({email_valid:!1,email_msg:t,email_code_msg:i}),void(t?wi[0].focus():i&&yi[0].focus())):(n.setState({username_msg:o,password_msg:a}),void(o?Oi[0].focus():a&&xi[0].focus()))}if(200003===e.code)return J.a.snackbar("验证码已失效，请重新发送邮箱验证码",{timeout:1e4}),void n.setState({email_valid:!1,email_code:"",email_code_msg:""});Object(yt.a)(e)}))}}},Et),Vi=ee({onInput:function(e){var t,n=e.target;return(t={})[n.name]=n.value,t[n.name+"_msg"]="",t},onCreate:function(e){return function(t){var n=Object(j.a)(e.element).mutation();Si=new J.a.Dialog(n,{modal:!0,history:!1}),Ei=n.find('[name="email"]'),ki=n.find('[name="email_code"]'),Ti=n.find('[name="password"]'),Ii=n.find('[name="password_repeat"]'),Ci=n.find('[name="captcha_code"]'),n.on("open.mdui.dialog",(function(){t.email_valid?Ti[0].focus():Ei[0].focus()}))}},open:function(){Si.open()},close:function(){Si&&Si.close()},toLogin:function(){Si.close(),k("login_open")},toRegister:function(){Si.close(),k("register_open")},refreshCaptcha:function(){return function(e,t){Ki().then((function(e){var n=e.data,i=n.captcha_token,o=n.captcha_image;t.setState({captcha_token:i,captcha_image:o,captcha_code:""}),setTimeout((function(){Ci[0].focus()}),0)})).catch(yt.a)}},countdown:function(){return function(e,t){e.resend_countdown>0?(t.setState({resend_countdown:e.resend_countdown-1}),setTimeout(t.countdown,1e3)):t.setState({show_resend_countdown:!1})}},sendCountdown:function(){return function(e,t){t.setState({show_resend_countdown:!0,resend_countdown:60}),t.countdown()}},sendEmail:function(){return function(e,t){if(Ei[0].validity.valid){if(e.captcha_token&&!Ci[0].validity.valid)return t.setState({captcha_code_msg:"请输入图形验证码"}),void Ci[0].focus();t.setState({sending:!0});var n={email:e.email};e.captcha_token&&(n.captcha_token=e.captcha_token,n.captcha_code=e.captcha_code),Object(vt.r)(n).finally((function(){t.setState({sending:!1,captcha_token:"",captcha_image:"",captcha_code:"",email_code:"",email_code_msg:""})})).then((function(){J.a.snackbar("邮箱验证码已发送"),t.sendCountdown()})).catch((function(e){if(t.setState({captcha_token:e.captcha_token||"",captcha_image:e.captcha_image||""}),200001===e.code){var n=e.errors.email||"",i=e.errors.captcha_code||"";return t.setState({email_msg:n,captcha_code_msg:i}),void(n?Ei[0].focus():i&&Ci[0].focus())}Object(yt.a)(e)}))}else Ei[0].focus()}},prevStep:function(){return function(e,t){t.setState({email_valid:!1})}},nextStep:function(e){return function(t,n){e.preventDefault(),n.setState({verifying:!0});var i={email:t.email,email_code:t.email_code};Object(vt.u)(i).finally((function(){n.setState({verifying:!1})})).catch((function(e){if(200001===e.code){if(!e.errors.email&&!e.errors.email_code)return n.setState({email_valid:!0}),void setTimeout((function(){Ti[0].focus()}),0);var t=e.errors.email||"",i=e.errors.email_code||"";return n.setState({email_msg:t,email_code_msg:i}),void(t?Ei[0].focus():i&&ki[0].focus())}if(200003===e.code)return J.a.snackbar("验证码已失效，请重新发送邮箱验证码",{timeout:1e4}),void n.setState({email_code:"",email_code_msg:""});Object(yt.a)(e)}))}},submit:function(e){return function(t,n){if(e.preventDefault(),t.password!==t.password_repeat)return n.setState({password_repeat_msg:"两次输入的密码不一致"}),void Ii[0].focus();n.setState({submitting:!0});var i={email:t.email,email_code:t.email_code,password:t.password};Object(vt.u)(i).finally((function(){n.setState({submitting:!1})})).then((function(){J.a.snackbar("重置密码成功"),Si.close(),k("login_open")})).catch((function(e){if(200001===e.code){var t=e.errors.email||"",i=e.errors.email_code||"",o=e.errors.password||"";return t||i?(n.setState({email_valid:!1,email_msg:t,email_code_msg:i}),void(t?Ei[0].focus():i&&ki[0].focus())):(n.setState({password_msg:o}),void(o&&Ti[0].focus()))}if(200003===e.code)return J.a.snackbar("验证码已失效，请重新发送邮箱验证码",{timeout:1e4}),void n.setState({email_valid:!1,email_code:"",email_code_msg:""});Object(yt.a)(e)}))}}},Et),Zi={type:"",data:[],pagination:null,loading:!1},Xi={followees:vt.h,followers:vt.i,topic_followers:function(e){return Object(at.b)(Object(rt.b)("/topics/{topic_id}/followers",e,["page","per_page","include"]))},question_followers:function(e){return Object(at.b)(Object(rt.b)("/questions/{question_id}/followers",e,["page","per_page","include"]))},article_followers:function(e){return Object(at.b)(Object(rt.b)("/articles/{article_id}/followers",e,["page","per_page","include"]))}},Ji={followees:"user_id",followers:"user_id",topic_followers:"topic_id",question_followers:"question_id",article_followers:"article_id"},eo=ee({onCreate:function(e){var t=e.element;Ri=Object(j.a)(t),Di=Ri.find(".mdui-dialog-content")},open:function(e){var t=e.type,n=e.id;return function(e,i){var o;Ni||(Ni=new J.a.Dialog(".mc-users-dialog",{history:!1})).$element.on("closed.mdui.dialog",(function(){i.setState(Zi)})),i.setState({type:t,data:[],pagination:null,loading:!0}),Ni.open();var a=function(e){e.finally((function(){i.setState({loading:!1})})).then((function(e){var t=e.data,n=e.pagination;i.setState({data:i.getState().data.concat(t),pagination:n})})).catch(yt.a)},r=function(){var e;if(!i.getState().loading){var o=i.getState().pagination;o&&(o.page>=o.pages||Di[0].scrollHeight-Di[0].scrollTop-Di[0].offsetHeight>100||(i.setState({loading:!0}),a(Xi[t](((e={})[Ji[t]]=n,e.page=o.page+1,e.include=["is_following","is_me"],e)))))}};a(Xi[t](((o={})[Ji[t]]=n,o.include=["is_following","is_me"],o))),Di.on("scroll",r),Ri.on("close.mdui.dialog",(function(){Di.off("scroll",r)}))}},close:function(){Ni&&Ni.close()},onItemClick:function(e){x.actions.go(At("/users/"+e)),Ni.close()}},Et),to={commentable_type:"",commentable_id:0,order:"create_time",comments_data:[],pagination:null,loading:!1,submitting:!1,open_dialog:!1},no=["user","voting"],io=function(e,t,n,i){void 0===i&&(i=1);var o,a={page:i,per_page:20,order:n,include:no};switch(e){case"question":a.question_id=t,o=function(e){return Object(at.b)(Object(rt.b)("/questions/{question_id}/comments",e,["page","per_page","order","include"]))}(a);break;case"article":a.article_id=t,o=function(e){return Object(at.b)(Object(rt.b)("/articles/{article_id}/comments",e,["page","per_page","order","include"]))}(a);break;default:a.answer_id=t,o=function(e){return Object(at.b)(Object(rt.b)("/answers/{answer_id}/comments",e,["page","per_page","order","include"]))}(a)}return o.then((function(e){return e.data.forEach((function(t,n){e.data[n].show_replies=!1,e.data[n].show_new_reply=!1,e.data[n].reply_submitting=!1,e.data[n].replies_loading=!1,e.data[n].replies_data=[],e.data[n].replies_pagination=null})),e})),o},oo=ee({onCreate:function(e){var t=e.commentable_type,n=e.commentable_id,i=e.isInDialog;return function(e,o){(e.commentable_type!==t||e.commentable_id!==n)&&!i&&(o.setState(to),o.setState({commentable_type:t,commentable_id:n}),o.loadData()),i||S.c.on("scroll",o.infiniteLoadInPage)}},onDestroy:function(e){var t=e.isInDialog;return function(e,n){t||S.c.off("scroll",n.infiniteLoadInPage)}},doCloseDialog:function(){return function(e,t){j.a.hideOverlay(),setTimeout((function(){Object(j.a)(".mc-comments-dialog").hide(),j.a.unlockScreen()}),300),t.setState({open_dialog:!1})}},openDialog:function(e){var t=e.commentable_type,n=e.commentable_id;return function(e,i){Mi=Object(j.a)(".comments-wrapper"),j.a.showOverlay(),j.a.lockScreen(),Object(j.a)(".mc-comments-dialog").show(),S.b.on("click",".mdui-overlay",i.doCloseDialog),Mi.on("scroll",i.infiniteLoadInDialog),(e.commentable_type!==t||e.commentable_id!==n)&&(i.setState(to),i.setState({commentable_type:t,commentable_id:n}),i.loadData()),i.setState({open_dialog:!0})}},closeDialog:function(){return function(e,t){e.open_dialog&&(t.doCloseDialog(),S.b.off("click",".mdui-overlay",t.doCloseDialog),Mi.off("scroll",t.infiniteLoadInDialog))}},onSubmit:function(){return function(e,t){var n={question:dt,answer:mn,article:ht},i=Object(j.a)(".new-comment"),o=i.find("textarea"),a=o.val();if(a){var r={};r[{question:"question_id",answer:"answer_id",article:"article_id"}[e.commentable_type]]=e.commentable_id,r.content=a,r.include=["user","voting"],t.setState({submitting:!0}),n[e.commentable_type](r).finally((function(){t.setState({submitting:!1})})).then((function(n){var a=n.data;J.a.snackbar("评论发布成功"),o.val(""),J.a.updateTextFields(i);var r=e.pagination,s=r&&(r.page===r.pages||!r.pages);r.total+=1,t.setState({pagination:r}),"-create_time"===e.order?t.setState({comments_data:[a].concat(e.comments_data)}):s&&t.setState({comments_data:e.comments_data.concat(a)})})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(e.errors.content)}))}else J.a.snackbar("请输入评论内容")}},changeOrder:function(e){return function(t,n){e!==t.order&&(n.setState({order:e,comments_data:[],pagination:null}),n.loadData())}},loadData:function(){return function(e,t){(function(){var e=window.G_COMMENTS;return e&&(t.setState({comments_data:e.data,pagination:e.pagination,loading:!1}),window.G_COMMENTS=null),e})()||(t.setState({loading:!0}),io(e.commentable_type,e.commentable_id,e.order).finally((function(){t.setState({loading:!1})})).then((function(e){t.setState({comments_data:e.data,pagination:e.pagination})})).catch(yt.a))}},infiniteLoadInPage:function(){return function(e,t){t.infiniteLoad({isInDialog:!1})}},infiniteLoadInDialog:function(){return function(e,t){t.infiniteLoad({isInDialog:!0})}},infiniteLoad:function(e){var t=e.isInDialog;return function(e,n){if(!e.loading){var i=e.pagination;if(!(i.page>=i.pages)){if(t){if(Mi[0].scrollHeight-Mi[0].scrollTop-Mi[0].clientHeight>100)return}else if(document.body.scrollHeight-window.pageYOffset-window.innerHeight>100)return;n.setState({loading:!0}),io(e.commentable_type,e.commentable_id,e.order,i.page+1).finally((function(){n.setState({loading:!1})})).then((function(t){n.setState({comments_data:e.comments_data.concat(t.data),pagination:t.pagination})})).catch(yt.a)}}}},toggleState:function(e){var t=e.comment_id,n=e.fieldName,i=e.value;return void 0===i&&(i=void 0),function(e,o){var a=e.comments_data,r=Object(vn.a)(a,"comment_id",t),s=a[r];a[r][n]=Object(T.r)(i)?!s[n]:i,o.setState({comments_data:a}),"show_replies"===n&&s[n]&&!s.replies_pagination&&o.loadReplies({comment:s})}},loadReplies:function(e){var t=e.comment;return function(e,n){var i,o=!t.replies_loading&&t.replies_pagination&&t.replies_pagination.page===t.replies_pagination.pages;t.replies_loading||o||(n.toggleState({comment_id:t.comment_id,fieldName:"replies_loading",value:!0}),(i={comment_id:t.comment_id,page:t.replies_pagination?t.replies_pagination.page+1:1,per_page:10,order:"create_time",include:["user","voting"]},Object(at.b)(Object(rt.b)("/comments/{comment_id}/replies",i,["page","per_page","order","include"]))).finally((function(){n.toggleState({comment_id:t.comment_id,fieldName:"replies_loading",value:!1})})).then((function(e){n.toggleState({comment_id:t.comment_id,fieldName:"replies_data",value:t.replies_data.concat(e.data)}),n.toggleState({comment_id:t.comment_id,fieldName:"replies_pagination",value:e.pagination})})).catch(yt.a))}},submitReply:function(e){var t=e.target,n=e.comment;return function(e,i){var o=Object(j.a)(t).parent();if(!o.find(".submit")[0].disabled){var a=o.find("textarea").val();if(a){var r={comment_id:n.comment_id,content:a,include:["user","voting"]};i.toggleState({comment_id:n.comment_id,fieldName:"reply_submitting",value:!0}),function(e){return Object(at.d)(Object(rt.b)("/comments/{comment_id}/replies",e,["include"]),Object(rt.a)(e,["content"]))}(r).finally((function(){i.toggleState({comment_id:n.comment_id,fieldName:"reply_submitting",value:!1})})).then((function(){J.a.snackbar("回复发布成功"),i.toggleState({comment_id:n.comment_id,fieldName:"show_new_reply"}),i.toggleState({comment_id:n.comment_id,fieldName:"reply_count",value:n.reply_count+1})})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(e.errors.content)}))}else J.a.snackbar("请输入回复内容")}}}},Et,yn,kt.a),ao={type:"",item:null,reason:""},ro=ee({onCreate:function(e){var t=e.element;return function(e,n){var i=Object(j.a)(t).mutation();(qi=new J.a.Dialog(i,{history:!1})).$element.on("confirm.mdui.dialog",(function(){var e,t=qi.$element.find(".custom-reason"),i=t.val(),o=n.getState(),a=o.type,r=o.item,s=o.reason;(e={reportable_type:a,reportable_id:function(){switch(a){case"question":return r.question_id;case"answer":return r.answer_id;case"article":return r.article_id;case"comment":return r.comment_id;case"user":return r.user_id;default:return null}}(),reason:"其他原因"===s?i:s},Object(at.d)(Object(rt.b)("/reports/{reportable_type}:{reportable_id}",e,["include"]),Object(rt.a)(e,["reason"]))).finally((function(){n.setState(ao),t.val("")})).then((function(){J.a.snackbar("举报成功")})).catch((function(e){200001!==e.code?Object(yt.a)(e):J.a.snackbar(Object.values(e.errors)[0])})),qi.close()}))}},onChange:function(e){return function(t,n){var i=e.target.value;n.setState({reason:i}),[i,t.reason].indexOf("其他原因")>-1&&setTimeout((function(){return qi.handleUpdate()}))}},open:function(e){var t=e.type,n=e.item;return function(e,i){i.setState({type:t,item:n}),qi.open()}},close:function(){qi.close()}},Et),so=ee({onCreate:function(e){var t=e.element,n=Object(j.a)(t).mutation();Ai=new J.a.Dialog(n,{history:!1})},open:function(e){var t=e.url,n=e.title;return function(e,i){i.setState({url:t,title:n}),Ai.open()}},close:function(){Ai.close()},shareToWeibo:function(){return function(e,t){t.close(),window.open("https://service.weibo.com/share/share.php?url="+e.url+"&title="+e.title)}},shareToFacebook:function(){return function(e,t){t.close(),window.open("https://www.facebook.com/sharer/sharer.php?u="+e.url)}},shareToTwitter:function(){return function(e,t){t.close(),window.open("https://twitter.com/intent/tweet?url="+e.url)}}},Et),co={location:x.actions,getState:function(){return function(e){return e}},index:Ct,questions:cn,question:xn,answer:xn,articles:Mn,article:An,topics:zn,topic:Jn,users:ci,user:Pi,notifications:Gi,theme:{setLayout:function(e){return{layout:e}}},login:Wi,register:Qi,reset:Vi,usersDialog:eo,comments:oo,reportDialog:ro,shareDialog:so},lo=ee({topics_data:[],topics_pagination:null,topics_loading:!1,questions_recent_data:[],questions_recent_pagination:null,questions_recent_loading:!1,questions_popular_data:[],questions_popular_pagination:null,questions_popular_loading:!1,articles_recent_data:[],articles_recent_pagination:null,articles_recent_loading:!1,articles_popular_data:[],articles_popular_pagination:null,articles_popular_loading:!1},{topics_show_arrow_left:!1,topics_show_arrow_right:!1}),uo=ee({route:"question"},On,Nt),po=ee({route:"answer"},On,Nt),fo=ee({},qn),mo=ee({},Vn),ho=ee({user:null},Li),go={layout:"light"},_o=ee({},Zi),vo=ee({},to),bo=ee({},ao),wo={location:x.state,index:lo,questions:qt,question:uo,answer:po,articles:Cn,article:fo,topics:Hn,topic:mo,users:oi,user:ho,notifications:{data:[],pagination:null,loading:!1,count:null},theme:go,login:{name:"",name_msg:"",password:"",password_msg:"",captcha_code:"",captcha_code_msg:"",captcha_token:"",captcha_image:"",submitting:!1},register:{email:"",email_msg:"",email_code:"",email_code_msg:"",username:"",username_msg:"",password:"",password_msg:"",captcha_code:"",captcha_code_msg:"",captcha_token:"",captcha_image:"",email_valid:!1,sending:!1,show_resend_countdown:!1,resend_countdown:60,verifying:!1,submitting:!1},reset:{email:"",email_msg:"",email_code:"",email_code_msg:"",password:"",password_msg:"",password_repeat:"",password_repeat_msg:"",captcha_code:"",captcha_code_msg:"",captcha_token:"",captcha_image:"",email_valid:!1,sending:!1,show_resend_countdown:!1,resend_countdown:60,verifying:!1,submitting:!1},usersDialog:_o,comments:vo,reportDialog:bo,shareDialog:{url:"",title:""}},yo=Array.isArray;function Oo(e){var t="";if("string"==typeof e||"number"==typeof e)return e||"";if(yo(e))for(var n,i=0;i<e.length;i++)""!==(n=Oo(e[i]))&&(t+=(t&&" ")+n);else for(var i in e)e.hasOwnProperty(i)&&e[i]&&(t+=(t&&" ")+i);return t}n(26),n(27);var xo=function(e){var t=e.title;return g(v,{class:"header mdui-ripple",to:At(e.url)},g("div",{class:"mdui-text-color-theme-secondary"},t),g("i",{class:"mdui-icon material-icons mdui-text-color-theme"},"arrow_forward"))},jo=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*((e-=1)*(e-2)-1)+t};n(28),n(29);var So=function(e){return g("div",{key:"mc-loading",class:Oo(["mc-loading",{"mdui-hidden":!e.show}])},g("div",{class:"mdui-spinner",oncreate:function(e){return Object(j.a)(e).mutation()}}))},Eo=n(14),ko=n.n(Eo),Co=(n(30),n(31),n(18)),To=n.n(Co),Io=n(19),No=n.n(Io),Ro=n(20),Do=n.n(Ro),Mo=n(21),qo=n.n(Mo),Ao=n(22),Lo=n.n(Ao);ko.a.registerLanguage("xml",To.a),ko.a.registerLanguage("css",No.a),ko.a.registerLanguage("javascript",Do.a),ko.a.registerLanguage("json",qo.a),ko.a.registerLanguage("php",Lo.a);var $o=function(e){return function(t){q(t,"html")!==e&&(q(t,"html",e),e&&"<p><br/></p>"!==e.replace(/ /gi,"")||(e=""),t.innerHTML=e,function(e){Object(j.a)(e).find("pre").each((function(e,t){ko.a.highlightBlock(t)}))}(t))}},Po=function(e,t){return void 0===t&&(t=0),function(n){if(q(n,"html")!==e){q(n,"html",e);var i=e.replace(/<[^>]+>/g,"");t&&(i=i.substr(0,t)),n.innerHTML=i}}},Uo=function(e){return function(t){q(t,"html")!==e&&(q(t,"html",e),t.innerHTML="<p>"+e.replace(/[\r\n]/g,"</p><p>")+"</p>")}},Ho=(n(32),n(33),n(34),function(e){var t=e.cls;void 0===t&&(t="");var n=e.icon,i=e.iconActive,o=e.tooltip;void 0===o&&(o="");var a=e.badge;void 0===a&&(a=0);var r=e.active;void 0===r&&(r=!1);var s=e.onClick;return g("button",{class:Oo(["mc-icon-button","mdui-btn","mdui-btn-icon","mdui-btn-outlined",{active:r},t]),"mdui-tooltip":"{content: '"+o+"', delay: 300}",onclick:s},a?g("span",{class:"badge"},function(e){return e<1e3?e:e<1e4?(e/1e3).toFixed(1)+"k":Math.floor(e/1e3)+"k"}(a)):null,g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},r&&i?i:n))}),Bo=function(e){var t=e.item,n=e.type,i=e.primaryKey;void 0===i&&(i=null);var o=e.id;void 0===o&&(o=null);var a=e.dataName;void 0===a&&(a=null);var r=e.actions,s=t.relationships.is_following;return g(Ho,{cls:"mc-follow",icon:"star_border",iconActive:"star",tooltip:s?"取消关注":"关注",active:s,onClick:function(){return r.toggleFollow({type:n,dataName:a,primaryKey:i,id:o})}})},Go=function(e){var t=e.topic,n=e.actions,i=e.type;return void 0===i&&(i="topics"),g("div",{class:"mc-topic-item item-inner",key:t.topic_id},g("div",{class:"item mdui-card",style:{backgroundImage:'url("'+t.cover.small+'")'}},g(v,{to:At("/topics/"+t.topic_id),class:"mdui-ripple info",onclick:function(){return n.afterItemClick(t)}},g("div",{class:"name mdui-text-color-theme-text",oncreate:Po(t.name),onupdate:Po(t.name)})),g("div",{class:"actions"},g(Bo,{item:t,type:i,id:t.topic_id,actions:n}),g("button",{class:"followers mdui-btn mdui-ripple mdui-text-color-theme-secondary",onclick:function(){k("users_dialog_open",{type:"topic_followers",id:t.topic_id})}},t.follower_count," 人关注"))))},Ko=function(e,t){t.setState({topics_show_arrow_left:e.scrollLeft>0,topics_show_arrow_right:e.scrollLeft+e.offsetWidth<e.scrollWidth})},zo=function(e,t,n){var i=Object(j.a)(e.target).parents(".topics-wrapper").find(".topics")[0],o="left"===t,a=i.offsetWidth*(o?-1:1);!function(e,t){var n,i,o,a=t.duration||300,r=t.offset||0,s=t.callback,c=e.scrollLeft;window.requestAnimationFrame((function t(l){n||(n=l),o=jo(i=l-n,c,r,a),e.scrollLeft=o,i<a?window.requestAnimationFrame(t):(e.scrollLeft=c+r,s&&s(),n=!1)}))}(i,{offset:a,callback:function(){Ko(i,n)}})},Fo=function(e){var t=e.icon,n=e.cls,i=e.show,o=e.onClick;return g("button",{class:Oo(["mdui-btn","mdui-btn-raised","mdui-btn-icon","mdui-ripple",n,{"mdui-hidden":!i}]),onclick:o},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},t))},Yo=function(e){var t=e.state,n=e.actions;return g("div",{class:"topics-wrapper"},g("div",{class:"topics",onupdate:function(e){return Ko(e,n)}},t.topics_data.map((function(e){return g(Go,{topic:e,actions:n,type:"index_topics"})}))),g(Fo,{icon:"keyboard_arrow_left",cls:"arrow-left",show:t.topics_show_arrow_left,onClick:function(e){return zo(e,"left",n)}}),g(Fo,{icon:"keyboard_arrow_right",cls:"arrow-right",show:t.topics_show_arrow_right,onClick:function(e){return zo(e,"right",n)}}),g(So,{show:t.topics_loading}))},Wo=(n(35),n(36),n(37),function(e){var t,n;n=e,(t=document.createElement("textArea")).value=n,document.body.appendChild(t),function(){if(window.navigator.userAgent.match(/ipad|iphone/i)){var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();n.removeAllRanges(),n.addRange(e),t.setSelectionRange(0,999999)}else t.select()}(),function(){try{document.execCommand("Copy")?J.a.snackbar("已复制"):J.a.snackbar("复制失败！请手动复制！")}catch(e){J.a.snackbar("复制失败！请手动复制！")}document.body.removeChild(t)}()}),Qo=function(e){var t,n,i=e.type,o=e.item,a=e.extraOptions;switch(void 0===a&&(a=null),i){case"question":t="/questions/"+o.question_id,n=o.title;break;case"answer":t="/questions/"+o.question_id+"/answers/"+o.answer_id,n=o.title;break;case"article":t="/articles/"+o.article_id,n=o.title;break;case"comment":n=o.content;break;case"user":t="/users/"+o.user_id,n=o.username;break;case"topic":t="/topics/"+o.topic_id,n=o.name}t=window.location.protocol+"//"+window.location.host+At(t);var r=function(e){var t=e.name;return g("li",{class:"mdui-menu-item"},g("a",{class:"mdui-ripple",onclick:e.onClick},t))};return g("div",{class:"mc-options-button",oncreate:function(e){var t=Object(j.a)(e);new J.a.Menu(t.children("button"),t.children(".mdui-menu"),{position:"top",align:"right"})}},g("button",{class:Oo(["mdui-btn","mdui-btn-icon","mdui-text-color-theme-icon","mdui-ripple"])},g("i",{class:"mdui-icon material-icons"},"more_vert")),g("ul",{class:"mdui-menu"},"comment"!==i?[g(r,{name:"复制链接",onClick:function(){return Wo(t)},key:"0"}),g(r,{name:"分享",onClick:function(){return k("share_dialog_open",{url:t,title:n})},key:"1"})]:null,"topic"===i||"user"===i&&bt()&&bt().user_id===o.user_id?null:g(r,{name:"举报",onClick:function(){return k("report_dialog_open",{type:i,item:o})}}),a?a.map((function(e){return g(r,{name:e.name,onClick:e.onClick})})):null))},Vo=function(e){var t=e.url,n=e.label,i=e.count;return g(v,{to:t,class:"mdui-btn mdui-ripple"},g("label",{class:"mdui-text-color-theme-secondary"},n),g("span",{class:"mdui-text-color-theme-text"},i))},Zo=function(e,t){var n=e.actions,i=e.user,o=e.dataName,a=e.primaryKey;void 0===a&&(a=null);var r=e.primaryValue;return void 0===r&&(r=null),g("div",{class:"mc-user-popover",key:"mc-user-popover",onclick:function(e){return e.preventDefault()},oncreate:function(e){n.onUserPopoverCreate({element:e,dataName:o,primaryKey:a,primaryValue:r})}},t,g("div",{class:"popover mdui-menu",key:"popover"},i.cover?[g("div",{class:"mc-user-line",key:"0"},g(v,{key:"avatar",class:"avatar user-popover-trigger",to:At("/users/"+i.user_id),style:{backgroundImage:'url("'+i.avatar.middle+'")'}}),g(v,{key:"username",class:"username user-popover-trigger mdui-text-color-theme-text",to:At("/users/"+i.user_id)},i.username),g("div",{key:"headline",class:"headline mdui-text-color-theme-secondary"},fn(i.headline))),g("div",{class:"stats",key:"1"},g(Vo,{url:At("/users/"+i.user_id+"#answers"),label:"回答",count:i.answer_count}),g(Vo,{url:At("/users/"+i.user_id+"#articles"),label:"文章",count:i.article_count}),g("button",{class:"mdui-btn mdui-ripple",onclick:function(){k("users_dialog_open",{type:"followers",id:i.user_id})}},g("label",{class:"mdui-text-color-theme-secondary"},"关注者"),g("span",{class:"mdui-text-color-theme-text"},i.follower_count))),g("div",{class:"bottom",key:"2"},bt()&&bt().user_id===i.user_id?null:g(Bo,{item:i,type:"relationships-user",dataName:o,primaryKey:a,id:r,actions:n}),g("div",{class:"flex-grow"}),g(Qo,{type:"user",item:i}))]:null,i.cover?null:g("div",{key:"mc-user-popover-spinner",class:"mdui-spinner",oncreate:function(e){return Object(j.a)(e).mutation()}})))},Xo=function(e){var t=e.title,n=e.items,i=e.primaryKey,o=e.dataName,a=e.loading,r=e.url,s=e.actions;return g("div",{class:"items-container"},g("div",{class:"items mdui-card"},g(xo,{title:t,url:r}),g("div",{class:"content"},g(So,{show:a}),n.map((function(e){return g(v,{class:"item",to:At(r.split("#")[0]+"/"+e[i]),onclick:function(){return s.afterItemClick(e)}},g(Zo,{actions:s,user:e.relationships.user,dataName:o,primaryKey:i,primaryValue:e[i]},g("div",{class:"avatar user-popover-trigger",style:{backgroundImage:'url("'+e.relationships.user.avatar.middle+'")'}})),g("div",{class:"title mdui-text-color-theme-text",oncreate:Po(e.title),onupdate:Po(e.title)}))})))))},Jo=(n(38),n(39),function(e){return g("div",{class:Oo(["mc-loaded",{"mdui-hidden":!e.show}]),key:"mc-loaded"},"已加载完所有数据")}),ea=(n(40),function(e){var t=e.show;void 0===t&&(t=!1);var n=e.title,i=e.description;void 0===i&&(i="");var o=e.action;void 0===o&&(o=!1);var a=e.action_text;return void 0===a&&(a=""),g("div",{class:Oo(["mc-empty",{"mdui-hidden":!t}]),style:{backgroundImage:"url("+(window.G_OPTIONS.site_static_url?window.G_OPTIONS.site_static_url:window.G_ROOT+"/static")+"/theme/material/./994575169312f0027615406d265202f2.png)"},key:"mc-empty"},g("div",{class:"title"},n),i?g("div",{class:"description"},i):null,o?g("button",{class:"mdui-btn mdui-btn-raised mdui-ripple mdui-color-theme",onclick:function(){o()}},a):null)});j.a.fn.last=function(){return this.eq(-1)};var ta=function(e){this.editor=e},na={$toolbar:{configurable:!0},$container:{configurable:!0},selection:{configurable:!0},command:{configurable:!0}};na.$toolbar.get=function(){return this.editor.$toolbar},na.$container.get=function(){return this.editor.$container},na.selection.get=function(){return this.editor.selection},na.command.get=function(){return this.editor.command},Object.defineProperties(ta.prototype,na);var ia=ta,oa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.do=function(e,t){if(this.selection.getRange()){this.selection.restore();var n=e;this[n]?this[n](t):document.execCommand(e,!1,t),this.editor.menus.changeStatus(),this.selection.saveRange(),this.selection.restore(),this.editor.change&&this.editor.change()}},t.prototype.insertHTML=function(e){if(document.queryCommandSupported("insertHTML"))document.execCommand("insertHTML",!1,e);else{var t=this.selection.getRange();t.insertNode?(t.deleteContents(),t.insertNode(Object(j.a)(e)[0])):t.pasteHTML&&t.pasteHTML(e)}},t.prototype.replaceRoot=function(e){var t=this.selection.getRootElem(),n=Object(j.a)(e).insertAfter(t);t.remove(),this.selection.createRangeByElem(n,!1,!0),this.selection.restore()},t.prototype.insertAfterRoot=function(e){var t=this.selection.getRootElem(),n=Object(j.a)(e).insertAfter(t);this.selection.createRangeByElem(n,!1,!0),this.selection.restore()},t.prototype.appendHTML=function(e){var t=Object(j.a)(e).appendTo(this.$container);this.selection.createRangeByElem(t,!1,!0),this.selection.restore()},t.prototype.insertElem=function(e){var t=this.selection.getRange();t.insertNode&&(t.deleteContents(),t.insertNode(e[0]))},t}(ia),aa=function(e){function t(t,n){e.call(this,t),this.$button=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.isActive=function(){return!1},t}(ia);aa.icon="",aa.title="",aa.disable=[];var ra=aa,sa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onclick=function(){var e=this.selection.isEmpty();e&&this.selection.createEmptyRange(this.getElementName()),this.command.do(this.getCommandName()),e&&(this.selection.collapseRange(),this.selection.restore())},t.prototype.isActive=function(){return document.queryCommandState(this.getCommandName())},t}(ra),ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCommandName=function(){return"bold"},t.prototype.getElementName=function(){return"strong"},t}(sa);ca.icon="format_bold",ca.title="粗体",ca.disable=["image"];var la=ca,ua=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onclick=function(){var e=this;J.a.confirm("确定要清空内容？",(function(){var t=e.editor.options;e.editor.setHTML(""),t.autoSave&&(window.localStorage.removeItem(t.autoSaveKey),t.onClearDrafts())}),T.t,{confirmText:"确定",cancelText:"取消"})},t}(ra);ua.icon="delete",ua.title="舍弃草稿";var da=ua;function pa(e){return void 0===e&&(e=""),e.replace(/</gm,"&lt;").replace(/>/gm,"&gt;").replace(/"/gm,"&quot;")}j.a.fn.add=function(e){return new N.a(R($(this.get(),Object(j.a)(e).get())))};var fa=function(e){function t(t,n){e.call(this,t,n),this.active=!1,this.init()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(){var e=this;this.$container.on("keydown",(function(t){if(13===t.keyCode&&e.active){t.preventDefault();var n=e.selection.getRange().startOffset;e.command.do("insertHTML","\n"),e.selection.saveRange(),e.selection.getRange().startOffset===n&&e.command.do("insertHTML","\n"),e.selection.getContainerElem()[0].scrollLeft=0}9===t.keyCode&&e.active&&(t.preventDefault(),e.command.do("insertHTML","    "))}))},t.prototype.onclick=function(){var e=this,t=this.selection.getRootElem();if(this.active){var n=t.text().split("\n"),i="";return n.forEach((function(e){e=pa(e),i=e?"<p>"+e+"</p>"+i:"<p><br></p>"+i})),void this.command.do("replaceRoot",i)}if(t.length){var o=pa(t.text());this.command.do("replaceRoot",o?"<pre><code>"+o+"</code></pre>":"<pre><code><br></code></pre>")}else{var a=this.selection.getRange();if(a.collapsed)this.command.do("appendHTML","<pre><code><br></code></pre>");else{var r="",s=!1,c=Object(j.a)();this.$container.children().each((function(t,n){var i=Object(j.a)(n);return s||(i.is(a.startContainer)||i[0].contains(a.startContainer)||e.$container.is(a.startContainer))&&(s=!0),!(s&&(r+=pa(i.text())+"\n",c=c.add(i),i.is(a.endContainer)||i[0].contains(a.endContainer)))})),c.each((function(e,t){var n=Object(j.a)(t);e<c.length-1&&n.remove()})),this.selection.createRangeByElem(c.last(),!1,!0),this.command.do("replaceRoot","<pre><code>"+r+"</code></pre>")}}},t.prototype.isActive=function(){return this.active=this.selection.getRootElem().is("pre"),this.active},t}(ra);fa.icon="code",fa.title="代码块",fa.disable=["bold","italic","head","ol","ul","link","image"];var ma=fa,ha=function(e){function t(){e.apply(this,arguments),this.active=!1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onclick=function(){var e=this.selection.getRootElem();if(this.active){var t=e.text();this.command.do("replaceRoot",t?"<p>"+t+"</p>":"<p><br></p>")}else{if(e.length)this.command.do("replaceRoot","<h2>"+pa(e.text())+"</h2>");else this.selection.getRange().collapsed&&this.command.do("appendHTML","<h2><br></h2>")}},t.prototype.isActive=function(){return this.active=this.selection.getRootElem().is("h2"),this.active},t}(ra);ha.icon="title",ha.title="标题",ha.disable=["bold","italic","image"];var ga=ha,_a={confirmText:"ok",history:!0,modal:!1,closeOnEsc:!0,closeOnConfirm:!0};J.a.alert=function(e,t,n,i){return Object(T.k)(t)&&(i=n,n=t,t=""),Object(T.r)(n)&&(n=function(){}),Object(T.r)(i)&&(i={}),i=ee({},_a,i),J.a.dialog({title:t,content:e,buttons:[{text:i.confirmText,bold:!1,close:i.closeOnConfirm,onClick:n}],cssClass:"mdui-dialog-alert",history:i.history,modal:i.modal,closeOnEsc:i.closeOnEsc})};var va=function(e){function t(t,n){e.call(this,t,n),this.$input=Object(j.a)(),this.inputID=j.a.guid(),this.suffixs=[],this.accepts=[],this.setAccepts(),this.setInput(),this.bindInputChange(),this.bindKeyboardEvent()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.bindKeyboardEvent=function(){var e=this;this.$container.on("keydown",(function(t){var n=t.keyCode;e.selection.saveRange();var i=e.selection.getContainerElem();if((8===n||46===n)&&i.is("figcaption")){var o=i.html().toLowerCase().trim();o&&"<br>"!==o&&"<br/>"!==o||(i.html(""),t.preventDefault())}if(i.is("figure")&&(8!==n&&46!==n||(e.selection.createRangeByElem(i.next()),i.remove(),e.selection.restore()),t.preventDefault()),13===n&&i.is("figcaption")){var a=e.selection.getRootElem().next();a.length?(e.selection.createRangeByElem(a),e.selection.restore()):e.command.do("insertAfterRoot","<p><br></p>"),t.preventDefault()}})),this.$container.on("keyup",(function(t){var n=t.keyCode,i=e.selection.getContainerElem();if((8===n||46===n)&&i.is("figcaption")){var o=i.html().toLowerCase().trim();o&&"<br>"!==o&&"<br/>"!==o||i.html("")}}))},t.prototype.setAccepts=function(){this.suffixs=this.editor.options.imageUploadSuffix;var e={png:"image/png",jpg:"image/jpeg",gif:"image/gif"};this.accepts=this.suffixs.map((function(t){return e[t]}))},t.prototype.setInput=function(){this.$input=Object(j.a)('<input type="file" id="'+this.inputID+'" name="'+this.editor.options.imageUploadName+'" accept="'+this.accepts.join(", ")+'"/>').insertAfter(this.$button)},t.prototype.bindInputChange=function(){var e=this;this.$input.on("change",(function(t){var n=t.target.files;n.length&&(e.upload(n[0]),e.$input.val(""))}))},t.prototype.upload=function(e){var t=this;if(this.accepts.indexOf(e.type)<0)J.a.alert("仅允许上传 "+this.suffixs.join(", ")+" 格式的图片");else if(e.size>this.editor.options.imageUploadMaxSize)J.a.alert("图片体积不能超过 "+function(e){for(var t=0;e>=1024;)e/=1024,t++;return e.toFixed(2)+["B","KB","MB","GB","TB"][t]}(this.editor.options.imageUploadMaxSize));else{var n,i,o,a=new FormData;a.append(this.editor.options.imageUploadName,e),Je({url:this.editor.options.imageUploadUrl,method:"POST",data:a,processData:!1,dataType:"json",contentType:!1,global:!1,beforeSend:function(e){i=0,o=setInterval((function(){return i+=100}),100);var t=(n=J.a.dialog({title:"上传中…",content:'<p class="mdui_editor-upload-progress">0%</p>',history:!1,modal:!0,cssClass:"mdui_editor-upload-progress-dialog"})).$element.find(".mdui_editor-upload-progress");e.upload.onprogress=function(e){t.html((e.loaded/e.total*100).toFixed(0)+"%")}},complete:function(){clearInterval(o),i<500?setTimeout((function(){n.close()}),500-i):n.close()}}).then((function(e){if(t.editor.options.imageUploadResponseTransform&&(e=t.editor.options.imageUploadResponseTransform(e)),e.code)J.a.alert(e.message);else{var n=t.selection.getRootElem(),i=n.html().toLowerCase().trim(),o='<figure><img src="'+e.data.url+'"/><figcaption placeholder="图片描述（选填）"></figcaption></figure>';"P"!==n[0].nodeName||"<br>"!==i&&"<br/>"!==i?t.command.do("insertAfterRoot",o):t.command.do("replaceRoot",o),t.command.do("insertAfterRoot","<p><br></p>")}})).catch((function(){return J.a.alert("图片上传失败")}))}},t.prototype.onclick=function(){Object(j.a)("#"+this.inputID).trigger("click")},t}(ra);va.icon="image",va.title="插入图片";var ba=va,wa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCommandName=function(){return"italic"},t.prototype.getElementName=function(){return"em"},t}(sa);wa.icon="format_italic",wa.title="斜体",wa.disable=["image"];var ya=wa,Oa={confirmText:"ok",cancelText:"cancel",history:!0,modal:!1,closeOnEsc:!0,closeOnCancel:!0,closeOnConfirm:!0,type:"text",maxlength:0,defaultValue:"",confirmOnEnter:!1};J.a.prompt=function(e,t,n,i,o){Object(T.k)(t)&&(o=i,i=n,n=t,t=""),Object(T.r)(n)&&(n=function(){}),Object(T.r)(i)&&(i=function(){}),Object(T.r)(o)&&(o={});var a='<div class="mdui-textfield">'+(e?'<label class="mdui-textfield-label">'+e+"</label>":"")+("text"===(o=ee({},Oa,o)).type?'<input class="mdui-textfield-input" type="text" value="'+o.defaultValue+'" '+(o.maxlength?'maxlength="'+o.maxlength+'"':"")+"/>":"")+("textarea"===o.type?'<textarea class="mdui-textfield-input" '+(o.maxlength?'maxlength="'+o.maxlength+'"':"")+">"+o.defaultValue+"</textarea>":"")+"</div>";return J.a.dialog({title:t,content:a,buttons:[{text:o.cancelText,bold:!1,close:o.closeOnCancel,onClick:function(e){var t=e.$element.find(".mdui-textfield-input").val();i(t,e)}},{text:o.confirmText,bold:!1,close:o.closeOnConfirm,onClick:function(e){var t=e.$element.find(".mdui-textfield-input").val();n(t,e)}}],cssClass:"mdui-dialog-prompt",history:o.history,modal:o.modal,closeOnEsc:o.closeOnEsc,onOpen:function(e){var t=e.$element.find(".mdui-textfield-input");J.a.updateTextFields(t),t[0].focus(),"textarea"!==o.type&&!0===o.confirmOnEnter&&t.on("keydown",(function(t){if(13===t.keyCode){var i=e.$element.find(".mdui-textfield-input").val();return n(i,e),o.closeOnConfirm&&e.close(),!1}})),"textarea"===o.type&&t.on("input",(function(){return e.handleUpdate()})),o.maxlength&&e.handleUpdate()}})};var xa=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.onclick=function(){var e=this,t=this.selection.getContainerElem(),n="";t.is("a")&&(this.selection.createRangeByElem(t,!1,!0),n=t.attr("href")||"");var i=J.a.prompt("请输入链接地址",(function(t,n){if(!t)return e.command.do("unlink"),void n.close();var i=n.$element.find(".mdui-textfield-input")[0];return i.validity&&i.validity.valid?(e.command.do("createLink",t),void n.close()):void 0}),T.t,{confirmText:"确认",cancelText:"取消",defaultValue:n,confirmOnEnter:!0,closeOnConfirm:!1});i.$element.find(".mdui-textfield-input").attr("type","text").attr("pattern","^(https?|ftp|file)://[\\S]+\\.[\\S]+$").after('<div class="mdui-textfield-error">链接格式错误</div>'),J.a.updateTextFields(i.$element.find(".mdui-textfield")),i.handleUpdate()},t.prototype.isActive=function(){return this.selection.getContainerElem().is("a")},t}(ra);xa.icon="link",xa.title="插入链接",xa.disable=["image"];var ja=xa;Object(C.a)(["","All","Until"],(function(e,t){j.a.fn["prev"+t]=function(t,n){return P(e?Object(j.a)(this.get().reverse()):this,e,"previousElementSibling",t,n)}}));var Sa=function(e){function t(){e.apply(this,arguments),this.disable=["head","code","image"]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getCommandName=function(){return"ol"===this.getName()?"insertOrderedList":"insertUnorderedList"},t.prototype.moveListToRoot=function(e){var t=this;e.each((function(e,n){var i=Object(j.a)(n).parent();i.is(t.$container)||(t.selection.createRangeByElem(i,!1,!0),t.command.do("replaceRoot",n))}))},t.prototype.moveElemToP=function(){var e=this;Object(j.a)(this.$container[0].childNodes).each((function(t,n){var i=Object(j.a)(n),o=n.nodeType,a=n.nodeName,r=n.nodeValue,s=n.outerHTML;return 3===o?(e.selection.createRangeByElem(i.prev(),!1,!0),e.command.do("insertAfterRoot",r?"<p>"+r+"</p>":"<p><br></p>"),void i.remove()):1===o?["B","STRONG","I","EM","A"].indexOf(a)>-1?(e.selection.createRangeByElem(i,!1,!0),void e.command.do("replaceRoot",s?"<p>"+s+"</p>":"<p><br></p>")):void("BR"===a&&i.remove()):void 0}))},t.prototype.onclick=function(){this.command.do(this.getCommandName()),this.moveListToRoot(this.$container.find(this.getName())),this.moveElemToP()},t.prototype.isActive=function(){return document.queryCommandState(this.getCommandName())},t}(ra),Ea=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getName=function(){return"ol"},t}(Sa);Ea.icon="format_list_numbered",Ea.title="有序列表";var ka=Ea,Ca=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getName=function(){return"ul"},t}(Sa);Ca.icon="format_list_bulleted",Ca.title="无序列表";var Ta={bold:la,clear_drafts:da,code:ma,head:ga,image:ba,italic:ya,link:ja,ol:ka,ul:Ca},Ia=function(e){function t(t){e.call(this,t),this.menus={},this.init()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.init=function(){var e=this;this.editor.options.menus.forEach((function(t){if("|"!==t)if(" "!==t){var n=Ta[t];if(n&&"function"==typeof n){var i=Object(j.a)('<button class="mdui-btn mdui_editor-toolbar-menu mdui_editor-toolbar-menu-'+t+'" type="button" title="'+n.title+'"><i class="mdui-icon material-icons">'+n.icon+"</i></button>").appendTo(e.$toolbar),o=new n(e.editor,i);e.menus[t]=o;i.on("click",(function(){null!==e.selection.getRange()&&o.onclick()}))}}else e.$toolbar.append('<div class="mdui-toolbar-spacer"></div>');else e.$toolbar.append('<div class="mdui_editor-toolbar-divider"></div>')}))},t.prototype.changeStatus=function(){var e=this,t=[];Object(C.a)(this.menus,(function(n,i){setTimeout((function(){i.isActive()?(i.$button.addClass("mdui_editor-toolbar-menu-active"),Ta[n].disable&&(t=t.concat(Ta[n].disable))):i.$button.removeClass("mdui_editor-toolbar-menu-active"),n===e.editor.options.menus[e.editor.options.menus.length-1]&&(t=R(t),Object(C.a)(e.menus,(function(e,n){n.$button.prop("disabled",t.indexOf(e)>-1)})))}),0)}))},t}(ia);var Na=function(e){function t(){e.apply(this,arguments),this.currentRange=void 0}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.getRange=function(){return this.currentRange},t.prototype.saveRange=function(e){if(e)this.currentRange=e;else{var t=window.getSelection();if(0!==t.rangeCount){var n=t.getRangeAt(0),i=this.getContainerElem(n);i.length&&this.$container[0].contains(i[0])&&(this.currentRange=n)}}},t.prototype.collapseRange=function(e){void 0===e&&(e=!1);var t=this.currentRange;t&&t.collapse(e)},t.prototype.getText=function(){return this.currentRange?this.currentRange.toString():""},t.prototype.getContainerElem=function(e){if(e=e||this.currentRange){var t=e.commonAncestorContainer;return Object(j.a)(1===t.nodeType?t:t.parentNode)}return Object(j.a)()},t.prototype.getRootElem=function(e){var t=this.getContainerElem(e);return this.$container.is(t)?Object(j.a)():t.parent().is(this.$container)?t:t.parentsUntil(this.$container).last()},t.prototype.isEmpty=function(){var e=this.currentRange;return!(!e||!e.startContainer)&&(e.startContainer===e.endContainer&&e.startOffset===e.endOffset)},t.prototype.restore=function(){var e=window.getSelection();e.removeAllRanges(),e.addRange(this.currentRange)},t.prototype.createEmptyRange=function(e){void 0===e&&(e="strong");var t,n=this.getRange();if(n&&this.isEmpty())try{/webkit/i.test(navigator.userAgent)?(this.command.do("insertHTML","&#8203;"),n.setEnd(n.endContainer,n.endOffset+1),this.saveRange(n)):(t=Object(j.a)("<"+e+">&#8203;</"+e+">"),this.command.do("insertElem",t),this.createRangeByElem(t,!0))}catch(e){}},t.prototype.createRangeByElem=function(e,t,n){if(void 0===t&&(t=!1),void 0===n&&(n=!1),e.length){var i=e[0],o=document.createRange();n?o.selectNodeContents(i):o.selectNode(i),o.collapse(t),this.saveRange(o)}},t}(ia);function Ra(e){var t=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData,n="",i="";return null===t?n=window.clipboardData&&window.clipboardData.getData("text"):(n=t.getData("text/plain"),i=t.getData("text/html")),{pasteText:n,pasteHtml:i}}function Da(e){return pa(Ra(e).pasteText)}var Ma={onchange:function(){},onClearDrafts:function(){},onchangeTimeout:200,placeholder:"说点什么",menus:["bold","italic","head","code","ol","ul","link","image"," ","clear_drafts"],tagsWhiteList:["p","strong","b","em","i","h2","pre","code","ol","ul","li","a","img","figure","figcaption"],autoSave:!1,autoSaveKey:"mdui-editor-content",imageUploadUrl:"",imageUploadMaxSize:2097152,imageUploadSuffix:["png","jpg","gif"],imageUploadName:"file",imageUploadResponseTransform:!1},qa=function(e,t,n){void 0===n&&(n={}),this.options=ee({},Ma),this.change=null,ee(this.options,n),this.$toolbar=Object(j.a)(e).first().addClass("mdui_editor-toolbar"),this.$container=Object(j.a)(t).first().addClass("mdui_editor-content mdui-typo").attr({contenteditable:"",placeholder:this.options.placeholder}),this.command=new oa(this),this.selection=new Na(this),this.menus=new Ia(this),this.options.autoSave&&this.setHTML(window.localStorage.getItem(this.options.autoSaveKey)||""),this.initSelection(!0),this.bindEvent(),this.command.do("defaultParagraphSeparator","p");try{this.command.do("AutoUrlDetect",!1)}catch(e){}};qa.prototype.initSelection=function(e){void 0===e&&(e=!1);var t=this.$container.children();if(!t.length)return this.$container.append("<p><br></p>"),this.initSelection();var n=t.last();if(e){var i=n.html().toLowerCase(),o=n[0].nodeName;if("<br>"!==i&&"<br/>"!==i||"P"!==o)return this.$container.append("<p><br></p>"),this.initSelection()}this.updatePlaceholder(),this.selection.createRangeByElem(n,!1,!0),this.selection.restore()},qa.prototype.getHTML=function(){return this.$container.html().replace(/\u200b/gm,"")},qa.prototype.setHTML=function(e){this.$container.html(e),this.initSelection()},qa.prototype.getText=function(){return this.$container.text().replace(/\u200b/gm,"")},qa.prototype.setText=function(e){this.setHTML(e?"<p>"+e+"</p>":"<p><br></p>")},qa.prototype.clear=function(){this.setHTML("<p><br></p>")},qa.prototype.focus=function(){this.initSelection()},qa.prototype.bindEvent=function(){var e=this,t=!0;this.$container.on("compositionstart",(function(){t=!1})).on("compositionend",(function(){t=!0})).on("click keyup",(function(){t&&e.change&&e.change()})),this.$toolbar.on("click",(function(){e.change&&e.change()})),this.bindChange(),this.saveRangeRealTime(),this.pasteHandler(),this.deleteHandler(),this.containerClickHandler(),this.dragHandler(),this.undoHandler()},qa.prototype.updatePlaceholder=function(){"<p><br></p>"===this.$container.html()?this.$container.addClass("mdui_editor-content-empty"):this.$container.removeClass("mdui_editor-content-empty")},qa.prototype.bindChange=function(){var e=this,t=this.options,n=t.onchangeTimeout,i=0,o=this.getHTML();this.change=function(){var a=e.getHTML();a!==o&&(i&&clearTimeout(i),i=setTimeout((function(){t.onchange(e),o=a,t.autoSave&&window.localStorage.setItem(t.autoSaveKey,e.getHTML()),e.updatePlaceholder()}),n))}},qa.prototype.saveRangeRealTime=function(){var e=this,t=function(){e.selection.saveRange(),e.menus.changeStatus()};this.$container.on("keyup",t).on("mousedown",(function(){e.$container.on("mouseleave",t)})).on("mouseup",(function(){t(),e.$container.off("mouseleave",t)}))},qa.prototype.pasteHandler=function(){var e=this;this.$container.on("paste",(function(t){t.preventDefault();var n,i,o=(n=Da(t),i="",n.split("\n").forEach((function(e){e=e.replace(/[\r\n]/gm,""),i+=e?"<p>"+e+"</p>":"<p><br></p>"})),i),a=Da(t),r=e.selection.getContainerElem();if(r.length){var s=r[0].nodeName;if("CODE"!==s&&"PRE"!==s){if(o)try{e.command.do("insertHTML",o)}catch(t){e.command.do("insertHTML",a)}}else e.command.do("insertHTML",a)}}))},qa.prototype.deleteHandler=function(){var e=this;this.$container.on("keydown keyup",(function(t){var n=t.keyCode,i=t.type;if(8===n||46===n){var o=e.$container.html().toLowerCase().trim();"keydown"===i&&("<p><br></p>"===o?t.preventDefault():o||(e.$container.html("<p><br></p>"),t.preventDefault())),"keyup"===i&&(o||e.$container.html("<p><br></p>"))}e.updatePlaceholder()}))},qa.prototype.containerClickHandler=function(){var e=this;this.$container.on("click",(function(t){var n=t.target;if(Object(j.a)(n).is(e.$container)){var i=e.$container.children().last();i.length&&"P"===i[0].nodeName||e.command.do("appendHTML","<p><br></p>")}}))},qa.prototype.dragHandler=function(){this.$container.on("dragleave drop dragenter dragover",!1)},qa.prototype.undoHandler=function(){this.$container.on("keydown",(function(e){if(e.ctrlKey&&90===e.keyCode)return!1}))};var Aa=qa,La=(n(41),n(42),function(e){var t=e.topic,n=e.onRemove;return g("div",{class:"mdui-chip",key:t.topic_id},g("img",{class:"mdui-chip-icon",src:t.cover.small}),g("span",{class:"mdui-chip-title"},t.name),g("span",{class:"mdui-chip-delete",onclick:n},g("i",{class:"mdui-icon material-icons"},"cancel")))}),$a=function(e){var t=e.iconTitle,n=e.icon;return g("i",{class:"mdui-icon material-icons",title:t,onclick:e.onClick},n)},Pa=function(e){var t=e.id,n=e.title,i=e.withTitle;void 0===i&&(i=!1);var o=e.withTopics;void 0===o&&(o=!1);var a=e.onSubmit,r=e.publishing,s=e.state,c=e.actions;return g("div",{class:Oo(["mc-editor",{"mdui-hidden":!s.editor_open,maximize:s.editor_maximize,minimize:s.editor_minimize,"with-title":i,"with-topics":o}]),id:t,key:"mc-editor-"+t,oncreate:function(e){var t=Object(j.a)(e),n=t.find(".editor-toolbar"),a=t.find(".editor-content"),r=new Aa(n,a,{onClearDrafts:function(){i&&window.localStorage.removeItem(s.auto_save_key+"-title"),o&&window.localStorage.removeItem(s.auto_save_key+"-topics"),c.editorClose()},placeholder:"请输入内容",autoSave:!!s.auto_save_key,autoSaveKey:s.auto_save_key+"-content",imageUploadUrl:window.G_API+"/images",imageUploadName:"image",imageUploadResponseTransform:function(e){return e.data.url=e.data.urls.release,e}});t.data("editor-instance",r)}},g((function(){return g("div",{class:"header"},g("div",{class:"header-title",onclick:c.editorMinimize},n),g("div",{class:"header-actions"},g($a,{iconTitle:"最小化",icon:"remove",onClick:c.editorMinimize}),g($a,{iconTitle:"全屏模式",icon:s.editor_maximize?"fullscreen_exit":"fullscreen",onClick:c.editorMaximize}),g($a,{iconTitle:"保存为草稿并关闭",icon:"close",onClick:c.editorClose})))}),null),g("div",{class:"body"},i?g((function(){return g("input",{class:"editor-title mdui-text-color-theme-text",placeholder:"请输入标题",value:window.localStorage.getItem(s.auto_save_key+"-title"),oninput:function(e){window.localStorage.setItem(s.auto_save_key+"-title",e.target.value)}})}),null):null,o?g((function(){return g("div",{class:"editor-topics"},s.editor_selected_topics.length?g("div",{class:"chip-wrapper"},s.editor_selected_topics.map((function(e,t){return g(La,{topic:e,onRemove:function(){c.topicSelectorRemoveOne(t)}})}))):null,s.editor_selected_topics.length?null:g("span",{class:"placeholder",title:"点击添加话题",onclick:c.topicSelectorOpen},"请至少选择 1 个话题"),g("button",{class:"add mdui-btn mdui-btn-icon mdui-btn-dense mdui-ripple",title:"点击添加话题",onclick:c.topicSelectorOpen},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"add")))}),null):null,g("div",{class:"editor-content mdui-text-color-theme-text"}),g("div",{class:"editor-toolbar"},g((function(){return g("button",{class:"submit mdui-btn mdui-btn-raised mdui-color-theme",disabled:r,onclick:function(e){var t=Object(j.a)(e.target).parents(".mc-editor"),n=t.data("editor-instance");a({title:t.find(".editor-title").val(),content:n.getHTML()})}},r?"发布中":"发布")}),null))))},Ua=(n(43),function(e,t){var n=e.item,i=e.id,o=e.last_visit_id,a=e.path,r=e.actions;return g(v,{to:At(a),class:Oo(["mc-list-item",{"last-visit":o===i}]),key:i,oncreate:function(e){return Object(j.a)(e).mutation()},onclick:function(){r.afterItemClick(n)}},t)}),Ha=function(e){var t=e.actions,n=e.user,i=e.tabName,o=e.primaryKey,a=e.id;return g(Zo,{actions:t,user:n,dataName:i+"_data",primaryKey:o,primaryValue:a},g("div",{class:"avatar user-popover-trigger",style:{backgroundImage:'url("'+n.avatar.middle+'")'}}))},Ba=function(e){var t=e.content;return g("div",{class:"title mdui-text-color-theme-text",oncreate:Po(t),onupdate:Po(t)})},Ga=function(e){var t=e.snippet,n=e.updateTime,i=e.updateTimeDesc,o=e.replys;return g("div",{class:"content mdui-text-color-theme-secondary"},g("div",{class:"snippet",oncreate:Po(t,100),onupdate:Po(t,100)}),g("div",{class:"meta"},g("div",{class:"update_time",title:Zt(n)},i+" "+Xt(n)),g("div",{class:"replys"},o)))},Ka=function(e){var t=e.question,n=e.last_visit_id,i=e.tabName,o=e.actions;return g(Ua,{item:t,id:t.question_id,last_visit_id:n,path:"/questions/"+t.question_id,actions:o},g(Ha,{actions:o,user:t.relationships.user,tabName:i,primaryKey:"question_id",id:t.question_id}),g(Ba,{content:t.title}),g(Ga,{snippet:t.content_rendered,updateTime:t.answer_time||t.create_time,updateTimeDesc:t.answer_time?"回复于":"发布于",replys:t.answer_count+" 个回答"}))},za=function(e){var t=e.article,n=e.last_visit_id,i=e.tabName,o=e.actions;return g(Ua,{item:t,id:t.article_id,last_visit_id:n,path:"/articles/"+t.article_id,actions:o},g(Ha,{actions:o,user:t.relationships.user,tabName:i,primaryKey:"article_id",id:t.article_id}),g(Ba,{content:t.title}),g(Ga,{snippet:t.content_rendered,updateTime:t.create_time,updateTimeDesc:"发布于",replys:t.comment_count+" 条评论"}))},Fa=function(e){var t=e.answer,n=e.last_visit_id,i=e.tabName,o=e.actions;return g(Ua,{item:t,id:t.answer_id,last_visit_id:n,path:"/questions/"+t.question_id+"/answers/"+t.answer_id,actions:o},g(Ha,{actions:o,user:t.relationships.user,tabName:i,primaryKey:"answer_id",id:t.answer_id}),g(Ba,{content:t.relationships.question.title}),g(Ga,{snippet:t.content_rendered,updateTime:t.create_time,updateTimeDesc:"发布于",replys:t.comment_count+" 条评论"}))},Ya=(n(44),function(){return g("div",{class:"mdui-dialog-title"},"请选择话题",g("button",{class:"mdui-btn mdui-btn-icon mdui-ripple close","mdui-dialog-close":!0},g("i",{class:"mdui-icon material-icons"},"close")))}),Wa=function(e){var t=e.state,n=e.actions,i=t.topics_data,o=t.topics_pagination,a=t.topics_loading,r=t.editor_selected_topics,s=t.editor_selected_topic_ids,c=!a&&!i.length&&o,l=a,u=!a&&o&&o.page===o.pages,d=function(e){var t=e.topic,i=e.dataIndex;return g("label",{class:"mdui-list-item",key:t.topic_id},g("div",{class:"mdui-list-item-avatar"},g("img",{src:t.cover.small})),g("div",{class:"mdui-list-item-content"},g("div",{class:"mdui-list-item-title mdui-list-item-one-line"},t.name),g("div",{class:"mdui-list-item-text mdui-list-item-one-line"},t.description)),g("div",{class:"mdui-checkbox"},g("input",{type:"checkbox",checked:s.indexOf(t.topic_id)>-1,onchange:function(e){n.topicSelectorChange({event:e,dataIndex:i})}}),g("i",{class:"mdui-checkbox-icon"})))};return g("div",{key:"topic-selector",class:"mdui-dialog mc-topic-selector"},g(Ya,null),g("div",{class:"mdui-dialog-content"},g((function(){return r.length?g("div",{class:"selected",key:"selected"},r.map((function(e,t){return g(La,{topic:e,onRemove:function(){n.topicSelectorRemoveOne(t)}})}))):null}),null),g("div",{class:"mdui-list",key:"list"},i.map((function(e,t){return g(d,{topic:e,dataIndex:t})}))),g(ea,{show:c,title:"管理员未发布任何话题",description:"待管理员发布话题后，会显示在此处"}),g(So,{show:l}),g(Jo,{show:u})),g("div",{class:"mdui-dialog-actions"},g("button",{class:"mdui-btn mdui-ripple","mdui-dialog-confirm":!0},"确定")))},Qa=function(e,t){return function(n){var i=n.match;return g("div",{oncreate:t.onCreate,ondestroy:t.onDestroy,key:i.url,id:"page-questions",class:"mdui-container"},e.tabs.map((function(n){var i=!e[n+"_loading"]&&!e[n+"_data"].length&&e[n+"_pagination"],o=!e[n+"_loading"]&&e[n+"_pagination"]&&e[n+"_pagination"].page===e[n+"_pagination"].pages,a=e[n+"_loading"];return function(){return g("div",{id:n},e[n+"_data"].length?g("div",{class:"item-list mdui-card mdui-card-shadow"},e[n+"_data"].map((function(i){return g(Ka,{question:i,last_visit_id:e.last_visit_id,tabName:n,actions:t})}))):null,"recent"===n?g(ea,{show:i,title:"尚未发布任何问题",description:"此处会显示最近更新的问题",action:function(){t.editorOpen()},action_text:"发布问题"}):null,"popular"===n?g(ea,{show:i,title:"没有近期热门问题",description:"此处会显示近期最受欢迎的问题",action:function(){t.toRecent()},action_text:"查看最新问题"}):null,"following"===n?g(ea,{show:i,title:"尚未关注任何问题",description:"关注问题后，相应问题就会显示在此处",action:function(){t.toPopular()},action_text:"查看热门问题"}):null,g(So,{show:a}),g(Jo,{show:o}))}})),g("button",{class:Oo(["mdui-fab","mdui-fab-fixed","mdui-fab-extended","mdui-ripple","mdui-color-theme",{"mdui-hidden":e.editor_open}]),onclick:t.editorOpen},g("i",{class:"mdui-icon material-icons"},"add"),g("span",null,"提问题")),g(Pa,{id:"page-questions-editor",title:"新提问",withTitle:!0,withTopics:!0,onSubmit:t.publish,publishing:e.publishing,state:e,actions:t}),g(Wa,{state:e,actions:t}))}},Va=(n(45),n(46),function(e){var t=e.actions,n=e.user,i=e.time,o=e.dataName;void 0===o&&(o=null);var a=e.primaryKey;void 0===a&&(a=null);var r=e.primaryValue;return void 0===r&&(r=null),g("div",{class:"mc-user-line"},g(Zo,{actions:t,user:n,dataName:o,primaryKey:a,primaryValue:r},g(v,{class:"avatar user-popover-trigger",to:At("/users/"+n.user_id),style:{backgroundImage:'url("'+n.avatar.middle+'")'}}),g(v,{class:"username user-popover-trigger mdui-text-color-theme-text",to:At("/users/"+n.user_id)},n.username),g("div",{class:"headline mdui-text-color-theme-secondary"},fn(n.headline)),i?g("div",{class:"more"},g("span",{class:"time mdui-text-color-theme-secondary",title:Zt(i)},Xt(i))):null))}),Za=(n(47),function(e){return g("div",{class:"mc-topics-bar"},e.topics.map((function(e){return g(v,{to:At("/topics/"+e.topic_id),class:"mdui-chip mdui-ripple",key:e.topic_id},g("img",{class:"mdui-chip-icon",src:e.cover.small}),g("span",{class:"mdui-chip-title"},e.name))})))}),Xa=(n(48),function(e){var t=e.show,n=e.title,i=e.disabled,o=e.currentOrder,a=e.orders,r=e.onChangeOrder,s=e.key;void 0===s&&(s="");var c=e.closeBtnClick;return void 0===c&&(c=!1),g("div",{class:Oo(["mc-list-header",{"mdui-hidden":!t}])},g("div",{class:"title"},c?g("button",{class:"close mdui-btn mdui-btn-icon mdui-ripple",onclick:c},g("i",{class:"mdui-icon material-icons"},"close")):null,n),g("button",{class:"mdui-btn mdui-btn-dense","mdui-menu":"{target: '#mc-list-header-"+s+"', align: 'right'}",disabled:i},I(a,(function(e){var t=e.order,n=e.name;return t===o?n:null}))[0],a[o],g("i",{class:"mdui-icon mdui-icon-right material-icons mdui-text-color-theme-icon"},"arrow_drop_down")),g("ul",{class:"mdui-menu",id:"mc-list-header-"+s},a.map((function(e){var t=e.order,n=e.name;return g("li",{class:"mdui-menu-item",onclick:function(){return r(t)}},g("a",{href:"javascript:void(0)"},g("i",{class:"mdui-menu-item-icon mdui-icon material-icons"},o===t?"check":null),n))}))))}),Ja=(n(49),function(e){var t=e.path;return g("div",{class:"mc-nav"},g("button",{class:"back mdui-btn mdui-color-theme mdui-ripple",onclick:function(){return function(e){window.history.state?window.history.back():x.actions.go(At(e))}(t)}},g("i",{class:"mdui-icon mdui-icon-left material-icons"},"arrow_back"),"返回"))}),er=(n(50),function(e){var t=e.actions,n=e.item,i=e.type,o=e.commentIndex;return void 0===o&&(o=null),g("div",{class:"mc-vote"},g(Ho,{icon:"thumb_up",tooltip:"up"===n.relationships.voting?"取消顶":"顶一下",badge:n.vote_up_count,active:"up"===n.relationships.voting,onClick:function(){return t.voteUp({item:n,type:i,commentIndex:o})}}),g(Ho,{icon:"thumb_down",tooltip:"down"===n.relationships.voting?"取消踩":"踩一下",badge:n.vote_down_count,active:"down"===n.relationships.voting,onClick:function(){return t.voteDown({item:n,type:i,commentIndex:o})}}))}),tr=(n(51),function(e){var t=e.item,n=e.onClick;return g(Ho,{cls:"comment",icon:"comment",tooltip:"查看评论",badge:t.comment_count,onClick:n})}),nr=function(e){var t=e.answer,n=e.actions;return g("div",{class:"item",key:t.answer_id,oncreate:function(e){return Object(j.a)(e).mutation()}},g(Va,{actions:n,user:t.relationships.user,time:t.create_time,dataName:"answer_data",primaryKey:"answer_id",primaryValue:t.answer_id}),g("div",{class:"content mdui-typo",oncreate:$o(t.content_rendered),onupdate:$o(t.content_rendered)}),g("div",{class:"actions"},g(er,{actions:n,item:t,type:"answers"}),g(tr,{item:t,onClick:function(){k("comments_dialog_open",{commentable_type:"answer",commentable_id:t.answer_id})}}),g("div",{class:"flex-grow"}),g(Qo,{type:"answer",item:t})))},ir=function(e,t){return function(n){var i=n.match,o=0,a=Object(T.r)(i.params.answer_id)?"question":"answer";"answer"===a&&(o=parseInt(i.params.answer_id,10));var r=parseInt(i.params.question_id,10),s=e.question,c=e.loading,l=e.answer_data,u=e.answer_pagination,d=e.answer_loading,p=0;s&&(p=s.answer_count),u&&(p=u.total);var f=!d&&u&&!u.total,m=function(e){var t=e.count;return g(v,{class:"all-answers mdui-text-color-theme-text",to:At(e.url)},"查看全部 ",t," 个回答")};return g("div",{oncreate:function(){return t.onCreate({question_id:r,answer_id:o,route:a})},ondestroy:t.onDestroy,key:i.url,id:"page-question",class:"mdui-container"},g(Ja,{path:o?"/questions/"+r:"/questions"}),g("div",{class:"mdui-card mdui-card-shadow question"},s?[g("h1",{class:"title",oncreate:Po(s.title),onupdate:Po(s.title),key:"0"}),g(Va,{actions:t,user:s.relationships.user,time:s.create_time,dataName:"question",key:"1"}),g("div",{class:"mdui-typo content",oncreate:$o(s.content_rendered),onupdate:$o(s.content_rendered),key:"2"}),s.relationships.topics.length?g(Za,{topics:s.relationships.topics,key:"3"}):null,g("div",{class:"actions",key:"4"},g(Bo,{item:s,type:"question",actions:t}),g(tr,{item:s,onClick:function(){k("comments_dialog_open",{commentable_type:"question",commentable_id:r})}}),g("div",{class:"flex-grow"}),g(Qo,{type:"question",item:s,extraOptions:[{name:"查看 "+s.follower_count+" 位关注者",onClick:function(){k("users_dialog_open",{type:"question_followers",id:r})}}]}))]:null,g(So,{show:c})),"question"===a?[g(ea,{show:f,title:"尚未有人回答该问题",key:"0"}),g(Xa,{show:!f,title:"共 "+p+" 个回答",disabled:d,currentOrder:e.answer_order,orders:[{order:"-vote_count",name:"最热门"},{order:"create_time",name:"发布时间（从早到晚）"},{order:"-create_time",name:"发布时间（从晚到早）"}],onChangeOrder:t.changeOrder,key:"1"}),l&&l.length?g("div",{class:"mdui-card answers",key:"2"},l.map((function(e){return g(nr,{answer:e,actions:t})}))):null,g(Jo,{show:!d&&u&&u.page===u.pages,key:"3"})]:null,"answer"===a&&s?[g(m,{count:s.answer_count,url:"/questions/"+r,key:"0"}),g("div",{class:"mdui-card answers",key:"1"},g(nr,{answer:l[0],actions:t})),g(m,{count:s.answer_count,url:"/questions/"+r,key:"2"})]:null,g(So,{show:d}),g("button",{class:Oo(["mdui-fab","mdui-fab-fixed","mdui-fab-extended","mdui-ripple","mdui-color-theme",{"mdui-hidden":e.editor_open}]),onclick:t.editorOpen},g("i",{class:"mdui-icon material-icons"},"add"),g("span",null,"写回答")),g(Pa,{id:"page-question-editor",title:"写回答",withTitle:!1,withTopics:!1,onSubmit:t.publishAnswer,publishing:e.answer_publishing,state:e,actions:t}))}},or=(n(52),function(e,t){return function(n){var i=n.match;return g("div",{oncreate:t.onCreate,ondestroy:t.onDestroy,key:i.url,id:"page-articles",class:"mdui-container"},e.tabs.map((function(n){var i=!e[n+"_loading"]&&!e[n+"_data"].length&&e[n+"_pagination"],o=!e[n+"_loading"]&&e[n+"_pagination"]&&e[n+"_pagination"].page===e[n+"_pagination"].pages,a=e[n+"_loading"];return function(){return g("div",{id:n},e[n+"_data"].length?g("div",{class:"item-list mdui-card mdui-card-shadow"},e[n+"_data"].map((function(i){return g(za,{article:i,last_visit_id:e.last_visit_id,tabName:n,actions:t})}))):null,"recent"===n?g(ea,{show:i,title:"尚未发布任何文章",description:"此处会显示最近更新的文章",action:function(){t.editorOpen()},action_text:"写文章"}):null,"popular"===n?g(ea,{show:i,title:"没有近期热门文章",description:"此处会显示近期最受欢迎的文章",action:function(){t.toRecent()},action_text:"查看最新文章"}):null,"following"===n?g(ea,{show:i,title:"尚未关注任何文章",description:"关注文章后，相应文章就会显示在此处",action:function(){t.toPopular()},action_text:"查看热门文章"}):null,g(So,{show:a}),g(Jo,{show:o}))}})),g("button",{class:Oo(["mdui-fab","mdui-fab-fixed","mdui-fab-extended","mdui-ripple","mdui-color-theme",{"mdui-hidden":e.editor_open}]),onclick:t.editorOpen},g("i",{class:"mdui-icon material-icons"},"add"),g("span",null,"写文章")),g(Pa,{id:"page-article-editor",title:"新文章",withTitle:!0,withTopics:!0,onSubmit:t.publish,publishing:e.publishing,state:e,actions:t}),g(Wa,{state:e,actions:t}))}}),ar=(n(53),n(54),n(55),n(56),n(57),function(e){var t=e.submitting,n=e.onSubmit,i=e.onCreate;void 0===i&&(i=null);var o=e.placeholder;return void 0===o&&(o="写下你的评论..."),g("div",{class:"mdui-textfield new-comment",key:"new-comment",oncreate:i},g("textarea",{class:"mdui-textfield-input",placeholder:o,disabled:t}),g("button",{class:"submit mdui-btn mdui-btn-raised mdui-color-theme",onclick:n,disabled:t},t?"发布中":"发布"))}),rr=(n(58),function(e){var t=e.comment,n=e.commentIndex,i=e.actions;return g("div",{class:"item",key:t.comment_id,oncreate:function(e){return Object(j.a)(e).mutation()}},g(Va,{actions:i,user:t.relationships.user,time:t.create_time,dataName:"comments_data["+n+"].replies_data",primaryKey:"comment_id",primaryValue:t.comment_id}),g("div",{class:"content mdui-typo",oncreate:Uo(t.content),onupdate:Uo(t.content)}),g("div",{class:"actions"},g(er,{actions:i,item:t,commentIndex:n,type:"replies"}),g("div",{class:"flex-grow"}),g(Qo,{type:"comment",item:t})))}),sr=function(e){var t=e.comment,n=e.commentIndex,i=e.actions,o=!t.replies_loading&&t.replies_pagination&&t.replies_pagination.page===t.replies_pagination.pages,a=t.replies_loading;return g("div",{class:"item",key:t.comment_id,oncreate:function(e){return Object(j.a)(e).mutation()}},g(Va,{actions:i,user:t.relationships.user,time:t.create_time,dataName:"comments_data",primaryKey:"comment_id",primaryValue:t.comment_id}),g("div",{class:"content mdui-typo",oncreate:Uo(t.content),onupdate:Uo(t.content)}),g("div",{class:"actions"},g(er,{actions:i,item:t,type:"comments"}),g(Ho,{icon:"reply",tooltip:"发表回复",onClick:function(){i.toggleState({comment_id:t.comment_id,fieldName:"show_new_reply"})}}),g("div",{class:"flex-grow"}),g(Qo,{type:"comment",item:t})),t.show_new_reply?g(ar,{placeholder:"添加回复...",submitting:t.reply_submitting,onCreate:function(e){setTimeout((function(){return Object(j.a)(e).find("textarea")[0].focus()}))},onSubmit:function(e){var n=e.target;i.submitReply({target:n,comment:t})}}):null,t.reply_count?g("div",{class:Oo(["reply_count",{"show-replies":t.show_replies}]),onclick:function(){i.toggleState({comment_id:t.comment_id,fieldName:"show_replies"})}},g("i",{class:"mdui-icon material-icons"},"arrow_drop_down"),g("span",null,t.show_replies?"隐藏":"查看"," ",t.reply_count," ","条回复")):null,t.show_replies?g("div",{class:"replies"},t.replies_data.map((function(e){return g(rr,{comment:e,commentIndex:n,actions:i})})),g(So,{show:t.replies_loading}),g("div",{class:Oo(["reply_more",{"mdui-hidden":o||a}]),onclick:function(){i.loadReplies({comment:t})}},g("i",{class:"mdui-icon material-icons"},"subdirectory_arrow_right"),g("span",null,"显示更多回复"))):null)},cr=function(e){var t=e.commentable_type,n=e.commentable_id,i=e.isInDialog,o=e.state,a=e.actions,r=o.order,s=o.comments_data,c=o.pagination,l=o.loading,u=o.submitting,d=!l&&c&&!c.total,p=0;return c&&(p=c.total),g("div",{class:"mc-comments"},g(Xa,{show:!0,title:"共 "+p+" 条评论",disabled:l||u,currentOrder:r,key:"comments",orders:[{order:"create_time",name:"发布时间（从早到晚）"},{order:"-create_time",name:"发布时间（从晚到早）"},{order:"-vote_count",name:"最热门"}],onChangeOrder:a.changeOrder,closeBtnClick:!!i&&a.closeDialog}),g("div",{class:"comments-wrapper",oncreate:function(){a.onCreate({commentable_type:t,commentable_id:n,isInDialog:i})},ondestroy:function(){return a.onDestroy({isInDialog:i})}},g(ea,{show:d,title:"尚未有人发表评论"}),s&&s.length?g("div",{class:"mdui-card comments"},s.map((function(e,t){return g(sr,{comment:e,commentIndex:t,actions:a})}))):null,g(So,{show:l}),g(Jo,{show:!l&&c&&c.page===c.pages})),i?g(ar,{submitting:o.submitting,onSubmit:a.onSubmit}):null)},lr=function(e){var t=e.commentable_type,n=e.commentable_id;return function(e,i){var o=e.comments,a=i.comments;return g("div",{class:"mc-comments-page"},g(cr,{commentable_type:t,commentable_id:n,isInDialog:!1,state:o,actions:a}),g("div",{class:"new-comment-fixed",oncreate:function(e){new J.a.Headroom(e,{pinnedClass:"mdui-headroom-pinned-down",unpinnedClass:"mdui-headroom-unpinned-down"})}},g("div",{class:"mdui-container"},g(ar,{submitting:o.submitting,onSubmit:a.onSubmit}))))}},ur=function(e,t){return function(n){var i=n.match,o=parseInt(i.params.article_id,10),a=e.article,r=e.loading;return g("div",{oncreate:function(){return t.onCreate({article_id:o})},key:i.url,id:"page-article",class:"mdui-container"},g(Ja,{path:"/articles"}),g("div",{class:"mdui-card mdui-card-shadow article"},a?[g("h1",{class:"title",oncreate:Po(a.title),onupdate:Po(a.title),key:"0"}),g(Va,{actions:t,user:a.relationships.user,time:a.create_time,dataName:"article",key:"1"}),g("div",{class:"mdui-typo content",oncreate:$o(a.content_rendered),onupdate:$o(a.content_rendered),key:"2"}),a.relationships.topics.length?g(Za,{topics:a.relationships.topics,key:"3"}):null,g("div",{class:"actions",key:"4"},g(er,{actions:t,item:a,type:"article"}),g(Bo,{item:a,type:"article",actions:t}),g("div",{class:"flex-grow"}),g(Qo,{type:"article",item:a,extraOptions:[{name:"查看 "+a.follower_count+" 位关注者",onClick:function(){k("users_dialog_open",{type:"article_followers",id:o})}}]}))]:null,g(So,{show:r})),g(lr,{commentable_type:"article",commentable_id:o}))}},dr=(n(59),function(e,t){return function(n){var i=n.match;return g("div",{oncreate:t.onCreate,ondestroy:t.onDestroy,key:i.url,id:"page-topics",class:"mdui-container"},e.tabs.map((function(n){var i=!e[n+"_loading"]&&!e[n+"_data"].length&&e[n+"_pagination"],o=!e[n+"_loading"]&&e[n+"_pagination"]&&e[n+"_pagination"].page===e[n+"_pagination"].pages,a=e[n+"_loading"];return function(){return g("div",{id:n},!a&&e.following_data.length?g("div",{class:"subheading mdui-text-color-theme-secondary"},"following"===n?["已关注 ",e[n+"_pagination"].total," 个话题"]:null,"recommended"===n?"话题推荐":null):null,g("div",{class:"items-wrapper"},e[n+"_data"].map((function(e){return g(Go,{topic:e,actions:t})}))),"following"===n?g(ea,{show:i,title:"尚未关注任何话题",description:"关注话题后，相应话题就会显示在此处。",action:function(){t.toRecommended()},action_text:"查看精选话题"}):null,"recommended"===n?g(ea,{show:i,title:"管理员未发布任何话题",description:"待管理员发布话题后，会显示在此处"}):null,g(So,{show:a}),g(Jo,{show:o}))}})))}}),pr=(n(60),n(61),function(e){var t=e.topic,n=e.loading,i=e.actions;return g("div",{class:"mdui-card mdui-card-shadow topic"},t?[g("div",{class:"info",key:"0"},g("div",{class:"cover",style:{backgroundImage:'url("'+t.cover.small+'")'}}),g("div",{class:"main"},g("div",{class:"name",oncreate:Po(t.name),onupdate:Po(t.name)}),g("div",{class:"meta mdui-text-color-theme-secondary"},g("span",null,t.question_count," 个提问"),g("span",null,t.article_count," 篇文章")),g("div",{class:"description mdui-text-color-theme-secondary",oncreate:Po(t.description),onupdate:Po(t.description)}))),g("div",{class:"actions",key:"1"},g(Bo,{item:t,type:"topic",actions:i}),g("div",{class:"flex-grow"}),g(Qo,{type:"topic",item:t,extraOptions:[{name:"查看 "+t.follower_count+" 位关注者",onClick:function(){k("users_dialog_open",{type:"topic_followers",id:t.topic_id})}}]}))]:null,g(So,{show:n}))}),fr=(n(62),n(63),function(e){var t=e.items,n=e.centered;void 0===n&&(n=!1);var i=e.key;return void 0===i&&(i=null),g("div",{key:i,class:Oo(["mc-tab","mdui-tab",{"mdui-tab-centered":n}])},t.map((function(e){return e?g("a",{href:"#"+e.hash,class:"mdui-ripple"},e.name,Object(T.r)(e.count)?null:g("span",null,e.count)):null})))}),mr=function(e){var t=e.state,n=e.actions;return g("div",{class:"contexts mdui-card"},g(fr,{items:[{name:"提问",hash:"questions",count:t.topic?t.topic.question_count:0},{name:"文章",hash:"articles",count:t.topic?t.topic.article_count:0}]}),t.tabs.map((function(e){var i=t[e+"_pagination"],o=t[e+"_data"],a=t[e+"_order"],r=t[e+"_loading"],s=!r&&!o.length&&i,c=!r&&i&&i.page===i.pages;return function(){return g("div",{id:e},"questions"===e?g(Xa,{show:!s,title:"共 "+(i?i.total:0)+" 个提问",disabled:r,currentOrder:a,key:e,orders:[{order:"-update_time",name:"更新时间（从晚到早）"},{order:"update_time",name:"更新时间（从早到晚）"}],onChangeOrder:n.changeOrder}):null,"articles"===e?g(Xa,{show:!s,title:"共 "+(i?i.total:0)+" 篇文章",disabled:r,currentOrder:a,key:e,orders:[{order:"-update_time",name:"更新时间（从晚到早）"},{order:"update_time",name:"更新时间（从早到晚）"},{order:"-vote_count",name:"最热门"}],onChangeOrder:n.changeOrder}):null,o.length?g("div",{class:"item-list"},"questions"===e?o.map((function(i){return g(Ka,{question:i,last_visit_id:t.last_visit_question_id,tabName:e,actions:n})})):null,"articles"===e?o.map((function(i){return g(za,{article:i,last_visit_id:t.last_visit_article_id,tabName:e,actions:n})})):null):null,g(ea,{show:s,title:"该话题下没有"+("questions"===e?"提问":"文章")}),g(So,{show:r}),g(Jo,{show:c}))}})))},hr=function(e,t){return function(n){var i=n.match,o=parseInt(i.params.topic_id,10),a=e.topic,r=e.loading;return g("div",{oncreate:function(){return t.onCreate({topic_id:o})},ondestroy:t.onDestroy,key:i.url,id:"page-topic",class:"mdui-container"},g(Ja,{path:"/topics"}),g(pr,{topic:a,loading:r,actions:t}),g(mr,{state:e,actions:t}))}},gr=(n(64),n(65),function(e){var t=e.user,n=e.actions;return g("div",{class:"item-inner",key:t.user_id},g("div",{class:"item mdui-card"},g(v,{to:At("/users/"+t.user_id),class:"mdui-ripple info",onclick:function(){return n.afterItemClick(t)}},g("div",{class:"avatar",style:{backgroundImage:'url("'+t.avatar.large+'")'}}),g("div",{class:"username mdui-text-color-theme-text"},t.username),g("div",{class:"headline mdui-text-color-theme-secondary"},t.headline)),g("div",{class:"actions"},t.relationships.is_me?null:g(Bo,{item:t,type:"users",id:t.user_id,actions:n}),g("div",{class:"flex-grow"}),g(Qo,{type:"user",item:t}))))}),_r=function(e,t){return function(n){var i=n.match;return g("div",{oncreate:t.onCreate,ondestroy:t.onDestroy,key:i.url,id:"page-users",class:"mdui-container"},e.tabs.map((function(n){var i=!e[n+"_loading"]&&!e[n+"_data"].length&&e[n+"_pagination"],o=!e[n+"_loading"]&&e[n+"_pagination"]&&e[n+"_pagination"].page===e[n+"_pagination"].pages,a=e[n+"_loading"];return function(){return g("div",{id:n},!a&&e[n+"_data"].length?g("div",{class:"subheading mdui-text-color-theme-secondary"},"followees"===n?["已关注 ",e[n+"_pagination"].total," 人"]:null,"followers"===n?["关注者 ",e[n+"_pagination"].total," 人"]:null,"recommended"===n?"人员推荐":null):null,g("div",{class:"items-wrapper"},e[n+"_data"].map((function(e){return g(gr,{user:e,actions:t})}))),"followees"===n?g(ea,{show:i,title:"尚未关注任何用户",description:"关注用户后，相应用户就会显示在此处。",action:function(){t.toRecommended()},action_text:"查看推荐用户"}):null,"followers"===n?g(ea,{show:i,title:"你还没有关注者",description:"用户关注了你后，相应用户就会显示在此处。"}):null,"recommended"===n?g(ea,{show:i,title:"已关注所有用户",description:"你未关注的用户会显示再此处。"}):null,g(So,{show:a}),g(Jo,{show:o}))}})))}};n(66),n(67);function vr(){Object(j.a)(".mc-loading-overlay").length||(Object(j.a)('<div class="mc-loading-overlay"><div class="mdui-spinner mdui-spinner-colorful"></div></div>').appendTo(document.body).reflow().addClass("mc-loading-overlay-show"),setTimeout((function(){Object(j.a)(".mc-loading-overlay").mutation()}),0),j.a.lockScreen())}function br(){var e=Object(j.a)(".mc-loading-overlay");e.length&&e.removeClass("mc-loading-overlay-show").transitionEnd((function(){e.remove(),j.a.unlockScreen()}))}n(68);var wr,yr,Or,xr=function(e){var t=e.user;return g("div",{class:"mc-avatar-upload"},g("button",{onclick:function(e){Object(j.a)(e.currentTarget).next().val("").trigger("click")},class:"upload-btn mdui-btn mdui-btn-icon mdui-ripple",type:"button",title:"点击上传头像"},g("i",{class:"mdui-icon material-icons"},"photo_camera")),g("input",{onchange:function(e){return function(e,t){var n=e.target.files[0];return n.size>5242880?(J.a.snackbar("头像文件不能超过 5M"),void(e.target.value="")):["image/png","image/jpeg"].indexOf(n.type)<0?(J.a.snackbar("只能上传 png、jpg 格式的图片"),void(e.target.value="")):(vr(),void Object(vt.v)({avatar:n}).finally(br).then((function(e){var n=e.data;t.avatar=n,k("user_update",t)})).catch((function(e){200004!==e.code?Object(yt.a)(e):J.a.snackbar(e.extra_message)})))}(e,t)},type:"file",title:" ",accept:"image/jpeg,image/png"}))},jr=(n(69),function(e){var t=e.user;return g("div",{class:"mc-cover-upload"},g("button",{onclick:function(e){Object(j.a)(e.currentTarget).next().val("").trigger("click")},class:"upload-btn mdui-btn mdui-btn-icon mdui-ripple",type:"button",title:"点击上传封面"},g("i",{className:"mdui-icon material-icons"},"photo_camera")),g("input",{onchange:function(e){return function(e,t){var n=e.target.files[0];return n.size>5242880?(J.a.snackbar("封面文件不能超过 5M"),void(e.target.value="")):["image/png","image/jpeg"].indexOf(n.type)<0?(J.a.snackbar("只能上传 png、jpg 格式的图片"),void(e.target.value="")):(vr(),void Object(vt.w)({cover:n}).finally(br).then((function(e){var n=e.data;t.cover=n,k("user_update",t)})).catch((function(e){200004!==e.code?Object(yt.a)(e):J.a.snackbar(e.extra_message)})))}(e,t)},type:"file",title:" ",accept:"image/jpeg,image/png"}))}),Sr=function(e){var t=e.icon,n=e.text,i=e.tooltip,o=e.multiLine;void 0===o&&(o=!1);var a=o?Uo(n):Po(n);return g("div",{class:"meta"},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon","mdui-tooltip":"{content: '"+i+"', delay: 300}"},t),g("div",{class:Oo([{"mdui-typo":o}]),oncreate:a,onupdate:a}))},Er=function(e){var t=e.state,n=e.actions,i=e.is_me,o=t.interviewee;return g("div",{key:"user",class:"user mdui-card mdui-card-shadow"},g(So,{show:t.loading}),o?[g("div",{class:"cover",style:{backgroundImage:'url("'+o.cover.large+'")'},oncreate:function(e){setTimeout((function(){S.c.on("scroll",(function(){window.requestAnimationFrame((function(){e.style["background-position-y"]=window.pageYOffset/2+"px"}))})),window.scrollTo(0,.56*Object(j.a)(e).width()*.58)}))},key:"0"},i?g(jr,{user:o}):null),g("div",{class:"info",key:"1"},g("div",{class:"avatar-box"},i?g(xr,{user:o}):null,g("img",{src:o.avatar.large,class:"avatar"})),g("div",{class:Oo(["profile",{fold:t.profile_fold}])},g("div",{class:"meta username mdui-text-color-theme-text"},o.username),o.headline?g(Sr,{icon:"credit_card",text:o.headline,tooltip:"一句话介绍"}):null,o.blog?g(Sr,{icon:"insert_link",text:o.blog,tooltip:"个人主页"}):null,o.company?g(Sr,{icon:"location_city",text:o.company,tooltip:"所属学校或企业"}):null,o.location?g(Sr,{icon:"location_on",text:o.location,tooltip:"所在地区"}):null,o.bio?g(Sr,{icon:"description",text:o.bio,tooltip:"个人简介",multiLine:!0}):null,o.blog||o.company||o.location||o.bio?g("button",{class:"fold-button mdui-btn",onclick:function(){n.setState({profile_fold:!t.profile_fold})}},g("i",{class:"mdui-icon-left mdui-icon material-icons mdui-text-color-theme-icon"},t.profile_fold?"keyboard_arrow_down":"keyboard_arrow_up"),t.profile_fold?"查看":"收起","详细资料"):null)),g("div",{class:"actions",key:"2"},i?null:g(Bo,{item:o,type:"user",id:o.user_id,actions:n}),i?g("button",{class:"edit mdui-btn mdui-btn-icon mdui-btn-outlined","mdui-tooltip":"{content: '编辑个人资料', delay: 300}",onclick:n.updateUserInfo},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"edit")):null,g("div",{class:"follow"},g("button",{class:"followers mdui-btn mdui-text-color-theme-secondary",onclick:function(){k("users_dialog_open",{type:"followers",id:o.user_id})}},o.follower_count," 人关注"),g("div",{class:"divider"}),g("button",{class:"followees mdui-btn mdui-text-color-theme-secondary",onclick:function(){k("users_dialog_open",{type:"followees",id:o.user_id})}},"关注了 ",o.followee_count," 人")),g("div",{class:"flex-grow"}),g(Qo,{type:"user",item:o,extraOptions:i?[{name:"重置头像",onClick:n.deleteAvatar},{name:"重置封面",onClick:n.deleteCover}]:null}))]:null)},kr=(n(70),function(){return g("div",{class:"mdui-dialog-title"},g("button",{class:"mdui-btn mdui-btn-icon mdui-ripple close","mdui-dialog-close":!0},g("i",{class:"mdui-icon material-icons"},"close")),"编辑个人信息")}),Cr=function(e){var t=e.label,n=e.maxlength,i=e.name,o=e.value,a=e.type;return g("div",{class:"mdui-textfield mdui-textfield-floating-label",onupdate:function(e){return J.a.updateTextFields(e)}},g("label",{class:"mdui-textfield-label"},t),"text"===a?g("input",{class:"mdui-textfield-input",name:i,type:"text",maxlength:n,value:fn(o)}):null,"textfield"===a?g("textarea",{class:"mdui-textfield-input",name:i,maxlength:n,value:fn(o)}):null)},Tr=function(e){var t=e.user;return g("form",{class:"mdui-dialog-content"},g(Cr,{label:"一句话介绍",maxlength:40,name:"headline",value:t.headline,type:"text"}),g(Cr,{label:"个人主页",maxlength:80,name:"blog",value:t.blog,type:"text"}),g(Cr,{label:"所属学校或企业",maxlength:80,name:"company",value:t.company,type:"text"}),g(Cr,{label:"所在地区",maxlength:80,name:"location",value:t.location,type:"text"}),g(Cr,{label:"个人简介",maxlength:160,name:"bio",value:t.bio,type:"textfield"}))},Ir=function(e){var t=e.edit_info_submitting;return g("div",{class:"mdui-dialog-actions"},g("button",{class:"mdui-btn","mdui-dialog-close":!0},"取消"),g("button",{class:"mdui-btn","mdui-dialog-confirm":!0,disabled:t},t?"保存中":"确定"))},Nr=function(e){var t=e.user,n=e.edit_info_submitting;return g("div",{class:"mdui-dialog edit-info",oncreate:function(e){return Object(j.a)(e).mutation()}},g(kr,null),g(Tr,{user:t}),g(Ir,{edit_info_submitting:n}))},Rr=(n(71),function(e){var t=e.state,n=e.actions;return g("div",{class:"contexts mdui-card"},g(fr,{items:[{name:"提问",hash:"questions",count:t.interviewee?t.interviewee.question_count:0},{name:"回答",hash:"answers",count:t.interviewee?t.interviewee.answer_count:0},{name:"文章",hash:"articles",count:t.interviewee?t.interviewee.article_count:0}]}),t.tabs.map((function(e){var i=t[e+"_pagination"],o=t[e+"_data"],a=t[e+"_order"],r=t[e+"_loading"],s=!r&&!o.length&&i,c=!r&&i&&i.page===i.pages;return function(){return g("div",{id:e},"questions"===e?g(Xa,{show:!s,title:"共 "+(i?i.total:0)+" 个提问",disabled:r,currentOrder:a,key:e,orders:[{order:"-update_time",name:"更新时间（从晚到早）"},{order:"update_time",name:"更新时间（从早到晚）"}],onChangeOrder:n.changeOrder}):null,"articles"===e?g(Xa,{show:!s,title:"共 "+(i?i.total:0)+" 篇文章",disabled:r,currentOrder:a,key:e,orders:[{order:"-create_time",name:"发布时间（从晚到早）"},{order:"create_time",name:"发布时间（从早到晚）"},{order:"-vote_count",name:"最热门"}],onChangeOrder:n.changeOrder}):null,"answers"===e?g(Xa,{show:!s,title:"共 "+(i?i.total:0)+" 个回答",disabled:r,currentOrder:a,key:e,orders:[{order:"-create_time",name:"发布时间（从晚到早）"},{order:"create_time",name:"发布时间（从早到晚）"},{order:"-vote_count",name:"最热门"}],onChangeOrder:n.changeOrder}):null,o.length?g("div",{class:"item-list"},"questions"===e?o.map((function(i){return g(Ka,{question:i,last_visit_id:t.last_visit_question_id,tabName:e,actions:n})})):null,"articles"===e?o.map((function(i){return g(za,{article:i,last_visit_id:t.last_visit_article_id,tabName:e,actions:n})})):null,"answers"===e?o.map((function(i){return g(Fa,{answer:i,last_visit_id:t.last_visit_question_id,tabName:e,actions:n})})):null):null,g(ea,{show:s,title:"该用户没有发表"+("questions"===e?"提问":"articles"===e?"文章":"回答")}),g(So,{show:r}),g(Jo,{show:c}))}})))}),Dr=function(e,t){return function(n){var i=n.match,o=parseInt(i.params.user_id,10),a=e.user&&o===e.user.user_id;return g("div",{oncreate:function(){return t.onCreate({interviewee_id:o})},ondestroy:t.onDestroy,key:i.url,id:"page-user",class:"mdui-container"},g(Er,{state:e,actions:t,is_me:a}),g(Rr,{state:e,actions:t}),e.user?g(Nr,{user:e.user,edit_info_submitting:e.edit_info_submitting}):null)}},Mr=(n(72),n(73),n(74),function(e){return g("div",{key:"mc-loading",class:Oo(["mc-loading",{"mdui-hidden":!e.show}])},g("div",{class:"mdui-spinner",oncreate:function(e){return Object(j.a)(e).mutation()}}))}),qr=function(e){var t=e.notification,n=e.actions,i=function(e,t){return g("div",{class:"title mdui-text-color-theme-text"},t)},o=function(e){var n=e.content;if(!t.is_show_detail)return g("div",{class:"content",key:"summary",oncreate:Po(n,46),onupdate:Po(n,46)});if(t.is_loaded_detail){var i=["comment_deleted","question_commented","article_commented","answer_commented","comment_replies"].indexOf(t.type)>-1?Uo(t.content_detail):$o(t.content_detail);return g("div",{class:"content mdui-typo",key:"richtext",oncreate:i,onupdate:i})}return g("div",{class:"content",key:"loading"},g(Mr,{show:!0}))},a=function(){return g("div",{class:"mdui-btn mdui-btn-icon more",title:t.is_show_detail?"隐藏详细信息":"显示详细信息",onclick:function(){return n.toggleDetail(t)}},g("i",{class:"mdui-icon material-icons"},t.is_show_detail?"arrow_drop_up":"arrow_drop_down"))},r=function(){return g("div",{class:"mdui-btn mdui-btn-icon delete",title:"删除该通知",onclick:function(){return n.deleteOne(t)}},g("i",{class:"mdui-icon material-icons"},"close"))},s=function(e,t){return g("div",{class:"item"},g(r,null),t,g(a,null))},c=function(e,n){return g(s,null,n,g(o,{content:t.relationships.reply.content_summary}))},l=function(e,n){return g(s,null,n,g(o,{content:t.content_deleted.content}))},u=function(){return g(v,{to:At("/users/"+t.sender_id),class:"user"},t.relationships.sender.username)},d=function(){return g(v,{to:At("/questions/"+t.question_id),class:"question"},t.relationships.question?t.relationships.question.title:t.content_deleted.title)},p=function(){return g(v,{to:At("/articles/"+t.article_id),class:"article"},t.relationships.article?t.relationships.article.title:t.content_deleted.title)};switch(t.type){case"question_answered":return g(s,null,g(i,null,g(u,null)," 回答了你的提问 ",g(d,null)),g(o,{content:t.relationships.answer.content_summary}));case"question_commented":return g(s,null,g(i,null,g(u,null)," 评论了你的提问 ",g(d,null)),g(o,{content:t.relationships.comment.content_summary}));case"question_deleted":return g(s,null,g(i,null,"你的提问"," ",g("span",{class:"question deleted"},t.content_deleted.title)," ","已被删除"),g(o,{content:t.content_deleted.content_rendered}));case"article_commented":return g(s,null,g(i,null,g(u,null)," 评论了你的文章 ",g(p,null)),g(o,{content:t.relationships.comment.content_summary}));case"article_deleted":return g(s,null,g(i,null,"你的文章"," ",g("span",{class:"article deleted"},t.content_deleted.title)," ","已被删除"),g(o,{content:t.content_deleted.content_rendered}));case"answer_commented":return g(s,null,g(i,null,g(u,null)," 评论了你在提问 ",g(d,null)," 中的回答"),g(o,{content:t.relationships.comment.content_summary}));case"answer_deleted":return g(s,null,g(i,null,"你在提问 ",g(d,null)," 中的回答已被删除"),g(o,{content:t.content_deleted.content_rendered}));case"comment_replied":return t.answer_id&&t.question_id?g(c,null,g(i,null,g(u,null)," 回复了你在提问 ",g(d,null)," 的回答中的评论")):t.question_id?g(c,null,g(i,null,g(u,null)," 回复了你在提问 ",g(d,null)," 中的评论")):t.article_id?g(c,null,g(i,null,g(u,null)," 回复了你在文章 ",g(p,null)," 中的评论")):null;case"comment_deleted":return t.answer_id&&t.question_id?g(l,null,g(i,null,"你在提问 ",g(d,null)," 的回答中的评论已被删除")):t.question_id?g(l,null,g(i,null,"你在提问 ",g(d,null)," 中的评论已被删除")):t.article_id?g(l,null,g(i,null,"你在文章 ",g(p,null)," 中的评论已被删除")):null;default:return null}},Ar=function(e,t){return function(n){var i=n.match,o=!e.loading&&!e.data.length&&e.pagination,a=!e.loading&&e.pagination&&e.pagination.page===e.pagination.pages,r=e.loading;return g("div",{oncreate:t.onCreate,ondestroy:t.onDestroy,key:i.url,id:"page-notifications",class:"mdui-container"},bt()?[g(ea,{show:o,title:"没有你的通知",description:"此处会显示你所有的已读和未读通知",key:"0"}),e.data.length?g("div",{class:"item-list mdui-card mdui-card-shadow",key:"1"},e.data.map((function(e){return g(qr,{notification:e,actions:t})}))):null,bt()?null:g(ea,{show:!0,title:"登陆后才能查看通知",description:"登陆后，你的通知消息将会显示在此处",action:function(){k("login_open")},action_text:"登录",key:"2"}),g(So,{show:r,key:"3"}),g(Jo,{show:a,key:"4"})]:null)}},Lr=(n(75),n(76),n(77),function(e){var t=e.user;return g("div",{class:"user mdui-btn mdui-btn-icon mdui-btn-dense",title:"帐号："+t.username+"\n("+t.email+")",oncreate:function(e){wr=new J.a.Menu(e,"#appbar-avatar-popover",{covered:!1})}},g("img",{src:t.avatar.middle,width:"32",height:"32"}))}),$r=function(e){var t=e.user;return g("div",{class:"popover mdui-menu",id:"appbar-avatar-popover"},g("div",{class:"info"},g("div",{class:"avatar-box"},g(xr,{user:t}),g("img",{src:t.avatar.large,width:"96",height:"96"})),g("div",{class:"username"},t.username),g("div",{class:"email mdui-text-color-theme-secondary"},t.email),g("button",{class:"personal mdui-btn mdui-btn-dense mdui-btn-outlined mdui-color-theme mdui-ripple",onclick:function(){var e=At("/users/"+t.user_id);x.actions.go(e),wr.close()}},"个人资料")),g("div",{class:"bottom"},g("button",{onclick:function(){it("token","",-1),window.localStorage.removeItem("token"),window.location.reload()},class:"mdui-btn mdui-btn-dense mdui-btn-outlined mdui-color-theme mdui-ripple"},"退出")))},Pr=function(e){var t=e.user;return g("div",{class:"avatar"},g(Lr,{user:t}),g($r,{user:t}))},Ur=(n(78),function(e){var t=e.count;return g(v,{to:At("/notifications"),class:"notification mdui-btn mdui-btn-icon",title:(t?t+" 条":"没有")+"未读通知"},t?g("span",{class:"count"}):null,g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"notifications"))}),Hr=(n(79),function(){yr.addClass("focus")}),Br=function(){yr.removeClass("focus")},Gr=function(e){e.target.value?yr.addClass("not-empty"):yr.removeClass("not-empty")},Kr=function(){Or.val("").trigger("input")},zr=function(e){Object(j.a)(e.target).parents(".toolbar").removeClass("mobile")},Fr=function(e){var t="site:"+window.location.host+"%20"+e;if("third"===window.G_OPTIONS.search_type)switch(window.G_OPTIONS.search_third){case"google":return"https://www.google.com/search?q="+t;case"bing":return"https://www.bing.com/search?q="+t;case"baidu":return"https://www.baidu.com/s?ws="+t;case"sogou":return"https://www.sogou.com/web?query="+t;case"360":return"https://www.so.com/s?q="+t;default:return""}return""},Yr=function(e){e.preventDefault();var t=Or.val();if(t){var n=window.navigator.userAgent;n.indexOf("iPad")>-1||n.indexOf("Ipod")>-1||n.indexOf("iPhone")>-1?window.location.href=Fr(t):window.open(Fr(t),"_blank")}},Wr=function(){return g("form",{method:"get",class:"search-bar",oncreate:function(e){return function(e){yr=Object(j.a)(e),Or=yr.find("input")}(e)},onsubmit:Yr},g("button",{type:"button",class:"back mdui-btn mdui-btn-icon",onclick:zr},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"arrow_back")),g("button",{type:"submit",class:"submit mdui-btn mdui-btn-icon"},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"search")),g("input",{type:"text",placeholder:"搜索文章与问答",onfocus:Hr,onblur:Br,oninput:Gr}),g("button",{type:"button",class:"cancel mdui-btn mdui-btn-icon",onclick:Kr},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"close")))},Qr=(n(80),function(e){var t=Object(j.a)(e.target).parents(".toolbar");t.addClass("mobile"),t.find(".search-bar input")[0].focus()}),Vr=function(){return g("div",{class:"search-icon mdui-btn mdui-btn-icon",onclick:Qr},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"search"))},Zr=function(e){var t=e.interviewee;return g("div",{class:"title"},Pt()?"首页":Gt()||Bt()?"问答":Ht()||Ut()?"文章":zt()||Kt()?"话题":Yt()?"人脉":Ft()&&t?t.username:Lt("/inbox")?"私信":Wt()?"通知":null)},Xr=function(){return g("div",{class:"login mdui-btn mdui-btn-dense",onclick:function(){return k("login_open")}},"登录")},Jr=function(){return g("div",{class:"register mdui-btn mdui-btn-dense",onclick:function(){return k("register_open")}},"注册")},es=function(e){var t=e.user,n=e.interviewee,i=e.notifications;return g("div",{class:"toolbar mdui-toolbar"},g("button",{class:"drawer mdui-btn mdui-btn-icon mdui-ripple",oncreate:function(e){var t=Object(j.a)(".mc-drawer"),n=new J.a.Drawer(t,{swipe:!0});t.data("drawerInstance",n),Object(j.a)(e).on("click",(function(){return n.toggle()}))}},g("i",{class:"mdui-icon material-icons"},"menu")),g(v,{class:"headline",to:At("/")},window.G_OPTIONS.site_name),g(Zr,{interviewee:n}),g(Wr,null),g("div",{class:"mdui-toolbar-spacer"}),g(Vr,null),t?[g(Ur,{count:i.count,key:"0"}),g(Pr,{user:t,key:"1"})]:null,t?null:[g(Xr,{key:"0"}),g(Jr,{key:"1"})])},ts=function(e){var t=e.user;return Gt()?g(fr,{key:"questions",centered:!0,items:[{name:"最新",hash:"recent"},{name:"近期热门",hash:"popular"}].concat(t?{name:"已关注",hash:"following"}:null)}):Ht()?g(fr,{key:"articles",centered:!0,items:[{name:"最新",hash:"recent"},{name:"近期热门",hash:"popular"}].concat(t?{name:"已关注",hash:"following"}:null)}):t&&zt()?g(fr,{key:"topics",centered:!0,items:[{name:"已关注",hash:"following"},{name:"精选",hash:"recommended"}]}):t&&Yt()?g(fr,{key:"users",centered:!0,items:[{name:"已关注",hash:"followees"},{name:"关注者",hash:"followers"},{name:"找人",hash:"recommended"}]}):null},ns=function(e){var t=Object(j.a)(e).mutation(),n=new J.a.Headroom(t,{pinnedClass:"mdui-headroom-pinned-toolbar",unpinnedClass:"mdui-headroom-unpinned-toolbar"}),i=function(){S.c.width()<600?n.enable():n.disable()};S.c.on("resize",i),i(),t.on("click",(function(e){if(window.pageYOffset){var t=Object(j.a)(e.target);(t.is(".mdui-toolbar")||t.is("mdui-tab"))&&function(e){void 0===e&&(e=300);var t,n,i,o=window.scrollY||window.pageYOffset,a=document.body.getBoundingClientRect().top+o-o;window.requestAnimationFrame((function r(s){t||(t=s),i=jo(n=s-t,o,a,e),window.scrollTo(0,i),n<e?window.requestAnimationFrame(r):(window.scrollTo(0,o+a),t=!1)}))}()}}))},is=function(e){var t=e.user,n=e.interviewee,i=e.notifications;return g("div",{class:"mc-appbar mdui-appbar mdui-appbar-fixed",oncreate:function(e){return ns(e)}},g(es,{user:t,interviewee:n,notifications:i}),g(ts,{user:t}))},os=(n(81),window.G_OPTIONS),as=os.site_name,rs=os.site_icp_beian,ss=os.site_gongan_beian,cs=ss?ss.match(/\d+/)[0]:"",ls=function(e){var t=e.url,n=e.icon,i=e.title,o=e.active;return g(v,{to:At(t),class:Oo(["mdui-list-item","mdui-ripple",{"mdui-list-item-active":o}])},g("i",{class:"mdui-list-item-icon mdui-icon material-icons"},n),g("div",{class:"mdui-list-item-content"},i))},us=function(e){var t=e.user,n=e.interviewee;return g("div",{class:"mc-drawer mdui-drawer"},g("div",{class:"mdui-list"},g(ls,{url:"/",icon:"home",title:"首页",active:Pt()}),g(ls,{url:"/topics",icon:"class",title:"话题",active:zt()||Kt()}),g(ls,{url:"/questions",icon:"forum",title:"问答",active:Gt()||Bt()}),g(ls,{url:"/articles",icon:"description",title:"文章",active:Ht()||Ut()}),g("div",{class:"mdui-divider"}),t?g(ls,{url:"/users/"+t.user_id,icon:"account_circle",title:"个人资料",active:Ft()&&n&&t.user_id===n.user_id}):null,g(ls,{url:"/users",icon:"people",title:"人脉",active:Yt()||Ft()&&(!t||n&&t.user_id!==n.user_id)}),t?g(ls,{url:"/notifications",icon:"notifications",title:"通知",active:Wt()}):null),g("div",{class:"copyright"},rs?g("p",null,g("a",{href:"http://www.beian.miit.gov.cn/",target:"_blank"},rs)):null,ss?g("p",null,g("a",{href:"http://www.beian.gov.cn/portal/registerSystemInfo?recordcode="+cs,target:"_blank"},ss)):null,g("p",null,"© ",(new Date).getFullYear()," ",as),g("p",null,"Powered by"," ",g("a",{href:"https://mdui.org",target:"_blank"},"MDUI")," ","&"," ",g("a",{href:"https://mdclub.org",target:"_blank"},"MDClub"))))},ds=(n(82),function(e){var t=e.onClick,n=e.icon;return g("button",{onclick:t,class:Oo(["mdui-btn","mdui-btn-icon",n])},g("i",{class:"mdui-icon material-icons"},n))}),ps=function(e){return g("div",{class:"mdui-dialog-title"},e.text)},fs=function(e){var t=e.value,n=e.message,i=e.label,o=e.name,a=e.error,r=e.onInput;return g("div",{class:Oo(["mdui-textfield","mdui-textfield-floating-label","mdui-textfield-has-bottom",{"mdui-textfield-invalid":n,"mdui-textfield-not-empty":t}])},g("label",{class:"mdui-textfield-label"},i),g("input",{oninput:r,value:t,class:"mdui-textfield-input",name:o,type:"text",required:"required"}),g("div",{class:"mdui-textfield-error"},a))},ms=function(e){var t=e.value,n=e.message,i=e.label,o=e.name,a=e.onInput;return g("div",{class:Oo(["mdui-textfield","mdui-textfield-floating-label","mdui-textfield-has-bottom",{"mdui-textfield-invalid":n,"mdui-textfield-not-empty":t}])},g("label",{class:"mdui-textfield-label"},i),g("input",{oninput:a,value:t,class:"mdui-textfield-input",name:o,type:"password",required:"required"}),g("div",{class:"mdui-textfield-error"},n||"密码不能为空"))},hs=function(e){var t=e.value,n=e.message,i=e.image,o=e.hide,a=e.onInput,r=e.onRefresh;return g("div",{class:Oo(["mdui-textfield","mdui-textfield-floating-label","mdui-textfield-has-bottom","captcha-field",{"mdui-textfield-invalid":n,"mdui-textfield-not-empty":t,"mdui-hidden":o}])},g("label",{class:"mdui-textfield-label"},"图形验证码"),g("input",{oninput:a,value:t,class:"mdui-textfield-input",name:"captcha_code",type:"text",autocomplete:"off",required:!o}),g("div",{class:"mdui-textfield-error"},n||"请输入图形验证码"),g("img",{class:"captcha-image",src:i,title:"点击刷新验证码",onclick:r}))},gs=function(e){return g("button",{type:"submit",class:"mdui-btn mdui-btn-raised mdui-color-theme action-btn",disabled:e.disabled},e.text)},_s=function(){return g("button",{class:"mdui-btn mdui-ripple more-option",type:"button","mdui-menu":"{target: '#mc-login-menu', position: 'top', covered: true}"},"更多选项",g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"arrow_drop_down"))},vs=function(e){var t=e.actions;return g("ul",{class:"mdui-menu",id:"mc-login-menu"},g("li",{class:"mdui-menu-item"},g("a",{onclick:t.toReset,class:"mdui-ripple"},"忘记密码")),g("li",{class:"mdui-menu-item"},g("a",{onclick:t.toRegister,class:"mdui-ripple"},"创建新账号")))},bs=function(e){var t=e.state,n=e.actions;return g("div",{class:"actions mdui-clearfix"},g(_s,null),g(vs,{actions:n}),g(gs,{disabled:t.submitting,text:t.submitting?"登录中…":"登录"}))},ws=function(e){var t=e.state,n=e.actions;return g("div",{oncreate:function(e){return n.onCreate({element:e})},key:"login",class:"mc-account mc-login mdui-dialog"},g(ds,{onClick:n.close,icon:"close"}),g(ps,{text:"登录"}),g("form",{onsubmit:n.login},g(fs,{value:t.name,message:t.name_msg,label:"用户名或邮箱",name:"name",error:t.name_msg||"账号不能为空",onInput:n.onInput}),g(ms,{value:t.password,message:t.password_msg,label:"密码",name:"password",onInput:n.onInput}),g(hs,{value:t.captcha_code,message:t.captcha_code_msg,image:t.captcha_image,hide:!t.captcha_token,onInput:n.onInput,onRefresh:n.refreshCaptcha}),g(bs,{state:t,actions:n})))},ys=(n(83),function(){return g("i",{class:"mdui-icon material-icons avatar"},"account_circle")}),Os=function(e){var t=e.value,n=e.message,i=e.onInput;return g("div",{class:Oo(["mdui-textfield","mdui-textfield-floating-label","mdui-textfield-has-bottom",{"mdui-textfield-invalid":n,"mdui-textfield-not-empty":t}])},g("label",{class:"mdui-textfield-label"},"邮箱"),g("input",{oninput:i,value:t,class:"mdui-textfield-input",name:"email",type:"email",required:"required"}),g("div",{class:"mdui-textfield-error"},n||"邮箱格式错误"))},xs=function(e){var t=e.value,n=e.message,i=e.sending,o=e.show_resend_countdown,a=e.resend_countdown,r=e.onInput,s=e.onSend;return g("div",{class:Oo(["mdui-textfield","mdui-textfield-floating-label","mdui-textfield-has-bottom","send-email-field",{"mdui-textfield-invalid":n,"mdui-textfield-not-empty":t}])},g("labe",{class:"mdui-textfield-label"},"邮件验证码"),g("input",{oninput:r,value:t,class:"mdui-textfield-input",name:"email_code",type:"text",autocomplete:"off",required:"required"}),g("div",{class:"mdui-textfield-error"},n||"验证码不能为空"),g("button",{onclick:s,class:"mdui-btn send-email",type:"button",disabled:i||o},o?a+"s":function(e){return e?"发送中…":"发送验证码"}(i)))},js=function(e){return g("div",{class:"mdui-btn mdui-ripple more-option",onclick:e.actions.toLogin},"已有账号？")},Ss=function(e){var t=e.state,n=e.actions;return g("div",{class:"actions"},g(js,{actions:n}),g(gs,{disabled:t.verifying,text:t.verifying?"正在验证…":"下一步"}))},Es=function(e){var t=e.state;return g("div",{class:"actions mdui-clearfix"},g(gs,{disabled:t.submitting,text:t.submitting?"注册中…":"注册"}))},ks=function(e){var t=e.state,n=e.actions;return g("div",{oncreate:function(e){return n.onCreate({element:e})},key:"register",class:"mc-account mc-register mdui-dialog"},g(ds,{onClick:t.email_valid?n.prevStep:n.close,icon:t.email_valid?"arrow_back":"close"}),t.email_valid?g(ys,null):null,g(ps,{text:t.email_valid?t.email:"创建新账号"}),g("form",{onsubmit:n.nextStep,class:Oo([{"mdui-hidden":t.email_valid}]),key:"send"},g(Os,{value:t.email,message:t.email_msg,onInput:n.onInput}),g(hs,{value:t.captcha_code,message:t.captcha_code_msg,image:t.captcha_image,hide:!t.captcha_token,onInput:n.onInput,onRefresh:n.refreshCaptcha}),g(xs,{value:t.email_code,message:t.email_code_msg,sending:t.sending,show_resend_countdown:t.show_resend_countdown,resend_countdown:t.resend_countdown,onInput:n.onInput,onSend:n.sendEmail}),g(Ss,{state:t,actions:n})),g("form",{onsubmit:n.register,class:Oo([{"mdui-hidden":!t.email_valid}]),key:"submit"},g(fs,{value:t.username,message:t.username_msg,label:"用户名",name:"username",error:t.username_msg||"用户名不能为空",onInput:n.onInput}),g(ms,{value:t.password,message:t.password_msg,label:"密码",name:"password",onInput:n.onInput}),g(Es,{state:t})))},Cs=(n(84),function(){return g("button",{type:"button",class:"mdui-btn mdui-ripple more-option","mdui-menu":"{target: '#mc-password-reset-menu', position: 'top', covered: true}"},"更多选项",g("i",{className:"mdui-icon material-icons mdui-text-color-theme-icon"},"arrow_drop_down"))}),Ts=function(e){var t=e.actions;return g("ul",{class:"mdui-menu",id:"mc-password-reset-menu"},g("li",{class:"mdui-menu-item"},g("a",{onclick:t.toLogin,class:"mdui-ripple"},"登录账号")),g("li",{class:"mdui-menu-item"},g("a",{onclick:t.toRegister,class:"mdui-ripple"},"创建新账号")))},Is=function(e){var t=e.state,n=e.actions;return g("div",{class:"actions"},g(Cs,null),g(Ts,{actions:n}),g(gs,{disabled:t.verifying,text:t.verifying?"正在验证…":"下一步"}))},Ns=function(e){var t=e.state;return g("div",{class:"actions mdui-clearfix"},g(gs,{disabled:t.submitting,text:t.submitting?"提交中…":"提交"}))},Rs=function(e){var t=e.state,n=e.actions;return g("div",{oncreate:function(e){return n.onCreate({element:e})},key:"reset",class:"mc-account mc-reset mdui-dialog"},g(ds,{onClick:t.email_valid?n.prevStep:n.close,icon:t.email_valid?"arrow_back":"close"}),t.email_valid?g(ys,null):null,g(ps,{text:t.email_valid?t.email:"重置密码"}),g("form",{onsubmit:n.nextStep,class:Oo([{"mdui-hidden":t.email_valid}]),key:"verify"},g(Os,{value:t.email,message:t.email_msg,onInput:n.onInput}),g(hs,{value:t.captcha_code,message:t.captcha_code_msg,image:t.captcha_image,hide:!t.captcha_token,onInput:n.onInput,onRefresh:n.refreshCaptcha}),g(xs,{value:t.email_code,message:t.email_code_msg,sending:t.sending,show_resend_countdown:t.show_resend_countdown,resend_countdown:t.resend_countdown,onInput:n.onInput,onSend:n.sendEmail}),g(Is,{state:t,actions:n})),g("form",{onsubmit:n.submit,class:Oo([{"mdui-hidden":!t.email_valid}]),key:"submit"},g(ms,{value:t.password,message:t.password_msg,label:"新密码",name:"password",onInput:n.onInput}),g(ms,{value:t.password_repeat,message:t.password_repeat_msg,label:"重复新密码",name:"password_repeat",onInput:n.onInput}),g(Ns,{state:t})))},Ds=(n(85),function(e){var t=e.state;return g("div",{class:"mdui-dialog-title"},g("button",{class:"close mdui-btn mdui-btn-icon mdui-ripple","mdui-dialog-close":!0},g("i",{class:"mdui-icon material-icons"},"close")),t.pagination?"followees"===t.type?["关注了 ",t.pagination.total," 人"]:[t.pagination.total," 位关注者"]:null)}),Ms=function(e){var t=e.item,n=e.actions;return g("div",{class:"item"},g("div",{class:"mdui-list-item mdui-ripple",key:t.user_id,onclick:function(){return n.onItemClick(t.user_id)}},g("div",{class:"mdui-list-item-avatar"},g("img",{src:t.avatar.middle})),g("div",{class:"mdui-list-item-content"},t.username)),t.relationships.is_me?null:g(Bo,{item:t,type:"users_dialog",id:t.user_id,actions:n}))},qs=function(e){var t=e.state,n=e.actions,i=!t.loading&&!t.data.length&&t.pagination,o=t.loading,a=!t.loading&&t.pagination&&t.pagination.page===t.pagination.pages;return g("div",{key:"users-dialog",class:"mdui-dialog mc-users-dialog",oncreate:function(e){return n.onCreate({element:e})}},g(Ds,{state:t}),g("div",{class:"mdui-dialog-content"},g("div",{class:"mdui-list"},t.data.map((function(e){return g(Ms,{item:e,actions:n})}))),g(ea,{show:i,title:"followees"===t.type?"尚未关注任何用户":"没有任何关注者"}),g(So,{show:o}),g(Jo,{show:a})))},As=(n(86),function(e){var t=e.state,n=e.actions,i=function(e){var i=e.reason;return g("label",{class:"mdui-list-item"},g("div",{class:"mdui-radio"},g("input",{type:"radio",name:"reason",value:i,checked:i===t.reason,onchange:function(e){return n.onChange(e)}}),g("i",{class:"mdui-radio-icon"})),g("div",{class:"mdui-list-item-content"},i))};return g("div",{oncreate:function(e){return n.onCreate({element:e})},key:"report-dialog",class:"mc-report-dialog mdui-dialog"},g("div",{class:"mdui-dialog-title"},g("span",null,"举报"),g("button",{class:"mdui-btn mdui-btn-icon mdui-ripple",onclick:n.close},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"close"))),g("form",{class:"mdui-dialog-content",method:"post"},g("div",{class:"mdui-list"},g(i,{reason:"垃圾广告信息"}),g(i,{reason:"不友善行为"}),g(i,{reason:"有害信息"}),g(i,{reason:"涉嫌侵权"}),g(i,{reason:"诱导赞同、关注等行为"}),g(i,{reason:"其他原因"}),g("div",{class:Oo(["mdui-textfield",{"mdui-hidden":"其他原因"!==t.reason}])},g("textarea",{class:"custom-reason mdui-textfield-input",placeholder:"请输入原因"})))),g("div",{class:"mdui-dialog-actions"},g("button",{class:"mdui-btn mdui-ripple","mdui-dialog-cancel":!0},"取消"),g("button",{class:"mdui-btn mdui-ripple","mdui-dialog-confirm":!0},"举报")))}),Ls=(n(87),function(e){var t=e.name,n=e.svg;return g("div",{class:"mdui-list-item mdui-ripple",onclick:e.onClick},g("img",{src:window.G_ROOT+"/static/theme/material/"+n}),g("div",{class:"mdui-list-item-content"},t))}),$s=function(e){var t=e.actions;return g("div",{oncreate:function(e){return t.onCreate({element:e})},key:"share-dialog",class:"mc-share-dialog mdui-dialog"},g("div",{class:"mdui-dialog-title"},g("span",null,"分享"),g("button",{class:"mdui-btn mdui-btn-icon mdui-ripple",onclick:t.close},g("i",{class:"mdui-icon material-icons mdui-text-color-theme-icon"},"close"))),g("div",{class:"mdui-dialog-content"},g("div",{class:"mdui-list"},g(Ls,{name:"微博",svg:"./4a718302573d384b438fc47f8a3c5031.svg",onClick:t.shareToWeibo}),g(Ls,{name:"Facebook",svg:"./4fb701ba006326e351298a120baa1284.svg",onClick:t.shareToFacebook}),g(Ls,{name:"Twitter",svg:"./0a3424f1a2cc42d9637f8ab1f9d55733.svg",onClick:t.shareToTwitter}))))},Ps=(n(88),function(e){var t=e.state,n=e.actions;return g("div",{class:Oo(["mc-comments-dialog","mdui-dialog",{"mdui-dialog-open":t.open_dialog}])},g(cr,{commentable_type:"",commentable_id:0,isInDialog:!0,state:t,actions:n}))}),Us=function(e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){return k("layout_update",e.matches?"dark":"light")};k("layout_update",t.matches?"dark":"light"),Object(T.r)(t.addEventListener)?Object(T.r)(t.addListener)||t.addListener(n):t.addEventListener("change",n);var i=function(){var e;(void 0===e&&(e={}),Object(at.b)(Object(rt.b)("/notifications/count",e,["type"]))).then((function(e){k("notification_count_update",e.data.notification_count)}))};e&&(setInterval(i,3e4),i())},Hs=function(e,t){var n,i,o=["mdui-appbar-with-toolbar","mg-app"];return(Gt()||Ht()||zt()&&e.user.user||Yt()&&e.user.user)&&o.push("mdui-appbar-with-tab"),S.a["dark"===e.theme.layout?"addClass":"removeClass"]("mdui-theme-layout-dark"),g("div",{class:Oo(o),oncreate:function(){Us(e.user.user)}},g(is,{user:e.user.user,interviewee:e.user.interviewee,notifications:e.notifications}),g(us,{user:e.user.user,interviewee:e.user.interviewee}),g(O,{path:At("/"),render:(n=e.index,i=t.index,function(e){var t=e.match;return g("div",{oncreate:i.onCreate,ondestroy:i.onDestroy,key:t.url,id:"page-index",class:"mdui-container"},g(xo,{title:"推荐话题",url:"/topics#recommended"}),g(Yo,{state:n,actions:i}),g("div",{class:"items-wrapper"},g(Xo,{title:"最近更新提问",items:n.questions_recent_data,primaryKey:"question_id",dataName:"questions_recent_data",loading:n.questions_recent_loading,url:"/questions",actions:i}),g(Xo,{title:"最近热门提问",items:n.questions_popular_data,primaryKey:"question_id",dataName:"questions_popular_data",loading:n.questions_popular_loading,url:"/questions#popular",actions:i})),g("div",{class:"items-wrapper"},g(Xo,{title:"最新文章",items:n.articles_recent_data,primaryKey:"article_id",dataName:"articles_recent_data",loading:n.articles_recent_loading,url:"/articles",actions:i}),g(Xo,{title:"最近热门文章",items:n.articles_popular_data,primaryKey:"article_id",dataName:"articles_popular_data",loading:n.articles_popular_loading,url:"/articles#popular",actions:i})))})}),g(O,{path:At("/questions"),render:Qa(e.questions,t.questions)}),g(O,{path:At("/questions/:question_id"),render:ir(e.question,t.question)}),g(O,{path:At("/questions/:question_id/answers/:answer_id"),render:ir(e.answer,t.answer)}),g(O,{path:At("/articles"),render:or(e.articles,t.articles)}),g(O,{path:At("/articles/:article_id"),render:ur(e.article,t.article)}),g(O,{path:At("/topics"),render:dr(e.topics,t.topics)}),g(O,{path:At("/topics/:topic_id"),render:hr(e.topic,t.topic)}),g(O,{path:At("/users"),render:_r(e.users,t.users)}),g(O,{path:At("/users/:user_id"),render:Dr(e.user,t.user)}),g(O,{path:At("/notifications"),render:Ar(e.notifications,t.notifications)}),e.user.user?null:[g(ws,{state:e.login,actions:t.login,key:"0"}),g(ks,{state:e.register,actions:t.register,key:"1"}),g(Rs,{state:e.reset,actions:t.reset,key:"2"})],g(qs,{state:e.usersDialog,actions:t.usersDialog}),g(As,{state:e.reportDialog,actions:t.reportDialog}),g($s,{state:e.shareDialog,actions:t.shareDialog}),g(Ps,{state:e.comments,actions:t.comments}))};var Bs=function(e){E("user_update",(function(t){e.user.setState({user:t})})),E("layout_update",(function(t){e.theme.setLayout(t)})),E("route_update",(function(){if(window.scrollTo(0,0),Object(j.a)(".mdui-tooltip").remove(),window.innerWidth<1024){var t=Object(j.a)(".mc-drawer").data("drawerInstance");t&&t.close()}e.login.close(),e.register.close(),e.reset.close(),e.usersDialog.close(),e.comments.closeDialog(),e.reportDialog.close(),e.shareDialog.close()})),E("login_open",(function(){e.login.open()})),E("register_open",(function(){e.register.open()})),E("reset_open",(function(){e.reset.open()})),E("users_dialog_open",(function(t){e.usersDialog.open(t)})),E("share_dialog_open",(function(t){e.shareDialog.open(t)})),E("report_dialog_open",(function(t){e.reportDialog.open(t)})),E("users_follow_updated",(function(){e.users.followUpdate()})),E("topics_follow_updated",(function(){e.topics.followUpdate()})),E("questions_follow_updated",(function(){e.questions.followUpdate()})),E("articles_follow_updated",(function(){e.articles.followUpdate()})),E("question_updated",(function(t){e.questions.questionUpdate(t)})),E("notification_count_update",(function(t){e.notifications.updateCount(t)})),E("comments_dialog_open",(function(t){e.comments.openDialog(t)}))};Object(j.a)((function(){document.body.innerHTML="",window.app=_(wo,co,Hs,document.body),Bs(window.app),x.subscribe(window.app.location);var e=window.G_USER;e&&(k("user_update",e),window.G_USER=null)}))}]);
//# sourceMappingURL=index.38dcdfb8.js.map